"use strict";(self.webpackChunkcre_crm_client=self.webpackChunkcre_crm_client||[]).push([[3200],{1943:(e,t,n)=>{n.d(t,{A:()=>i,j:()=>r});var s=n(94505);const r={getLeases:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams(e).toString(),n="/leases".concat(t?"?".concat(t):"");return(await s.Ay.get(n)).data}catch(t){throw console.error("Error fetching leases:",t),t}},getLease:async e=>{try{return(await s.Ay.get("/leases/".concat(e))).data}catch(t){throw console.error("Error fetching lease:",t),t}},createLease:async e=>{try{return(await s.Ay.post("/leases",e)).data}catch(t){throw console.error("Error creating lease:",t),t}},updateLease:async(e,t)=>{try{return(await s.Ay.put("/leases/".concat(e),t)).data}catch(n){throw console.error("Error updating lease:",n),n}},deleteLease:async e=>{try{return(await s.Ay.delete("/leases/".concat(e))).data}catch(t){throw console.error("Error deleting lease:",t),t}},getExpiringLeases:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:90;try{return(await s.Ay.get("/leases/expiring/soon?days=".concat(e))).data}catch(t){throw console.error("Error fetching expiring leases:",t),t}}},i=r},16314:(e,t,n)=>{n.d(t,{A:()=>i,m:()=>r});var s=n(94505);const r={getDebts:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams(e).toString(),n="/debt".concat(t?"?".concat(t):"");return(await s.Ay.get(n)).data}catch(t){throw console.error("Error fetching debt records:",t),t}},getDebt:async e=>{try{return(await s.Ay.get("/debt/".concat(e))).data}catch(t){throw console.error("Error fetching debt record:",t),t}},createDebt:async e=>{try{return(await s.Ay.post("/debt",e)).data}catch(t){throw console.error("Error creating debt record:",t),t}},updateDebt:async(e,t)=>{try{return(await s.Ay.put("/debt/".concat(e),t)).data}catch(n){throw console.error("Error updating debt record:",n),n}},deleteDebt:async e=>{try{return(await s.Ay.delete("/debt/".concat(e))).data}catch(t){throw console.error("Error deleting debt record:",t),t}},getMaturingDebts:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:180;try{return(await s.Ay.get("/debt/maturing/soon?days=".concat(e))).data}catch(t){throw console.error("Error fetching maturing debts:",t),t}}},i=r},16597:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(65043);const r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{threshold:t=.1,rootMargin:n="0px",triggerOnce:r=!0,initialVisible:i=!1}=e,a=(0,s.useRef)(null),[l,o]=(0,s.useState)(i);return(0,s.useEffect)(()=>{const e=new IntersectionObserver(t=>{let[n]=t;n.isIntersecting?(o(!0),r&&a.current&&e.unobserve(a.current)):r||o(!1)},{threshold:t,rootMargin:n}),s=a.current;return s&&e.observe(s),()=>{s&&e.unobserve(s)}},[t,n,r]),[a,l]}},53831:(e,t,n)=>{n.d(t,{Qv:()=>h,x_:()=>x});n(65043);var s=n(28076),r=n(10039),i=n(78185),a=n(96446),l=n(68903),o=n(12110),c=n(26494),d=n(70579);const x=e=>{let{rows:t=5}=e;return(0,d.jsx)(d.Fragment,{children:[...Array(t)].map((e,t)=>(0,d.jsxs)(s.A,{children:[(0,d.jsx)(r.A,{children:(0,d.jsx)(i.A,{variant:"text",width:"80%",height:24,animation:"wave"})}),(0,d.jsx)(r.A,{children:(0,d.jsx)(i.A,{variant:"text",width:"90%",height:24,animation:"wave"})}),(0,d.jsx)(r.A,{children:(0,d.jsx)(i.A,{variant:"text",width:"70%",height:24,animation:"wave"})}),(0,d.jsx)(r.A,{children:(0,d.jsx)(i.A,{variant:"text",width:"60%",height:24,animation:"wave"})}),(0,d.jsx)(r.A,{align:"right",children:(0,d.jsxs)(a.A,{sx:{display:"flex",gap:1,justifyContent:"flex-end"},children:[(0,d.jsx)(i.A,{variant:"circular",width:32,height:32,animation:"wave"}),(0,d.jsx)(i.A,{variant:"circular",width:32,height:32,animation:"wave"})]})})]},t))})},h=e=>{let{count:t=6}=e;return(0,d.jsx)(l.Ay,{container:!0,spacing:3,children:[...Array(t)].map((e,t)=>(0,d.jsx)(l.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,d.jsx)(o.A,{sx:{height:"100%",borderRadius:3,boxShadow:"0 4px 6px rgba(0,0,0,0.07)"},children:(0,d.jsxs)(c.A,{sx:{p:3},children:[(0,d.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,d.jsx)(i.A,{variant:"circular",width:48,height:48,animation:"wave",sx:{mr:2}}),(0,d.jsxs)(a.A,{sx:{flex:1},children:[(0,d.jsx)(i.A,{variant:"text",width:"70%",height:28,animation:"wave",sx:{mb:.5}}),(0,d.jsx)(i.A,{variant:"text",width:"50%",height:20,animation:"wave"})]})]}),(0,d.jsxs)(a.A,{sx:{mb:2},children:[(0,d.jsx)(i.A,{variant:"text",width:"100%",height:20,animation:"wave",sx:{mb:1}}),(0,d.jsx)(i.A,{variant:"text",width:"90%",height:20,animation:"wave",sx:{mb:1}}),(0,d.jsx)(i.A,{variant:"text",width:"80%",height:20,animation:"wave"})]}),(0,d.jsxs)(a.A,{sx:{display:"flex",gap:1,mb:2},children:[(0,d.jsx)(i.A,{variant:"rounded",width:80,height:28,animation:"wave",sx:{borderRadius:2}}),(0,d.jsx)(i.A,{variant:"rounded",width:70,height:28,animation:"wave",sx:{borderRadius:2}})]}),(0,d.jsxs)(a.A,{sx:{display:"flex",gap:1.5,pt:2,mt:2,borderTop:1,borderColor:"divider"},children:[(0,d.jsx)(i.A,{variant:"rounded",width:"48%",height:40,animation:"wave",sx:{borderRadius:2.5}}),(0,d.jsx)(i.A,{variant:"rounded",width:"48%",height:40,animation:"wave",sx:{borderRadius:2.5}})]})]})})},t))})}},73200:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ze});var s=n(89379),r=n(65043),i=n(73216),a=n(26240),l=n(19252),o=n(67254),c=n(68903),d=n(12110),x=n(26494),h=n(96446),u=n(85865),A=n(11906),j=n(17392),p=n(39336),g=n(35721),m=n(24628),y=n(51962),f=n(48734),v=n(43845),w=n(69974),b=n(3632),S=n(20979),D=n(15337),k=n(59275),C=n(67957),z=n(75155),E=n(42796),T=n(69131),I=n(79641),W=n(78994),_=n(58558),M=n(98638),P=n(1943),F=n(16314),L=n(94505),R=n(16597),V=n(53831),U=n(81637),Y=n(2050),N=n(71991),O=n(4694),B=n(47225),H=n(86178),Q=n.n(H),q=n(8411),$=n(70579);const Z=()=>{const e=(0,i.Zp)(),[t,n]=(0,r.useState)([]),[s,a]=(0,r.useState)(!0),[l,c]=(0,r.useState)(null);(0,r.useEffect)(()=>{j()},[]);const j=async()=>{try{a(!0),c(null);const e=new Date,t=new Date;t.setDate(t.getDate()+7);const s=((await q.A.getEvents({from:e.toISOString(),to:t.toISOString(),limit:5})).data.events||[]).filter(t=>new Date(t.start)>e).sort((e,t)=>new Date(e.start)-new Date(t.start)).slice(0,5);n(s)}catch(e){console.error("Failed to fetch upcoming meetings:",e),c("Failed to load upcoming meetings")}finally{a(!1)}};return(0,$.jsx)(d.A,{sx:{height:"100%"},children:(0,$.jsxs)(x.A,{children:[(0,$.jsxs)(h.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,$.jsxs)(h.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,$.jsx)(B.A,{color:"primary"}),(0,$.jsx)(u.A,{variant:"h6",sx:{fontWeight:600},children:"Upcoming Meetings"})]}),(0,$.jsx)(A.A,{size:"small",endIcon:(0,$.jsx)(W.A,{}),onClick:()=>e("/calendar"),children:"View All"})]}),s&&(0,$.jsx)(h.A,{sx:{display:"flex",justifyContent:"center",py:3},children:(0,$.jsx)(U.A,{size:40})}),l&&(0,$.jsx)(o.A,{severity:"error",sx:{mb:2},children:l}),!s&&!l&&0===t.length&&(0,$.jsxs)(h.A,{sx:{textAlign:"center",py:3},children:[(0,$.jsx)(u.A,{variant:"body2",color:"text.secondary",children:"No upcoming meetings in the next 7 days"}),(0,$.jsx)(A.A,{variant:"outlined",size:"small",sx:{mt:2},onClick:()=>e("/calendar"),children:"View Calendar"})]}),!s&&!l&&t.length>0&&(0,$.jsx)(g.A,{dense:!0,children:t.map(t=>{var n,s;return(0,$.jsxs)(m.Ay,{sx:{cursor:"pointer",borderRadius:1,mb:.5,"&:hover":{backgroundColor:"action.hover"}},onClick:()=>{e("/calendar")},children:[(0,$.jsx)(Y.A,{sx:{minWidth:32},children:(s=null===(n=t.calendarAccount)||void 0===n?void 0:n.provider,"google"===s?(0,$.jsx)(N.A,{sx:{fontSize:16,color:"#4285f4"}}):"microsoft"===s?(0,$.jsx)(O.A,{sx:{fontSize:16,color:"#00a4ef"}}):(0,$.jsx)(O.A,{sx:{fontSize:16}}))}),(0,$.jsx)(f.A,{primary:(0,$.jsxs)(h.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,$.jsx)(u.A,{variant:"body2",sx:{fontWeight:500},children:t.title}),t.isAllDay&&(0,$.jsx)(v.A,{label:"All Day",size:"small",sx:{height:18,fontSize:"0.7rem"}})]}),secondary:(0,$.jsxs)(h.A,{children:[(0,$.jsxs)(u.A,{variant:"caption",color:"text.secondary",children:[Q()(t.start).format("MMM D, h:mm A"),!t.isAllDay&&" - ".concat(Q()(t.end).format("h:mm A"))]}),t.location&&(0,$.jsxs)(u.A,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:["\ud83d\udccd ",t.location]})]})})]},t.id)})})]})})};var G=n(79958),J=n(93933),K=n(81045),X=n(10611),ee=n(8266),te=n(72437),ne=n(32143),se=n(83462),re=n(26600),ie=n(35316),ae=n(67784),le=n(53193),oe=n(18356),ce=n(72221),de=n(29347),xe=n(79888),he=n(34642),ue=n(75456),Ae=n(41209),je=n(98606),pe=n(84593),ge=n(20273),me=n(17548),ye=n(84770),fe=n(91082),ve=n(70141),we=n(83560),be=n(51387);const Se=e=>{let{limit:t=5,showHeader:n=!0,onTaskClick:s}=e;const[i,a]=(0,r.useState)(null),[l,c]=(0,r.useState)(!0),[y,b]=(0,r.useState)(null),[S,D]=(0,r.useState)(null),[k,z]=(0,r.useState)(null),[T,I]=(0,r.useState)(!1);(0,r.useEffect)(()=>{W()},[]);const W=async()=>{try{c(!0);const e=await q.A.getUpcoming(7,2*t);a(e.data)}catch(e){b("Failed to load upcoming tasks"),console.error("Error loading upcoming data:",e)}finally{c(!1)}},M=e=>{switch(e){case"high":return"error";case"medium":return"warning";case"low":return"success";default:return"default"}},P=e=>{switch(e){case"high":return(0,$.jsx)(xe.A,{});case"medium":return(0,$.jsx)(he.A,{});case"low":return(0,$.jsx)(ue.A,{});default:return(0,$.jsx)(Ae.A,{})}},F=e=>{switch(e){case"completed":return"success";case"in_progress":return"info";case"pending":return"warning";case"overdue":return"error";default:return"default"}},L=e=>{switch(e){case"completed":return(0,$.jsx)(je.A,{});case"in_progress":return(0,$.jsx)(pe.A,{});case"pending":return(0,$.jsx)(ge.A,{});case"overdue":return(0,$.jsx)(me.A,{});default:return(0,$.jsx)(Ae.A,{})}},R=e=>{switch(e){case"follow_up":return(0,$.jsx)(w.A,{});case"proposal":return(0,$.jsx)(C.A,{});case"marketing":return(0,$.jsx)(E.A,{});case"legal":return(0,$.jsx)(ye.A,{});case"meeting":return(0,$.jsx)(B.A,{});case"property_viewing":return(0,$.jsx)(fe.A,{});default:return(0,$.jsx)(Ae.A,{})}},V=e=>{const t=new Date,n=(new Date(e)-t)/36e5;if(n<0)return"Overdue";if(n<1){const e=Math.floor(60*n);return"".concat(e,"m")}if(n<24)return"".concat(Math.floor(n),"h");{const e=Math.floor(n/24);return"".concat(e,"d")}},N=e=>new Date(e)<new Date,O=()=>{D(null),z(null)},H=e=>{if(k){switch(e){case"view":s&&s(k);break;case"edit":I(!0)}O()}},Q=e=>{var t;return"completed"===e.status?100:"in_progress"===e.status&&null!==(t=e.metadata)&&void 0!==t&&t.progress?e.metadata.progress:0};if(l)return(0,$.jsx)(d.A,{children:(0,$.jsx)(x.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:(0,$.jsx)(U.A,{})})});if(y)return(0,$.jsx)(d.A,{children:(0,$.jsx)(x.A,{children:(0,$.jsx)(o.A,{severity:"error",children:y})})});const Z=(null===i||void 0===i?void 0:i.tasks)||[],Se=Z.filter(e=>"high"===e.priority).length,De=Z.filter(e=>N(e.dueDate)).length;return(0,$.jsxs)(d.A,{children:[n&&(0,$.jsx)(G.A,{title:(0,$.jsxs)(h.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,$.jsx)(Ae.A,{color:"primary"}),(0,$.jsx)(u.A,{variant:"h6",children:"Upcoming Tasks"}),(0,$.jsx)(J.A,{badgeContent:Z.length,color:"primary"})]}),action:(0,$.jsx)(A.A,{size:"small",startIcon:(0,$.jsx)(ve.A,{}),onClick:()=>I(!0),children:"Add Task"})}),(0,$.jsxs)(x.A,{children:[(0,$.jsxs)(h.A,{sx:{display:"flex",gap:2,mb:2},children:[(0,$.jsx)(v.A,{icon:(0,$.jsx)(xe.A,{}),label:"".concat(Se," High Priority"),color:"error",size:"small"}),De>0&&(0,$.jsx)(v.A,{icon:(0,$.jsx)(me.A,{}),label:"".concat(De," Overdue"),color:"error",size:"small"})]}),(0,$.jsx)(g.A,{dense:!0,children:Z.slice(0,t).map((e,t)=>(0,$.jsxs)(r.Fragment,{children:[(0,$.jsxs)(m.Ay,{sx:{borderRadius:1,mb:1,bgcolor:N(e.dueDate)?"error.light":"high"===e.priority?"warning.light":"transparent","&:hover":{bgcolor:"action.hover"}},children:[(0,$.jsx)(Y.A,{children:(0,$.jsx)(K.A,{sx:{bgcolor:M(e.priority)+".main",width:32,height:32},children:R(e.type)})}),(0,$.jsx)(f.A,{primary:(0,$.jsxs)(h.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,$.jsx)(u.A,{variant:"subtitle2",sx:{fontWeight:"bold",textDecoration:"completed"===e.status?"line-through":"none"},children:e.title}),(0,$.jsx)(v.A,{label:V(e.dueDate),color:N(e.dueDate)?"error":"default",size:"small",variant:"outlined"})]}),secondary:(0,$.jsxs)(h.A,{children:[(0,$.jsx)(u.A,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:e.description}),"in_progress"===e.status&&(0,$.jsxs)(h.A,{sx:{mb:1},children:[(0,$.jsx)(X.A,{variant:"determinate",value:Q(e),sx:{height:4,borderRadius:2}}),(0,$.jsxs)(u.A,{variant:"caption",color:"text.secondary",children:[Q(e),"% complete"]})]}),(0,$.jsxs)(h.A,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,$.jsx)(v.A,{icon:L(e.status),label:e.status.replace("_"," "),color:F(e.status),size:"small"}),(0,$.jsx)(v.A,{icon:P(e.priority),label:e.priority,color:M(e.priority),size:"small",variant:"outlined"})]})]})}),(0,$.jsx)(ee.A,{children:(0,$.jsx)(j.A,{size:"small",onClick:t=>((e,t)=>{D(e.currentTarget),z(t)})(t,e),children:(0,$.jsx)(_.A,{})})})]}),t<Z.length-1&&(0,$.jsx)(p.A,{})]},e.id))}),Z.length>t&&(0,$.jsx)(h.A,{sx:{textAlign:"center",mt:2},children:(0,$.jsxs)(A.A,{size:"small",onClick:()=>{s&&s({type:"view_all_tasks"})},children:["View All Tasks (",Z.length,")"]})}),0===Z.length&&(0,$.jsxs)(h.A,{sx:{textAlign:"center",py:4},children:[(0,$.jsx)(Ae.A,{sx:{fontSize:48,color:"text.secondary",mb:2}}),(0,$.jsx)(u.A,{variant:"body2",color:"text.secondary",children:"No upcoming tasks"}),(0,$.jsx)(A.A,{size:"small",startIcon:(0,$.jsx)(ve.A,{}),onClick:()=>I(!0),sx:{mt:1},children:"Add Your First Task"})]})]}),(0,$.jsxs)(te.A,{anchorEl:S,open:Boolean(S),onClose:O,children:[(0,$.jsxs)(ne.A,{onClick:()=>H("view"),children:[(0,$.jsx)(Y.A,{children:(0,$.jsx)(we.A,{})}),(0,$.jsx)(f.A,{children:"View Details"})]}),(0,$.jsxs)(ne.A,{onClick:()=>H("edit"),children:[(0,$.jsx)(Y.A,{children:(0,$.jsx)(we.A,{})}),(0,$.jsx)(f.A,{children:"Edit Task"})]}),(0,$.jsxs)(ne.A,{onClick:()=>H("complete"),children:[(0,$.jsx)(Y.A,{children:(0,$.jsx)(je.A,{})}),(0,$.jsx)(f.A,{children:"Mark Complete"})]}),(0,$.jsx)(p.A,{}),(0,$.jsxs)(ne.A,{onClick:()=>H("delete"),sx:{color:"error.main"},children:[(0,$.jsx)(Y.A,{children:(0,$.jsx)(be.A,{color:"error"})}),(0,$.jsx)(f.A,{children:"Delete"})]})]}),(0,$.jsxs)(se.A,{open:T,onClose:()=>I(!1),maxWidth:"sm",fullWidth:!0,children:[(0,$.jsx)(re.A,{children:k?"Edit Task":"Add New Task"}),(0,$.jsx)(ie.A,{children:(0,$.jsxs)(h.A,{sx:{display:"flex",flexDirection:"column",gap:2,pt:1},children:[(0,$.jsx)(ae.A,{fullWidth:!0,label:"Task Title",defaultValue:(null===k||void 0===k?void 0:k.title)||""}),(0,$.jsx)(ae.A,{fullWidth:!0,label:"Description",multiline:!0,rows:3,defaultValue:(null===k||void 0===k?void 0:k.description)||""}),(0,$.jsxs)(h.A,{sx:{display:"flex",gap:2},children:[(0,$.jsxs)(le.A,{fullWidth:!0,children:[(0,$.jsx)(oe.A,{children:"Priority"}),(0,$.jsxs)(ce.A,{defaultValue:(null===k||void 0===k?void 0:k.priority)||"medium",label:"Priority",children:[(0,$.jsx)(ne.A,{value:"low",children:"Low"}),(0,$.jsx)(ne.A,{value:"medium",children:"Medium"}),(0,$.jsx)(ne.A,{value:"high",children:"High"})]})]}),(0,$.jsxs)(le.A,{fullWidth:!0,children:[(0,$.jsx)(oe.A,{children:"Type"}),(0,$.jsxs)(ce.A,{defaultValue:(null===k||void 0===k?void 0:k.type)||"follow_up",label:"Type",children:[(0,$.jsx)(ne.A,{value:"follow_up",children:"Follow Up"}),(0,$.jsx)(ne.A,{value:"proposal",children:"Proposal"}),(0,$.jsx)(ne.A,{value:"marketing",children:"Marketing"}),(0,$.jsx)(ne.A,{value:"legal",children:"Legal"}),(0,$.jsx)(ne.A,{value:"meeting",children:"Meeting"}),(0,$.jsx)(ne.A,{value:"property_viewing",children:"Property Viewing"})]})]})]}),(0,$.jsx)(ae.A,{fullWidth:!0,label:"Due Date",type:"datetime-local",InputLabelProps:{shrink:!0},defaultValue:null!==k&&void 0!==k&&k.dueDate?new Date(k.dueDate).toISOString().slice(0,16):""})]})}),(0,$.jsxs)(de.A,{children:[(0,$.jsx)(A.A,{onClick:()=>I(!1),children:"Cancel"}),(0,$.jsx)(A.A,{variant:"contained",children:k?"Update Task":"Create Task"})]})]})]})};var De=n(59893),ke=n(47805);const Ce=e=>{let{limit:t=5,showHeader:n=!0,onEventClick:s}=e;const[i,a]=(0,r.useState)(null),[l,y]=(0,r.useState)(!0),[b,S]=(0,r.useState)(null),[D,k]=(0,r.useState)(null),[z,E]=(0,r.useState)(null),[T,I]=(0,r.useState)(!1);(0,r.useEffect)(()=>{W()},[]);const W=async()=>{try{y(!0);const e=await q.A.getUpcoming(7,2*t);a(e.data)}catch(e){S("Failed to load upcoming events"),console.error("Error loading upcoming data:",e)}finally{y(!1)}},M=e=>{switch(e){case"property_viewing":return(0,$.jsx)(fe.A,{});case"client_meeting":return(0,$.jsx)(De.A,{});case"team_meeting":case"property_inspection":return(0,$.jsx)(ye.A,{});case"follow_up":return(0,$.jsx)(w.A,{});case"proposal":return(0,$.jsx)(C.A,{});default:return(0,$.jsx)(Ae.A,{})}},P=e=>{switch(e){case"property_viewing":return"success";case"client_meeting":return"primary";case"team_meeting":return"info";case"property_inspection":return"warning";case"follow_up":return"secondary";case"proposal":return"error";default:return"default"}},F=e=>{switch(e){case"confirmed":return"success";case"tentative":return"warning";case"cancelled":return"error";default:return"default"}},L=e=>{switch(e){case"confirmed":return(0,$.jsx)(je.A,{});case"tentative":return(0,$.jsx)(he.A,{});case"cancelled":return(0,$.jsx)(me.A,{});default:return(0,$.jsx)(ue.A,{})}},R=e=>{const t=new Date,n=(new Date(e)-t)/36e5;if(n<0)return"Started";if(n<1){const e=Math.floor(60*n);return"in ".concat(e,"m")}if(n<24)return"in ".concat(Math.floor(n),"h");{const e=Math.floor(n/24);return"in ".concat(e,"d")}},V=e=>{const t=new Date,n=new Date(e);return t.toDateString()===n.toDateString()},N=(e,t)=>{const n=new Date(e);new Date(t);return V(e)?"Today ".concat(n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})):(e=>{const t=new Date;t.setDate(t.getDate()+1);const n=new Date(e);return t.toDateString()===n.toDateString()})(e)?"Tomorrow ".concat(n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})):n.toLocaleDateString()+" "+n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},O=()=>{k(null),E(null)},H=e=>{if(z){switch(e){case"view":s&&s(z);break;case"edit":I(!0)}O()}},Q=(e,t)=>{const n=new Date(e),s=new Date(t)-n,r=s/36e5;if(r<1){const e=Math.floor(s/6e4);return"".concat(e,"m")}return"".concat(r.toFixed(1),"h")};if(l)return(0,$.jsx)(d.A,{children:(0,$.jsx)(x.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:(0,$.jsx)(U.A,{})})});if(b)return(0,$.jsx)(d.A,{children:(0,$.jsx)(x.A,{children:(0,$.jsx)(o.A,{severity:"error",children:b})})});const Z=(null===i||void 0===i?void 0:i.events)||[],X=Z.filter(e=>"confirmed"===e.status).length,xe=Z.filter(e=>V(e.start)).length;return(0,$.jsxs)(d.A,{children:[n&&(0,$.jsx)(G.A,{title:(0,$.jsxs)(h.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,$.jsx)(B.A,{color:"primary"}),(0,$.jsx)(u.A,{variant:"h6",children:"Upcoming Events"}),(0,$.jsx)(J.A,{badgeContent:Z.length,color:"primary"})]}),action:(0,$.jsxs)(h.A,{sx:{display:"flex",gap:1},children:[(0,$.jsx)(j.A,{size:"small",onClick:W,children:(0,$.jsx)(ke.A,{})}),(0,$.jsx)(A.A,{size:"small",startIcon:(0,$.jsx)(ve.A,{}),onClick:()=>I(!0),children:"Add Event"})]})}),(0,$.jsxs)(x.A,{children:[(0,$.jsxs)(c.Ay,{container:!0,spacing:2,sx:{mb:2},children:[(0,$.jsx)(c.Ay,{item:!0,xs:6,children:(0,$.jsxs)(h.A,{sx:{textAlign:"center"},children:[(0,$.jsx)(u.A,{variant:"h6",color:"success.main",sx:{fontWeight:"bold"},children:X}),(0,$.jsx)(u.A,{variant:"caption",color:"text.secondary",children:"Confirmed"})]})}),(0,$.jsx)(c.Ay,{item:!0,xs:6,children:(0,$.jsxs)(h.A,{sx:{textAlign:"center"},children:[(0,$.jsx)(u.A,{variant:"h6",color:"primary.main",sx:{fontWeight:"bold"},children:xe}),(0,$.jsx)(u.A,{variant:"caption",color:"text.secondary",children:"Today"})]})})]}),(0,$.jsx)(g.A,{dense:!0,children:Z.slice(0,t).map((e,t)=>(0,$.jsxs)(r.Fragment,{children:[(0,$.jsxs)(m.Ay,{sx:{borderRadius:1,mb:1,bgcolor:V(e.start)?"primary.light":"transparent","&:hover":{bgcolor:"action.hover"}},children:[(0,$.jsx)(Y.A,{children:(0,$.jsx)(K.A,{sx:{bgcolor:P(e.type)+".main",width:32,height:32},children:M(e.type)})}),(0,$.jsx)(f.A,{primary:(0,$.jsxs)(h.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,$.jsx)(u.A,{variant:"subtitle2",sx:{fontWeight:"bold"},children:e.title}),(0,$.jsx)(v.A,{label:R(e.start),color:V(e.start)?"primary":"default",size:"small",variant:"outlined"})]}),secondary:(0,$.jsxs)(h.A,{children:[(0,$.jsxs)(u.A,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:[N(e.start,e.end)," \u2022 ",Q(e.start,e.end)]}),e.location&&(0,$.jsxs)(u.A,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:["\ud83d\udccd ",e.location]}),e.description&&(0,$.jsx)(u.A,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:e.description.length>100?"".concat(e.description.substring(0,100),"..."):e.description}),e.attendees&&e.attendees.length>0&&(0,$.jsxs)(h.A,{sx:{display:"flex",gap:1,alignItems:"center",mb:.5},children:[(0,$.jsx)(De.A,{fontSize:"small",color:"action"}),(0,$.jsxs)(u.A,{variant:"caption",color:"text.secondary",children:[e.attendees.length," attendee",1!==e.attendees.length?"s":""]})]}),(0,$.jsxs)(h.A,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,$.jsx)(v.A,{icon:L(e.status),label:e.status,color:F(e.status),size:"small"}),(0,$.jsx)(v.A,{label:e.type.replace("_"," "),color:P(e.type),size:"small",variant:"outlined"})]})]})}),(0,$.jsx)(ee.A,{children:(0,$.jsx)(j.A,{size:"small",onClick:t=>((e,t)=>{k(e.currentTarget),E(t)})(t,e),children:(0,$.jsx)(_.A,{})})})]}),t<Z.length-1&&(0,$.jsx)(p.A,{})]},e.id))}),Z.length>t&&(0,$.jsx)(h.A,{sx:{textAlign:"center",mt:2},children:(0,$.jsxs)(A.A,{size:"small",onClick:()=>{s&&s({type:"view_all_events"})},children:["View All Events (",Z.length,")"]})}),0===Z.length&&(0,$.jsxs)(h.A,{sx:{textAlign:"center",py:4},children:[(0,$.jsx)(B.A,{sx:{fontSize:48,color:"text.secondary",mb:2}}),(0,$.jsx)(u.A,{variant:"body2",color:"text.secondary",children:"No upcoming events"}),(0,$.jsx)(A.A,{size:"small",startIcon:(0,$.jsx)(ve.A,{}),onClick:()=>I(!0),sx:{mt:1},children:"Add Your First Event"})]})]}),(0,$.jsxs)(te.A,{anchorEl:D,open:Boolean(D),onClose:O,children:[(0,$.jsxs)(ne.A,{onClick:()=>H("view"),children:[(0,$.jsx)(Y.A,{children:(0,$.jsx)(we.A,{})}),(0,$.jsx)(f.A,{children:"View Details"})]}),(0,$.jsxs)(ne.A,{onClick:()=>H("edit"),children:[(0,$.jsx)(Y.A,{children:(0,$.jsx)(we.A,{})}),(0,$.jsx)(f.A,{children:"Edit Event"})]}),(0,$.jsxs)(ne.A,{onClick:()=>H("join"),children:[(0,$.jsx)(Y.A,{children:(0,$.jsx)(w.A,{})}),(0,$.jsx)(f.A,{children:"Join Meeting"})]}),(0,$.jsxs)(ne.A,{onClick:()=>H("reschedule"),children:[(0,$.jsx)(Y.A,{children:(0,$.jsx)(Ae.A,{})}),(0,$.jsx)(f.A,{children:"Reschedule"})]}),(0,$.jsx)(p.A,{}),(0,$.jsxs)(ne.A,{onClick:()=>H("cancel"),sx:{color:"error.main"},children:[(0,$.jsx)(Y.A,{children:(0,$.jsx)(be.A,{color:"error"})}),(0,$.jsx)(f.A,{children:"Cancel Event"})]})]}),(0,$.jsxs)(se.A,{open:T,onClose:()=>I(!1),maxWidth:"sm",fullWidth:!0,children:[(0,$.jsx)(re.A,{children:z?"Edit Event":"Add New Event"}),(0,$.jsx)(ie.A,{children:(0,$.jsxs)(h.A,{sx:{display:"flex",flexDirection:"column",gap:2,pt:1},children:[(0,$.jsx)(ae.A,{fullWidth:!0,label:"Event Title",defaultValue:(null===z||void 0===z?void 0:z.title)||""}),(0,$.jsx)(ae.A,{fullWidth:!0,label:"Description",multiline:!0,rows:3,defaultValue:(null===z||void 0===z?void 0:z.description)||""}),(0,$.jsxs)(h.A,{sx:{display:"flex",gap:2},children:[(0,$.jsx)(ae.A,{fullWidth:!0,label:"Start Date & Time",type:"datetime-local",InputLabelProps:{shrink:!0},defaultValue:null!==z&&void 0!==z&&z.start?new Date(z.start).toISOString().slice(0,16):""}),(0,$.jsx)(ae.A,{fullWidth:!0,label:"End Date & Time",type:"datetime-local",InputLabelProps:{shrink:!0},defaultValue:null!==z&&void 0!==z&&z.end?new Date(z.end).toISOString().slice(0,16):""})]}),(0,$.jsx)(ae.A,{fullWidth:!0,label:"Location",defaultValue:(null===z||void 0===z?void 0:z.location)||""}),(0,$.jsxs)(h.A,{sx:{display:"flex",gap:2},children:[(0,$.jsxs)(le.A,{fullWidth:!0,children:[(0,$.jsx)(oe.A,{children:"Event Type"}),(0,$.jsxs)(ce.A,{defaultValue:(null===z||void 0===z?void 0:z.type)||"meeting",label:"Event Type",children:[(0,$.jsx)(ne.A,{value:"property_viewing",children:"Property Viewing"}),(0,$.jsx)(ne.A,{value:"client_meeting",children:"Client Meeting"}),(0,$.jsx)(ne.A,{value:"team_meeting",children:"Team Meeting"}),(0,$.jsx)(ne.A,{value:"property_inspection",children:"Property Inspection"}),(0,$.jsx)(ne.A,{value:"follow_up",children:"Follow Up"}),(0,$.jsx)(ne.A,{value:"proposal",children:"Proposal"})]})]}),(0,$.jsxs)(le.A,{fullWidth:!0,children:[(0,$.jsx)(oe.A,{children:"Status"}),(0,$.jsxs)(ce.A,{defaultValue:(null===z||void 0===z?void 0:z.status)||"confirmed",label:"Status",children:[(0,$.jsx)(ne.A,{value:"confirmed",children:"Confirmed"}),(0,$.jsx)(ne.A,{value:"tentative",children:"Tentative"}),(0,$.jsx)(ne.A,{value:"cancelled",children:"Cancelled"})]})]})]})]})}),(0,$.jsxs)(de.A,{children:[(0,$.jsx)(A.A,{onClick:()=>I(!1),children:"Cancel"}),(0,$.jsx)(A.A,{variant:"contained",children:z?"Update Event":"Create Event"})]})]})]})},ze=()=>{const e=(0,a.A)(),t=(0,i.Zp)(),[n,U]=(0,R.A)({threshold:.1}),[Y,N]=(0,r.useState)(!0),[O,B]=(0,r.useState)({totalProperties:0,activeDeals:0,totalContacts:0,monthlyRevenue:0}),[H,Q]=(0,r.useState)(null),[q,G]=(0,r.useState)(0),[J,K]=(0,r.useState)(0),[X,ee]=(0,r.useState)(0),[te,ne]=(0,r.useState)("0.0"),[se,re]=(0,r.useState)([]),[ie,ae]=(0,r.useState)(!0),[le,oe]=(0,r.useState)({}),[ce,de]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{try{const e=await P.A.getExpiringLeases(365),t=await P.A.getExpiringLeases(90);null!==e&&void 0!==e&&e.leases&&G(e.leases.length),null!==t&&void 0!==t&&t.leases&&K(t.leases.length)}catch(e){console.error("Failed to fetch lease data:",e)}})(),(async()=>{try{const e=await F.A.getMaturingDebts(365);if(null!==e&&void 0!==e&&e.debts){ee(e.debts.length);const t=e.debts.reduce((e,t)=>e+(parseFloat(t.amount)||0),0);ne((t/1e6).toFixed(1))}}catch(e){console.error("Failed to fetch debt data:",e)}})()},[]),(0,r.useEffect)(()=>{(async()=>{try{var e,t,n,s,r,i,a;N(!0),Q(null);const[l,o,c]=await Promise.all([L.Up.getAll({page:1,limit:1}),L.TP.getAll({page:1,limit:1}),L.zb.getAll({page:1,limit:1})]),d=(null===(e=c.data)||void 0===e||null===(t=e.pagination)||void 0===t?void 0:t.totalItems)||0,x=(null===(n=l.data)||void 0===n||null===(s=n.pagination)||void 0===s?void 0:s.totalItems)||0,h=(null===(r=o.data)||void 0===r||null===(i=r.pagination)||void 0===i?void 0:i.totalItems)||0,u=(null===(a=(await L.zb.getAll({stage:"won",page:1,limit:100})).data)||void 0===a?void 0:a.deals)||[],A=(new Date).getMonth(),j=(new Date).getFullYear(),p=u.filter(e=>{const t=new Date(e.actualCloseDate);return t.getMonth()===A&&t.getFullYear()===j}).reduce((e,t)=>e+(parseFloat(t.value)||0),0);B({totalProperties:x,activeDeals:d,totalContacts:h,monthlyRevenue:Math.round(p)})}catch(l){console.error("Failed to fetch dashboard stats:",l),Q("Failed to load dashboard statistics")}finally{N(!1)}})()},[]),(0,r.useEffect)(()=>{(async()=>{try{var e;ae(!0);const t=((null===(e=(await L.WY.getAll({status:"pending",sortBy:"dueDate",sortOrder:"ASC",limit:5})).data)||void 0===e?void 0:e.tasks)||[]).map(e=>{var t,n,s;const r=new Date(e.dueDate),i=new Date,a=r.toDateString()===i.toDateString();let l=r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});a||(l=r.toLocaleDateString("en-US",{month:"short",day:"numeric"})+" "+l);const o=e.taskType||"other";return{id:e.id,title:e.title,client:null!==(t=e.contact)&&void 0!==t&&t.firstName?"".concat(e.contact.firstName," ").concat(e.contact.lastName||"").trim():(null===(n=e.contact)||void 0===n?void 0:n.companyName)||(null===(s=e.property)||void 0===s?void 0:s.name)||"General",time:l,priority:e.priority||"low",type:o,completed:"completed"===e.status,dueDate:e.dueDate}});re(t)}catch(t){console.error("Failed to fetch upcoming tasks:",t)}finally{ae(!1)}})()},[]),(0,r.useEffect)(()=>{(async()=>{try{de(!0);const e=await L.zb.getDealsByStage();e&&e.dealsByStage?oe(e.dealsByStage):oe({})}catch(e){console.error("Failed to fetch pipeline data:",e),oe({})}finally{de(!1)}})()},[]);const xe=(0,r.useCallback)(async e=>{const t=se.find(t=>t.id===e);if(!t)return;const n=se.map(t=>t.id===e?(0,s.A)((0,s.A)({},t),{},{completed:!t.completed}):t);re(n);try{t.completed?await L.WY.update(e,{status:"pending"}):await L.WY.complete(e,{notes:"Completed from dashboard"})}catch(r){console.error("Failed to update task:",r),re(se)}},[se]),he=(0,r.useCallback)(t=>{switch(t){case"call":return(0,$.jsx)(w.A,{sx:{fontSize:18,color:e.palette.primary.main}});case"viewing":return(0,$.jsx)(b.A,{sx:{fontSize:18,color:e.palette.success.main}});case"document":return(0,$.jsx)(S.A,{sx:{fontSize:18,color:e.palette.warning.main}});default:return(0,$.jsx)(D.A,{sx:{fontSize:18,color:e.palette.grey[600]}})}},[e]),ue=(0,r.useMemo)(()=>[{title:"Total Properties",value:O.totalProperties,change:"+12%",trend:12,isPositive:!0,icon:(0,$.jsx)(k.A,{sx:{fontSize:24,color:"white"}}),gradient:e.palette.gradient.primary,link:"/properties"},{title:"Active Deals",value:O.activeDeals,change:"+8%",trend:8,isPositive:!0,icon:(0,$.jsx)(C.A,{sx:{fontSize:24,color:"white"}}),gradient:e.palette.gradient.success,link:"/deals"},{title:"Total Contacts",value:O.totalContacts,change:"+15%",trend:15,isPositive:!0,icon:(0,$.jsx)(z.A,{sx:{fontSize:24,color:"white"}}),gradient:e.palette.gradient.info,link:"/contacts"},{title:"Monthly Revenue",value:"$".concat(O.monthlyRevenue.toLocaleString()),change:"+5%",trend:5,isPositive:!0,icon:(0,$.jsx)(E.A,{sx:{fontSize:24,color:"white"}}),gradient:e.palette.gradient.secondary,link:"/analytics"},{title:"Expiring Leases",value:q,change:"".concat(J," in 3mo"),trend:null,isPositive:!1,colorTheme:"warning",icon:(0,$.jsx)(T.A,{sx:{fontSize:24,color:"white"}}),gradient:e.palette.gradient.warning,link:"/leases"},{title:"Maturing Debt",value:X,change:"$".concat(te,"M maturing"),trend:null,isPositive:!1,colorTheme:"error",icon:(0,$.jsx)(I.A,{sx:{fontSize:24,color:"white"}}),gradient:e.palette.gradient.error,link:"/debt"}],[O,q,J,X,te,e]);return(0,$.jsxs)(l.A,{maxWidth:"xl",sx:{py:2},children:[H&&(0,$.jsx)(o.A,{severity:"error",sx:{mb:2},children:H}),(0,$.jsxs)(c.Ay,{container:!0,spacing:2,children:[Y?(0,$.jsx)(V.Qv,{count:6}):ue.map((n,s)=>(0,$.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:2,children:(0,$.jsx)(d.A,{sx:{height:"100%",borderRadius:3,boxShadow:e.shadows[10],cursor:"pointer",animation:"fadeInUp 0.5s ease-out",animationDelay:"".concat(.1*s,"s"),animationFillMode:"both",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"translateY(-8px) scale(1.02)",boxShadow:e.shadows[20]},"&:active":{transform:"translateY(-6px) scale(0.98)"}},onClick:()=>t(n.link),children:(0,$.jsxs)(x.A,{sx:{p:1.5},children:[(0,$.jsx)(h.A,{sx:{background:n.gradient,width:48,height:48,borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",mb:1,boxShadow:e.shadows[10],transition:"transform 0.3s ease","&:hover":{transform:"rotate(5deg) scale(1.1)"}},children:n.icon}),(0,$.jsx)(u.A,{variant:"h5",sx:{fontWeight:700,mb:.25},children:n.value}),(0,$.jsx)(u.A,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:n.title})]})})},s)),(0,$.jsx)(c.Ay,{item:!0,xs:12,children:(0,$.jsxs)(h.A,{sx:{mt:2,mb:1},children:[(0,$.jsx)(u.A,{variant:"h5",sx:{fontWeight:700,mb:.25},children:"Sales Pipeline"}),(0,$.jsx)(u.A,{variant:"body2",color:"text.secondary",children:"Visual overview of your deals across all pipeline stages"})]})}),(0,$.jsx)(c.Ay,{item:!0,xs:12,children:(0,$.jsxs)(d.A,{sx:{borderRadius:3,boxShadow:e.shadows[10],p:2},children:[ce?(0,$.jsx)(h.A,{sx:{display:"flex",gap:1.5},children:[1,2,3,4,5,6].map(e=>(0,$.jsx)(h.A,{sx:{flex:1},children:(0,$.jsx)(V.Qv,{count:1})},e))}):(0,$.jsx)(c.Ay,{container:!0,spacing:1.5,children:["lead","qualified","proposal","negotiation","won","lost"].map(n=>{const s=le[n]||[],r={lead:e.palette.grey[500],qualified:e.palette.info.main,proposal:e.palette.warning.main,negotiation:e.palette.secondary.main,won:e.palette.success.main,lost:e.palette.error.main};return(0,$.jsx)(c.Ay,{item:!0,xs:6,sm:4,md:2,children:(0,$.jsxs)(d.A,{onClick:()=>t("/pipeline"),sx:{p:1.5,textAlign:"center",cursor:"pointer",border:"2px solid ".concat(r[n]),borderRadius:2,transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:e.shadows[8],borderColor:r[n],bgcolor:"".concat(r[n],"10")}},children:[(0,$.jsx)(u.A,{variant:"h4",sx:{fontWeight:700,color:r[n],mb:.5},children:s.length}),(0,$.jsx)(u.A,{variant:"body2",sx:{fontWeight:600,color:"text.secondary",textTransform:"uppercase",fontSize:"0.75rem"},children:{lead:"Lead",qualified:"Qualified",proposal:"Proposal",negotiation:"Negotiation",won:"Won",lost:"Lost"}[n]}),s.length>0&&(0,$.jsxs)(u.A,{variant:"caption",sx:{display:"block",mt:.5,color:"text.secondary"},children:["$",s.reduce((e,t)=>e+(parseFloat(t.value)||0),0).toLocaleString()]})]})},n)})}),(0,$.jsx)(h.A,{sx:{display:"flex",justifyContent:"flex-end",mt:1.5},children:(0,$.jsx)(A.A,{variant:"outlined",size:"small",endIcon:(0,$.jsx)(W.A,{}),onClick:()=>t("/pipeline"),sx:{textTransform:"none",fontWeight:600},children:"View Full Pipeline"})})]})}),(0,$.jsx)(c.Ay,{item:!0,xs:12,children:(0,$.jsxs)(h.A,{ref:n,sx:{mt:2,mb:1,opacity:U?1:0,transform:U?"translateY(0)":"translateY(20px)",transition:"opacity 0.6s ease-out, transform 0.6s ease-out"},children:[(0,$.jsx)(u.A,{variant:"h5",sx:{fontWeight:700,mb:.25},children:"Upcoming Tasks & Meetings"}),(0,$.jsx)(u.A,{variant:"body2",color:"text.secondary",children:"Stay organized with your upcoming to-dos and calendar events"})]})}),(0,$.jsx)(c.Ay,{item:!0,xs:12,md:4,children:(0,$.jsx)(Z,{})}),(0,$.jsx)(c.Ay,{item:!0,xs:12,md:4,children:(0,$.jsx)(Se,{limit:5})}),(0,$.jsx)(c.Ay,{item:!0,xs:12,md:4,children:(0,$.jsx)(Ce,{limit:5})}),(0,$.jsx)(c.Ay,{item:!0,xs:12,md:8,children:(0,$.jsx)(d.A,{sx:{borderRadius:3,boxShadow:3,height:"400px",display:"flex",flexDirection:"column",opacity:U?1:0,transform:U?"translateY(0)":"translateY(30px)",transition:"all 0.5s cubic-bezier(0.4, 0, 0.2, 1)",transitionDelay:"0.2s"},children:(0,$.jsxs)(x.A,{sx:{p:2,display:"flex",flexDirection:"column",height:"100%"},children:[(0,$.jsxs)(h.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1.5},children:[(0,$.jsx)(u.A,{variant:"h6",sx:{fontWeight:700},children:"Today's Tasks"}),(0,$.jsx)(j.A,{size:"small",onClick:()=>t("/tasks"),sx:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{bgcolor:"action.hover",transform:"rotate(90deg)"},"&:active":{transform:"scale(0.9)"}},children:(0,$.jsx)(_.A,{fontSize:"small"})})]}),(0,$.jsx)(p.A,{sx:{mb:1.5}}),ie?(0,$.jsx)(h.A,{sx:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:"text.secondary"},children:(0,$.jsx)(u.A,{variant:"body2",children:"Loading tasks..."})}):0===se.length?(0,$.jsxs)(h.A,{sx:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"text.secondary"},children:[(0,$.jsx)(M.A,{sx:{fontSize:48,mb:1.5,opacity:.3}}),(0,$.jsx)(u.A,{variant:"body2",sx:{fontWeight:500},children:"No tasks for today"}),(0,$.jsx)(u.A,{variant:"caption",sx:{mt:.5},children:"You're all caught up!"})]}):(0,$.jsx)(g.A,{sx:{p:0,overflow:"auto",flex:1,mx:-1},children:se.map((e,t)=>(0,$.jsxs)(r.Fragment,{children:[(0,$.jsxs)(m.Ay,{sx:{px:1,py:1,alignItems:"flex-start",borderRadius:2,transition:"all 0.2s","&:hover":{bgcolor:"action.hover"}},children:[(0,$.jsx)(y.A,{checked:e.completed,onChange:()=>xe(e.id),sx:{mt:-.5,mr:1.5,color:"primary.main","&.Mui-checked":{color:"success.main"}}}),(0,$.jsx)(h.A,{sx:{mr:1.5,mt:.5},children:he(e.type)}),(0,$.jsx)(f.A,{primaryTypographyProps:{component:"div"},secondaryTypographyProps:{component:"div"},primary:(0,$.jsxs)(h.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:.5},children:[(0,$.jsx)(u.A,{component:"span",variant:"body1",sx:{fontWeight:600,fontSize:"0.9375rem",textDecoration:e.completed?"line-through":"none",color:e.completed?"text.disabled":"text.primary",flex:1,mr:1},children:e.title}),(0,$.jsx)(v.A,{size:"small",label:e.priority,color:"high"===e.priority?"error":"medium"===e.priority?"warning":"default",sx:{fontSize:"0.75rem",height:"24px",fontWeight:600,minWidth:"60px"}})]}),secondary:(0,$.jsxs)(h.A,{sx:{display:"flex",alignItems:"center",mt:.5},children:[(0,$.jsx)(u.A,{component:"span",variant:"body2",color:"text.secondary",sx:{fontSize:"0.8125rem"},children:e.client}),(0,$.jsx)(u.A,{component:"span",variant:"body2",color:"text.secondary",sx:{mx:.75,fontSize:"0.8125rem"},children:"\u2022"}),(0,$.jsx)(T.A,{sx:{fontSize:14,mr:.5,color:"text.secondary"}}),(0,$.jsx)(u.A,{component:"span",variant:"body2",color:"text.secondary",sx:{fontSize:"0.8125rem",fontWeight:500},children:e.time})]})})]}),t<se.length-1&&(0,$.jsx)(p.A,{sx:{my:.5}})]},e.id))})]})})})]})]})}}}]);
//# sourceMappingURL=3200.fb680fd4.chunk.js.map
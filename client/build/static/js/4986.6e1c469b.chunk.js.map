{"version":3,"file":"static/js/4986.6e1c469b.chunk.js","mappings":"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","sources":["utils/useScrollReveal.js","services/dealApi.js","components/Common/EmptyState.js","pages/Pipeline/Pipeline.js"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\n\nconst useScrollReveal = (options = {}) => {\n  const {\n    threshold = 0.1,\n    rootMargin = '0px',\n    triggerOnce = true,\n    initialVisible = false\n  } = options;\n\n  const elementRef = useRef(null);\n  const [isVisible, setIsVisible] = useState(initialVisible);\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          setIsVisible(true);\n          if (triggerOnce && elementRef.current) {\n            observer.unobserve(elementRef.current);\n          }\n        } else if (!triggerOnce) {\n          setIsVisible(false);\n        }\n      },\n      {\n        threshold,\n        rootMargin\n      }\n    );\n\n    const currentElement = elementRef.current;\n    if (currentElement) {\n      observer.observe(currentElement);\n    }\n\n    return () => {\n      if (currentElement) {\n        observer.unobserve(currentElement);\n      }\n    };\n  }, [threshold, rootMargin, triggerOnce]);\n\n  return [elementRef, isVisible];\n};\n\nexport default useScrollReveal;\n","import api from './api';\n\n// Deal API endpoints\nexport const dealApi = {\n  // Get all deals with filtering and pagination\n  getDeals: async (params = {}) => {\n    try {\n      const queryString = new URLSearchParams(params).toString();\n      const url = `/deals${queryString ? `?${queryString}` : ''}`;\n      const response = await api.get(url);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching deals:', error);\n      throw error;\n    }\n  },\n\n  // Get single deal by ID\n  getDeal: async (id) => {\n    try {\n      const response = await api.get(`/deals/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching deal:', error);\n      throw error;\n    }\n  },\n\n  // Create new deal\n  createDeal: async (dealData) => {\n    try {\n      const response = await api.post('/deals', dealData);\n      return response.data;\n    } catch (error) {\n      console.error('Error creating deal:', error);\n      throw error;\n    }\n  },\n\n  // Update existing deal\n  updateDeal: async (id, dealData) => {\n    try {\n      const response = await api.put(`/deals/${id}`, dealData);\n      return response.data;\n    } catch (error) {\n      console.error('Error updating deal:', error);\n      throw error;\n    }\n  },\n\n  // Delete deal\n  deleteDeal: async (id) => {\n    try {\n      const response = await api.delete(`/deals/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error('Error deleting deal:', error);\n      throw error;\n    }\n  },\n\n  // Update deal stage\n  updateDealStage: async (id, stage, notes = '') => {\n    try {\n      const response = await api.put(`/deals/${id}/stage`, {\n        stage,\n        notes\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error updating deal stage:', error);\n      throw error;\n    }\n  },\n\n  // Add activity to deal\n  addActivity: async (id, activityData) => {\n    try {\n      const response = await api.post(`/deals/${id}/activities`, activityData);\n      return response.data;\n    } catch (error) {\n      console.error('Error adding deal activity:', error);\n      throw error;\n    }\n  },\n\n  // Get deal activities\n  getDealActivities: async (id, params = {}) => {\n    try {\n      const queryString = new URLSearchParams(params).toString();\n      const url = `/deals/${id}/activities${queryString ? `?${queryString}` : ''}`;\n      const response = await api.get(url);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching deal activities:', error);\n      throw error;\n    }\n  },\n\n  // Update deal probability\n  updateProbability: async (id, probability) => {\n    try {\n      const response = await api.put(`/deals/${id}/probability`, {\n        probability\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error updating deal probability:', error);\n      throw error;\n    }\n  },\n\n  // Get pipeline statistics\n  getPipelineStats: async (params = {}) => {\n    try {\n      const queryString = new URLSearchParams(params).toString();\n      const url = `/deals/pipeline/stats${queryString ? `?${queryString}` : ''}`;\n      const response = await api.get(url);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching pipeline stats:', error);\n      throw error;\n    }\n  },\n\n  // Get deals by stage for pipeline view\n  getDealsByStage: async (params = {}) => {\n    try {\n      const queryString = new URLSearchParams(params).toString();\n      const url = `/deals/pipeline${queryString ? `?${queryString}` : ''}`;\n      const response = await api.get(url);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching deals by stage:', error);\n      throw error;\n    }\n  },\n\n  // Bulk update deals (for multi-select actions)\n  bulkUpdateDeals: async (dealIds, updates) => {\n    try {\n      const response = await api.post('/deals/bulk-update', { dealIds, updates });\n      return response.data;\n    } catch (error) {\n      console.error('Error bulk updating deals:', error);\n      throw error;\n    }\n  },\n\n  // Duplicate deal\n  duplicateDeal: async (id, newData = {}) => {\n    try {\n      const response = await api.post(`/deals/${id}/duplicate`, newData);\n      return response.data;\n    } catch (error) {\n      console.error('Error duplicating deal:', error);\n      throw error;\n    }\n  },\n\n  // Export deals to CSV/Excel\n  exportDeals: async (params = {}) => {\n    try {\n      const queryString = new URLSearchParams(params).toString();\n      const url = `/deals/export${queryString ? `?${queryString}` : ''}`;\n      \n      const response = await api.get(url, {\n        responseType: 'blob', // Important for file download\n      });\n      \n      return response.data;\n    } catch (error) {\n      console.error('Error exporting deals:', error);\n      throw error;\n    }\n  },\n\n  // Get deal forecast/projections\n  getDealForecast: async (params = {}) => {\n    try {\n      const queryString = new URLSearchParams(params).toString();\n      const url = `/deals/forecast${queryString ? `?${queryString}` : ''}`;\n      const response = await api.get(url);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching deal forecast:', error);\n      throw error;\n    }\n  },\n\n  // Get deal conversion metrics\n  getConversionMetrics: async (params = {}) => {\n    try {\n      const queryString = new URLSearchParams(params).toString();\n      const url = `/deals/metrics/conversion${queryString ? `?${queryString}` : ''}`;\n      const response = await api.get(url);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching conversion metrics:', error);\n      throw error;\n    }\n  }\n};\n\n// Deal stage definitions for the CRM\nexport const DEAL_STAGES = [\n  {\n    id: 'prospecting',\n    name: 'Prospecting',\n    description: 'Initial contact and qualification',\n    probability: 10,\n    color: '#e3f2fd'\n  },\n  {\n    id: 'qualification',\n    name: 'Qualification',\n    description: 'Assessing fit and requirements',\n    probability: 25,\n    color: '#f3e5f5'\n  },\n  {\n    id: 'proposal',\n    name: 'Proposal',\n    description: 'Preparing and presenting offer',\n    probability: 50,\n    color: '#fff3e0'\n  },\n  {\n    id: 'negotiation',\n    name: 'Negotiation',\n    description: 'Terms and price negotiation',\n    probability: 75,\n    color: '#e8f5e8'\n  },\n  {\n    id: 'contract',\n    name: 'Contract',\n    description: 'Finalizing legal agreements',\n    probability: 90,\n    color: '#e1f5fe'\n  },\n  {\n    id: 'closed_won',\n    name: 'Closed Won',\n    description: 'Deal successfully completed',\n    probability: 100,\n    color: '#e8f5e8'\n  },\n  {\n    id: 'closed_lost',\n    name: 'Closed Lost',\n    description: 'Deal not successful',\n    probability: 0,\n    color: '#ffebee'\n  }\n];\n\n// Deal priority levels\nexport const DEAL_PRIORITIES = [\n  { id: 'low', name: 'Low', color: '#9e9e9e' },\n  { id: 'medium', name: 'Medium', color: '#ff9800' },\n  { id: 'high', name: 'High', color: '#f44336' },\n  { id: 'urgent', name: 'Urgent', color: '#d32f2f' }\n];\n\n// Deal types for commercial real estate\nexport const DEAL_TYPES = [\n  { id: 'sale', name: 'Sale' },\n  { id: 'lease', name: 'Lease' },\n  { id: 'purchase', name: 'Purchase' },\n  { id: 'sublease', name: 'Sublease' },\n  { id: 'management', name: 'Property Management' },\n  { id: 'development', name: 'Development' },\n  { id: 'investment', name: 'Investment' }\n];\n\nexport default dealApi;","import React from 'react';\nimport { Box, Typography, Button, useTheme } from '@mui/material';\n\nconst EmptyState = ({ \n  icon: Icon, \n  title, \n  message, \n  actionLabel, \n  onAction \n}) => {\n  const theme = useTheme();\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        minHeight: { xs: '300px', sm: '400px', md: '500px' },\n        padding: theme.spacing(4),\n        textAlign: 'center',\n        animation: 'fadeIn 0.6s ease-out',\n        '@keyframes fadeIn': {\n          from: {\n            opacity: 0,\n            transform: 'translateY(20px)',\n          },\n          to: {\n            opacity: 1,\n            transform: 'translateY(0)',\n          },\n        },\n      }}\n    >\n      <Box\n        sx={{\n          position: 'relative',\n          mb: theme.spacing(4),\n          animation: 'scaleIn 0.5s ease-out',\n          animationDelay: '0.2s',\n          animationFillMode: 'both',\n          '@keyframes scaleIn': {\n            from: {\n              transform: 'scale(0.8)',\n              opacity: 0,\n            },\n            to: {\n              transform: 'scale(1)',\n              opacity: 1,\n            },\n          },\n        }}\n      >\n        <Box\n          sx={{\n            width: { xs: 80, sm: 100, md: 120 },\n            height: { xs: 80, sm: 100, md: 120 },\n            borderRadius: '50%',\n            background: 'rgba(255, 255, 255, 0.5)',\n            backdropFilter: 'blur(20px)',\n            border: '1px solid rgba(255, 255, 255, 0.3)',\n            boxShadow: '0 8px 32px rgba(0, 0, 0, 0.1)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            position: 'relative',\n            '&::before': {\n              content: '\"\"',\n              position: 'absolute',\n              top: -2,\n              left: -2,\n              right: -2,\n              bottom: -2,\n              background: theme.palette.gradient.primary,\n              borderRadius: '50%',\n              zIndex: -1,\n              opacity: 0.2,\n            },\n          }}\n        >\n          {Icon && (\n            <Box\n              sx={{\n                background: theme.palette.gradient.primary,\n                WebkitBackgroundClip: 'text',\n                WebkitTextFillColor: 'transparent',\n                backgroundClip: 'text',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n              }}\n            >\n              <Icon \n                sx={{ \n                  fontSize: { xs: 40, sm: 50, md: 60 },\n                  opacity: 1,\n                  filter: 'drop-shadow(0 2px 4px rgba(102, 126, 234, 0.2))',\n                }} \n              />\n            </Box>\n          )}\n        </Box>\n      </Box>\n\n      <Box\n        sx={{\n          maxWidth: { xs: '100%', sm: 500, md: 600 },\n          mb: theme.spacing(2),\n          animation: 'fadeInUp 0.6s ease-out',\n          animationDelay: '0.3s',\n          animationFillMode: 'both',\n          '@keyframes fadeInUp': {\n            from: {\n              opacity: 0,\n              transform: 'translateY(20px)',\n            },\n            to: {\n              opacity: 1,\n              transform: 'translateY(0)',\n            },\n          },\n        }}\n      >\n        <Typography\n          variant=\"h4\"\n          sx={{\n            fontWeight: 700,\n            mb: theme.spacing(2),\n            background: theme.palette.gradient.primary,\n            WebkitBackgroundClip: 'text',\n            WebkitTextFillColor: 'transparent',\n            backgroundClip: 'text',\n            fontSize: { xs: '1.5rem', sm: '1.875rem', md: '2.125rem' },\n            letterSpacing: '-0.01em',\n          }}\n        >\n          {title}\n        </Typography>\n\n        <Typography\n          variant=\"body1\"\n          color=\"text.secondary\"\n          sx={{\n            fontSize: { xs: '0.875rem', sm: '1rem' },\n            lineHeight: 1.6,\n            px: { xs: 2, sm: 0 },\n          }}\n        >\n          {message}\n        </Typography>\n      </Box>\n\n      {actionLabel && onAction && (\n        <Box\n          sx={{\n            animation: 'fadeInUp 0.6s ease-out',\n            animationDelay: '0.4s',\n            animationFillMode: 'both',\n          }}\n        >\n          <Button\n            variant=\"contained\"\n            onClick={onAction}\n            sx={{\n              background: theme.palette.gradient.primary,\n              color: 'white',\n              padding: { xs: '10px 24px', sm: '12px 32px' },\n              fontSize: { xs: '0.875rem', sm: '1rem' },\n              fontWeight: 600,\n              borderRadius: 3,\n              textTransform: 'none',\n              boxShadow: '0 8px 24px rgba(102, 126, 234, 0.3)',\n              transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\n              '&:hover': {\n                background: 'linear-gradient(135deg, #5568d3 0%, #653a8b 100%)',\n                boxShadow: '0 12px 32px rgba(102, 126, 234, 0.4)',\n                transform: 'translateY(-2px)',\n              },\n              '&:active': {\n                transform: 'translateY(0)',\n                boxShadow: '0 6px 16px rgba(102, 126, 234, 0.3)',\n              },\n            }}\n          >\n            {actionLabel}\n          </Button>\n        </Box>\n      )}\n    </Box>\n  );\n};\n\nexport default EmptyState;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useTheme } from '@mui/material/styles';\nimport {\n  Box,\n  Typography,\n  Paper,\n  Card,\n  CardContent,\n  Chip,\n  Button,\n  Grid,\n  Alert,\n  Snackbar,\n  IconButton,\n  Menu,\n  MenuItem,\n  ListItemIcon,\n  ListItemText,\n  Divider,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  TextField,\n  FormControl,\n  InputLabel,\n  Select,\n  Slider,\n  Tooltip,\n  Avatar,\n  Skeleton,\n  Checkbox,\n  Toolbar\n} from '@mui/material';\nimport {\n  Add,\n  MoreVert,\n  Edit,\n  Visibility,\n  Person,\n  Schedule,\n  TrendingUp,\n  Refresh,\n  ViewList,\n  AttachMoney,\n  Assignment,\n  Close,\n  Archive,\n  SwapHoriz\n} from '@mui/icons-material';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { dealApi, DEAL_STAGES, DEAL_PRIORITIES } from '../../services/dealApi';\nimport useScrollReveal from '../../utils/useScrollReveal';\nimport EmptyState from '../../components/Common/EmptyState';\n\nconst Pipeline = () => {\n  const navigate = useNavigate();\n  const theme = useTheme();\n  const [statsRef, statsVisible] = useScrollReveal({ threshold: 0.1 });\n  const [dealsByStage, setDealsByStage] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'success' });\n  const [menuAnchor, setMenuAnchor] = useState({ element: null, deal: null });\n  const [stageDialog, setStageDialog] = useState({ open: false, deal: null, newStage: '', notes: '' });\n  const [probabilityDialog, setProbabilityDialog] = useState({ open: false, deal: null, probability: 50 });\n  const [pipelineStats, setPipelineStats] = useState({\n    totalValue: 0,\n    totalDeals: 0,\n    averageDealSize: 0,\n    winRate: 0\n  });\n  const [selectedDeals, setSelectedDeals] = useState(new Set());\n  const [bulkActionDialogOpen, setBulkActionDialogOpen] = useState(false);\n  const [bulkAction, setBulkAction] = useState({ type: '', value: '' });\n\n  const fetchPipelineData = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const [dealsResponse, statsResponse] = await Promise.all([\n        dealApi.getDealsByStage(),\n        dealApi.getPipelineStats()\n      ]);\n      \n      if (dealsResponse && dealsResponse.dealsByStage) {\n        setDealsByStage(dealsResponse.dealsByStage);\n      } else {\n        setDealsByStage({});\n      }\n      \n      if (statsResponse && statsResponse.stats) {\n        setPipelineStats(statsResponse.stats);\n      } else {\n        setPipelineStats({\n          totalValue: 0,\n          totalDeals: 0,\n          averageDealSize: 0,\n          winRate: 0\n        });\n      }\n    } catch (err) {\n      console.error('Failed to load pipeline data:', err);\n      setDealsByStage({});\n      setPipelineStats({\n        totalValue: 0,\n        totalDeals: 0,\n        averageDealSize: 0,\n        winRate: 0\n      });\n      setSnackbar({\n        open: true,\n        message: 'Failed to load pipeline data. Please try again.',\n        severity: 'error'\n      });\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchPipelineData();\n  }, [fetchPipelineData]);\n\n  const handleDragEnd = useCallback(async (result) => {\n    const { destination, source, draggableId } = result;\n\n    // If dropped outside a droppable area\n    if (!destination) {\n      return;\n    }\n\n    // If dropped in the same position\n    if (\n      destination.droppableId === source.droppableId &&\n      destination.index === source.index\n    ) {\n      return;\n    }\n\n    const sourceStageId = source.droppableId;\n    const destStageId = destination.droppableId;\n    const dealId = draggableId;\n\n    // Find the deal being moved\n    const deal = dealsByStage[sourceStageId]?.find(d => String(d.id) === dealId);\n    if (!deal) return;\n\n    // Deep clone to avoid mutations\n    const newDealsByStage = {};\n    Object.keys(dealsByStage).forEach(key => {\n      newDealsByStage[key] = [...(dealsByStage[key] || [])];\n    });\n    \n    // Remove from source\n    const [removed] = newDealsByStage[sourceStageId].splice(source.index, 1);\n    \n    // Add to destination with updated stage and probability\n    const destStage = DEAL_STAGES.find(stage => stage.id === destStageId);\n    const updatedDeal = {\n      ...removed,\n      stage: destStageId,\n      probability: destStage ? destStage.probability : removed.probability\n    };\n    \n    // Add to destination  \n    newDealsByStage[destStageId] = newDealsByStage[destStageId] || [];\n    newDealsByStage[destStageId].splice(destination.index, 0, updatedDeal);\n    \n    // Store previous state for revert\n    const previousState = dealsByStage;\n    \n    // Optimistic update\n    setDealsByStage(newDealsByStage);\n\n    // Update backend\n    try {\n      await dealApi.updateDealStage(removed.id, destStageId, `Moved from ${sourceStageId} to ${destStageId}`);\n      setSnackbar({\n        open: true,\n        message: `Deal moved to ${destStage?.name || destStageId}`,\n        severity: 'success'\n      });\n    } catch (err) {\n      // Revert to pristine previous state\n      setDealsByStage(previousState);\n      setSnackbar({\n        open: true,\n        message: 'Failed to update deal stage',\n        severity: 'error'\n      });\n    }\n  }, [dealsByStage]);\n\n  const handleMenuClick = useCallback((event, deal) => {\n    setMenuAnchor({ element: event.currentTarget, deal });\n  }, []);\n\n  const handleMenuClose = useCallback(() => {\n    setMenuAnchor({ element: null, deal: null });\n  }, []);\n\n  const handleViewDeal = useCallback((deal) => {\n    navigate(`/deals/${deal.id}`);\n  }, [navigate]);\n\n  const handleEditDeal = useCallback((deal) => {\n    navigate(`/deals/${deal.id}/edit`);\n  }, [navigate]);\n\n  const handleUpdateStage = useCallback((deal) => {\n    setStageDialog({ \n      open: true, \n      deal, \n      newStage: deal.stage, \n      notes: '' \n    });\n    setMenuAnchor({ element: null, deal: null });\n  }, []);\n\n  const handleUpdateProbability = useCallback((deal) => {\n    setProbabilityDialog({\n      open: true,\n      deal,\n      probability: deal.probability\n    });\n    setMenuAnchor({ element: null, deal: null });\n  }, []);\n\n  const confirmStageUpdate = async () => {\n    try {\n      await dealApi.updateDealStage(\n        stageDialog.deal.id, \n        stageDialog.newStage, \n        stageDialog.notes\n      );\n\n      // Update local state\n      const updatedDealsByStage = { ...dealsByStage };\n      const currentStage = stageDialog.deal.stage;\n      const newStage = stageDialog.newStage;\n\n      if (currentStage !== newStage) {\n        // Remove from current stage\n        updatedDealsByStage[currentStage] = updatedDealsByStage[currentStage].filter(\n          d => d.id !== stageDialog.deal.id\n        );\n\n        // Add to new stage\n        const updatedDeal = {\n          ...stageDialog.deal,\n          stage: newStage,\n          probability: DEAL_STAGES.find(s => s.id === newStage)?.probability || stageDialog.deal.probability\n        };\n        \n        updatedDealsByStage[newStage] = updatedDealsByStage[newStage] || [];\n        updatedDealsByStage[newStage].push(updatedDeal);\n        \n        setDealsByStage(updatedDealsByStage);\n      }\n\n      setSnackbar({\n        open: true,\n        message: 'Deal stage updated successfully',\n        severity: 'success'\n      });\n    } catch (err) {\n      setSnackbar({\n        open: true,\n        message: 'Failed to update deal stage',\n        severity: 'error'\n      });\n    }\n\n    setStageDialog({ open: false, deal: null, newStage: '', notes: '' });\n  };\n\n  const confirmProbabilityUpdate = async () => {\n    try {\n      await dealApi.updateProbability(probabilityDialog.deal.id, probabilityDialog.probability);\n\n      // Update local state\n      const updatedDealsByStage = { ...dealsByStage };\n      const stage = probabilityDialog.deal.stage;\n      const dealIndex = updatedDealsByStage[stage].findIndex(d => d.id === probabilityDialog.deal.id);\n      \n      if (dealIndex !== -1) {\n        updatedDealsByStage[stage][dealIndex].probability = probabilityDialog.probability;\n        setDealsByStage(updatedDealsByStage);\n      }\n\n      setSnackbar({\n        open: true,\n        message: 'Deal probability updated successfully',\n        severity: 'success'\n      });\n    } catch (err) {\n      setSnackbar({\n        open: true,\n        message: 'Failed to update deal probability',\n        severity: 'error'\n      });\n    }\n\n    setProbabilityDialog({ open: false, deal: null, probability: 50 });\n  };\n\n  const handleSelectDeal = useCallback((dealId, event) => {\n    event.stopPropagation();\n    setSelectedDeals(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(dealId)) {\n        newSet.delete(dealId);\n      } else {\n        newSet.add(dealId);\n      }\n      return newSet;\n    });\n  }, []);\n\n  const handleSelectAll = useCallback((stage) => {\n    const stageDeals = dealsByStage[stage] || [];\n    const stageDealIds = stageDeals.map(d => d.id);\n    \n    setSelectedDeals(prev => {\n      const newSet = new Set(prev);\n      const allSelected = stageDealIds.every(id => newSet.has(id));\n      \n      if (allSelected) {\n        stageDealIds.forEach(id => newSet.delete(id));\n      } else {\n        stageDealIds.forEach(id => newSet.add(id));\n      }\n      \n      return newSet;\n    });\n  }, [dealsByStage]);\n\n  const handleBulkStageChange = useCallback((newStage) => {\n    setBulkAction({ type: 'stage', value: newStage });\n    setBulkActionDialogOpen(true);\n  }, []);\n\n  const handleBulkDelete = useCallback(() => {\n    setBulkAction({ type: 'delete', value: null });\n    setBulkActionDialogOpen(true);\n  }, []);\n\n  const executeBulkAction = useCallback(async () => {\n    const dealIds = Array.from(selectedDeals);\n    \n    if (dealIds.length === 0) {\n      return;\n    }\n\n    try {\n      let updates = {};\n      \n      if (bulkAction.type === 'stage') {\n        updates.stage = bulkAction.value;\n      } else if (bulkAction.type === 'delete') {\n        updates.status = 'archived';\n      }\n\n      const response = await dealApi.bulkUpdateDeals(dealIds, updates);\n      \n      if (response.success) {\n        await fetchPipelineData();\n        \n        setSnackbar({\n          open: true,\n          message: `Successfully updated ${response.updated} deal(s)`,\n          severity: 'success'\n        });\n        \n        setSelectedDeals(new Set());\n        setBulkActionDialogOpen(false);\n      } else {\n        setSnackbar({\n          open: true,\n          message: response.message || 'Bulk update failed',\n          severity: 'error'\n        });\n      }\n    } catch (err) {\n      console.error('Bulk update error:', err);\n      setSnackbar({\n        open: true,\n        message: 'Failed to update deals. Please try again.',\n        severity: 'error'\n      });\n    }\n  }, [selectedDeals, bulkAction, fetchPipelineData]);\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(amount);\n  };\n\n  const getPriorityInfo = (priorityId) => {\n    return DEAL_PRIORITIES.find(priority => priority.id === priorityId) || DEAL_PRIORITIES[0];\n  };\n\n  const getStageGradient = (stageId, theme) => {\n    const gradientMap = {\n      prospecting: theme.palette.gradient.info,\n      qualification: theme.palette.gradient.primary,\n      proposal: theme.palette.gradient.warning,\n      negotiation: theme.palette.gradient.secondary,\n      contract: theme.palette.gradient.success,\n      closed_won: theme.palette.gradient.success,\n      closed_lost: theme.palette.gradient.secondary\n    };\n    return gradientMap[stageId] || theme.palette.gradient.primary;\n  };\n\n  const getPriorityGradient = (priorityId, theme) => {\n    const gradientMap = {\n      high: theme.palette.gradient.warning,\n      medium: theme.palette.gradient.info,\n      low: theme.palette.gradient.secondary\n    };\n    return gradientMap[priorityId] || theme.palette.gradient.secondary;\n  };\n\n  const allDealsEmpty = !loading && Object.keys(dealsByStage).every(stageId => {\n    const deals = dealsByStage[stageId];\n    return !deals || deals.length === 0;\n  });\n\n  if (error) {\n    return (\n      <Box>\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\n          <Typography variant=\"h6\">Failed to load pipeline</Typography>\n          <Typography>{error}</Typography>\n        </Alert>\n        <Button \n          variant=\"contained\" \n          onClick={() => window.location.reload()}\n          sx={{ mt: 2 }}\n        >\n          Retry\n        </Button>\n      </Box>\n    );\n  }\n\n  return (\n    <Box>\n      {/* Header */}\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3, animation: 'fadeInScale 0.6s ease-out' }}>\n        <Typography variant=\"h4\" sx={{ fontWeight: 700 }}>\n          Sales Pipeline\n        </Typography>\n        <Box sx={{ display: 'flex', gap: 1 }}>\n          <Button\n            variant=\"outlined\"\n            startIcon={<ViewList />}\n            onClick={() => navigate('/deals')}\n          >\n            List View\n          </Button>\n          <Button\n            variant=\"outlined\"\n            onClick={fetchPipelineData}\n            disabled={loading}\n            startIcon={<Refresh className=\"icon-spin-hover\" />}\n          >\n            Refresh\n          </Button>\n          <Button\n            variant=\"contained\"\n            startIcon={<Add />}\n            onClick={() => navigate('/deals/new')}\n          >\n            Add Deal\n          </Button>\n        </Box>\n      </Box>\n\n      {/* Pipeline Stats */}\n      <Box\n        ref={statsRef}\n        sx={{\n          opacity: statsVisible ? 1 : 0,\n          transform: statsVisible ? 'translateY(0)' : 'translateY(30px)',\n          transition: 'all 0.6s ease-out'\n        }}\n      >\n        <Grid container spacing={3} sx={{ mb: 3 }}>\n          <Grid item xs={12} sm={6} md={3}>\n            <Paper sx={{ p: 2, textAlign: 'center' }}>\n            <Typography variant=\"h4\" sx={{ fontWeight: 700, color: 'primary.main' }}>\n              {formatCurrency(pipelineStats.totalValue)}\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              Total Pipeline Value\n            </Typography>\n          </Paper>\n        </Grid>\n        <Grid item xs={12} sm={6} md={3}>\n          <Paper sx={{ p: 2, textAlign: 'center' }}>\n            <Typography variant=\"h4\" sx={{ fontWeight: 700, color: 'info.main' }}>\n              {pipelineStats.totalDeals}\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              Active Deals\n            </Typography>\n          </Paper>\n        </Grid>\n        <Grid item xs={12} sm={6} md={3}>\n          <Paper sx={{ p: 2, textAlign: 'center' }}>\n            <Typography variant=\"h4\" sx={{ fontWeight: 700, color: 'success.main' }}>\n              {formatCurrency(pipelineStats.averageDealSize)}\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              Average Deal Size\n            </Typography>\n          </Paper>\n        </Grid>\n        <Grid item xs={12} sm={6} md={3}>\n          <Paper sx={{ p: 2, textAlign: 'center' }}>\n            <Typography variant=\"h4\" sx={{ fontWeight: 700, color: 'warning.main' }}>\n              {pipelineStats.winRate.toFixed(1)}%\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              Win Rate\n            </Typography>\n          </Paper>\n        </Grid>\n      </Grid>\n      </Box>\n\n      {/* Empty State - shown when not loading and all deals are empty */}\n      {allDealsEmpty && (\n        <EmptyState\n          icon={Assignment}\n          title=\"No deals in pipeline\"\n          message=\"Get started by creating your first deal to track your opportunities\"\n          actionLabel=\"Add Deal\"\n          onAction={() => navigate('/deals/new')}\n        />\n      )}\n\n      {/* Pipeline Board - hidden when showing empty state */}\n      {!allDealsEmpty && (\n        <>\n          {selectedDeals.size > 0 && (\n            <Paper\n              elevation={10}\n              sx={{\n                position: 'sticky',\n                top: 16,\n                zIndex: 1000,\n                mb: 3,\n                background: `linear-gradient(135deg, ${theme.palette.gradient.primary.main}, ${theme.palette.gradient.primary.light})`,\n                borderRadius: '12px',\n                overflow: 'hidden',\n                animation: 'fadeInUp 0.3s ease-out'\n              }}\n            >\n              <Toolbar>\n                <Typography variant=\"h6\" sx={{ flex: 1, color: 'white' }}>\n                  {selectedDeals.size} deal{selectedDeals.size !== 1 ? 's' : ''} selected\n                </Typography>\n                \n                <Tooltip title=\"Change Stage\">\n                  <IconButton\n                    onClick={() => handleBulkStageChange('qualification')}\n                    sx={{ color: 'white', mr: 1 }}\n                  >\n                    <SwapHoriz />\n                  </IconButton>\n                </Tooltip>\n                \n                <Tooltip title=\"Archive Selected\">\n                  <IconButton\n                    onClick={handleBulkDelete}\n                    sx={{ color: 'white' }}\n                  >\n                    <Archive />\n                  </IconButton>\n                </Tooltip>\n                \n                <Tooltip title=\"Clear Selection\">\n                  <IconButton\n                    onClick={() => setSelectedDeals(new Set())}\n                    sx={{ color: 'white', ml: 2 }}\n                  >\n                    <Close />\n                  </IconButton>\n                </Tooltip>\n              </Toolbar>\n            </Paper>\n          )}\n\n        <DragDropContext onDragEnd={handleDragEnd}>\n          <Box sx={{ display: 'flex', gap: 2, overflowX: 'auto', pb: 2 }}>\n            {DEAL_STAGES.filter(stage => stage.id !== 'closed_lost').map((stage) => {\n              const stageDeals = dealsByStage[stage.id] || [];\n              const stageValue = stageDeals.reduce((sum, deal) => sum + deal.value, 0);\n\n              return (\n                <Paper\n                  key={stage.id}\n                  sx={{\n                    minWidth: 280,\n                    maxWidth: 280,\n                    borderRadius: 3,\n                    boxShadow: 2,\n                    overflow: 'hidden',\n                    border: '1px solid',\n                    borderColor: 'divider'\n                  }}\n                >\n                  {/* Stage Header with Gradient */}\n                  <Box \n                    sx={{ \n                      p: 1.25, \n                      background: getStageGradient(stage.id, theme),\n                      color: 'white'\n                    }}\n                  >\n                    <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 0.5 }}>\n                      <Typography variant=\"subtitle1\" sx={{ fontWeight: 600, color: 'white', fontSize: '0.938rem' }}>\n                        {stage.name}\n                      </Typography>\n                      {!loading && stageDeals.length > 0 && (\n                        <Tooltip title=\"Select all deals in this stage\">\n                          <Checkbox\n                            checked={stageDeals.length > 0 && stageDeals.every(d => selectedDeals.has(d.id))}\n                            indeterminate={stageDeals.some(d => selectedDeals.has(d.id)) && !stageDeals.every(d => selectedDeals.has(d.id))}\n                            onChange={() => handleSelectAll(stage.id)}\n                            sx={{\n                              color: 'rgba(255, 255, 255, 0.7)',\n                              '&.Mui-checked': {\n                                color: 'white'\n                              },\n                              '&.MuiCheckbox-indeterminate': {\n                                color: 'white'\n                              }\n                            }}\n                          />\n                        </Tooltip>\n                      )}\n                    </Box>\n                    <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                      <Typography variant=\"caption\" sx={{ color: 'rgba(255, 255, 255, 0.9)', fontSize: '0.813rem' }}>\n                        {loading ? '-' : `${stageDeals.length} deal${stageDeals.length !== 1 ? 's' : ''}`}\n                      </Typography>\n                      <Typography variant=\"caption\" sx={{ fontWeight: 600, color: 'white', fontSize: '0.813rem' }}>\n                        {loading ? '-' : formatCurrency(stageValue)}\n                      </Typography>\n                    </Box>\n                  </Box>\n\n                  {/* Droppable Area */}\n                  <Droppable droppableId={stage.id}>\n                    {(provided, snapshot) => (\n                      <Box\n                        ref={provided.innerRef}\n                        {...provided.droppableProps}\n                        sx={{\n                          minHeight: 200,\n                          maxHeight: 600,\n                          overflowY: 'auto',\n                          p: 0.75,\n                          backgroundColor: snapshot.isDraggingOver ? 'action.hover' : 'transparent'\n                        }}\n                      >\n                      {loading ? (\n                        // Show skeleton loading cards\n                        [...Array(2)].map((_, index) => (\n                          <Card\n                            key={`skeleton-${index}`}\n                            sx={{\n                              mb: 0.75,\n                              borderRadius: 2,\n                              boxShadow: 1\n                            }}\n                          >\n                            <CardContent sx={{ p: 1.25, '&:last-child': { pb: 1.25 } }}>\n                              <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', mb: 1 }}>\n                                <Skeleton variant=\"rounded\" width={60} height={20} animation=\"wave\" sx={{ borderRadius: 2 }} />\n                                <Skeleton variant=\"circular\" width={24} height={24} animation=\"wave\" />\n                              </Box>\n                              <Skeleton variant=\"text\" width=\"80%\" height={24} animation=\"wave\" sx={{ mb: 1 }} />\n                              <Skeleton variant=\"text\" width=\"50%\" height={32} animation=\"wave\" sx={{ mb: 1 }} />\n                              <Box sx={{ mb: 1 }}>\n                                <Skeleton variant=\"text\" width=\"100%\" height={16} animation=\"wave\" sx={{ mb: 0.5 }} />\n                                <Skeleton variant=\"rounded\" width=\"100%\" height={6} animation=\"wave\" sx={{ borderRadius: 3 }} />\n                              </Box>\n                              <Skeleton variant=\"text\" width=\"70%\" height={16} animation=\"wave\" sx={{ mb: 0.5 }} />\n                              <Skeleton variant=\"text\" width=\"60%\" height={16} animation=\"wave\" />\n                            </CardContent>\n                          </Card>\n                        ))\n                      ) : stageDeals.length === 0 ? (\n                        <Box\n                          sx={{\n                            display: 'flex',\n                            flexDirection: 'column',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            py: 4,\n                            px: 2\n                          }}\n                        >\n                          <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\">\n                            No deals in this stage\n                          </Typography>\n                          <Typography variant=\"caption\" color=\"text.secondary\" align=\"center\" sx={{ mt: 0.5 }}>\n                            Drag deals here to update their stage\n                          </Typography>\n                        </Box>\n                      ) : (\n                        stageDeals.map((deal, index) => {\n                          const priorityInfo = getPriorityInfo(deal.priority);\n\n                          return (\n                            <Draggable key={deal.id} draggableId={String(deal.id)} index={index}>\n                            {(provided, snapshot) => (\n                              <Card\n                                ref={provided.innerRef}\n                                {...provided.draggableProps}\n                                {...provided.dragHandleProps}\n                                sx={{\n                                  mb: 0.75,\n                                  cursor: 'grab',\n                                  borderRadius: 2,\n                                  boxShadow: snapshot.isDragging ? 3 : 1,\n                                  transform: snapshot.isDragging ? 'rotate(5deg)' : 'none',\n                                  transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\n                                  position: 'relative',\n                                  '&:hover': {\n                                    boxShadow: 3,\n                                    transform: 'translateY(-2px)',\n                                    '& .quick-actions': {\n                                      opacity: 1,\n                                      visibility: 'visible'\n                                    }\n                                  }\n                                }}\n                              >\n                                <CardContent sx={{ p: 1.25, '&:last-child': { pb: 1.25 } }}>\n                                  <Checkbox\n                                    checked={selectedDeals.has(deal.id)}\n                                    onChange={(e) => handleSelectDeal(deal.id, e)}\n                                    onClick={(e) => e.stopPropagation()}\n                                    size=\"small\"\n                                    sx={{\n                                      position: 'absolute',\n                                      top: 4,\n                                      left: 4,\n                                      zIndex: 10,\n                                      padding: 0.5,\n                                      color: 'white',\n                                      '&.Mui-checked': {\n                                        color: theme.palette.gradient.secondary.main\n                                      }\n                                    }}\n                                  />\n                                  {/* Header */}\n                                  <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', mb: 0.5 }}>\n                                    <Chip\n                                      label={priorityInfo.name}\n                                      size=\"small\"\n                                      sx={{ \n                                        background: getPriorityGradient(deal.priority, theme),\n                                        color: 'white',\n                                        fontSize: '0.688rem',\n                                        height: 18,\n                                        fontWeight: 600,\n                                        backdropFilter: 'blur(10px)',\n                                        border: 'none'\n                                      }}\n                                    />\n                                    <IconButton \n                                      size=\"small\"\n                                      onClick={(e) => {\n                                        e.stopPropagation();\n                                        handleMenuClick(e, deal);\n                                      }}\n                                      sx={{ \n                                        p: 0.5,\n                                        transition: 'all 0.2s',\n                                        '&:hover': { \n                                          backgroundColor: 'action.hover',\n                                          transform: 'scale(1.1)'\n                                        }\n                                      }}\n                                    >\n                                      <MoreVert sx={{ fontSize: 16 }} />\n                                    </IconButton>\n                                  </Box>\n\n                                  {/* Deal Name */}\n                                  <Typography \n                                    variant=\"caption\" \n                                    sx={{ \n                                      fontWeight: 600, \n                                      fontSize: '0.875rem',\n                                      mb: 0.5,\n                                      display: 'block',\n                                      cursor: 'pointer',\n                                      transition: 'color 0.2s',\n                                      '&:hover': { \n                                        background: theme.palette.gradient.primary,\n                                        WebkitBackgroundClip: 'text',\n                                        WebkitTextFillColor: 'transparent'\n                                      }\n                                    }}\n                                    onClick={(e) => {\n                                      e.stopPropagation();\n                                      handleViewDeal(deal);\n                                    }}\n                                  >\n                                    {deal.name}\n                                  </Typography>\n\n                                  {/* Value with Gradient */}\n                                  <Typography \n                                    variant=\"subtitle1\" \n                                    sx={{ \n                                      background: theme.palette.gradient.primary,\n                                      WebkitBackgroundClip: 'text',\n                                      WebkitTextFillColor: 'transparent',\n                                      fontWeight: 700, \n                                      fontSize: '1rem',\n                                      mb: 0.5 \n                                    }}\n                                  >\n                                    {formatCurrency(deal.value)}\n                                  </Typography>\n\n                                  {/* Probability with Gradient Progress */}\n                                  <Box sx={{ mb: 0.5 }}>\n                                    <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 0.25 }}>\n                                      <Typography variant=\"caption\" color=\"text.secondary\" sx={{ fontSize: '0.688rem' }}>\n                                        Probability\n                                      </Typography>\n                                      <Typography variant=\"caption\" sx={{ fontWeight: 600, fontSize: '0.688rem' }}>\n                                        {deal.probability}%\n                                      </Typography>\n                                    </Box>\n                                    <Box\n                                      sx={{\n                                        height: 4,\n                                        borderRadius: 2,\n                                        background: 'rgba(0, 0, 0, 0.1)',\n                                        overflow: 'hidden'\n                                      }}\n                                    >\n                                      <Box\n                                        sx={{\n                                          height: '100%',\n                                          width: `${deal.probability}%`,\n                                          background: theme.palette.gradient.success,\n                                          transition: 'width 0.3s ease'\n                                        }}\n                                      />\n                                    </Box>\n                                  </Box>\n\n                                  {/* Quick Action Buttons on Hover */}\n                                  <Box\n                                    className=\"quick-actions\"\n                                    sx={{\n                                      display: 'flex',\n                                      gap: 0.5,\n                                      mt: 0.5,\n                                      opacity: 0,\n                                      visibility: 'hidden',\n                                      transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)'\n                                    }}\n                                  >\n                                    <Tooltip title=\"View Deal\">\n                                      <IconButton\n                                        size=\"small\"\n                                        onClick={(e) => {\n                                          e.stopPropagation();\n                                          handleViewDeal(deal);\n                                        }}\n                                        sx={{\n                                          flex: 1,\n                                          borderRadius: 1.5,\n                                          p: 0.5,\n                                          background: theme.palette.gradient.info,\n                                          color: 'white',\n                                          '&:hover': {\n                                            background: theme.palette.gradient.info,\n                                            opacity: 0.9\n                                          }\n                                        }}\n                                      >\n                                        <Visibility sx={{ fontSize: 14 }} />\n                                      </IconButton>\n                                    </Tooltip>\n                                    <Tooltip title=\"Edit Deal\">\n                                      <IconButton\n                                        size=\"small\"\n                                        onClick={(e) => {\n                                          e.stopPropagation();\n                                          handleEditDeal(deal);\n                                        }}\n                                        sx={{\n                                          flex: 1,\n                                          borderRadius: 1.5,\n                                          p: 0.5,\n                                          background: theme.palette.gradient.warning,\n                                          color: 'white',\n                                          '&:hover': {\n                                            background: theme.palette.gradient.warning,\n                                            opacity: 0.9\n                                          }\n                                        }}\n                                      >\n                                        <Edit sx={{ fontSize: 14 }} />\n                                      </IconButton>\n                                    </Tooltip>\n                                  </Box>\n\n                                  {/* Stage Indicator */}\n                                  <Box sx={{ mt: 0.5, mb: 0.5 }}>\n                                    <Chip\n                                      label={stage.name}\n                                      size=\"small\"\n                                      sx={{\n                                        background: getStageGradient(stage.id, theme),\n                                        color: 'white',\n                                        fontSize: '0.688rem',\n                                        height: 18,\n                                        fontWeight: 600,\n                                        backdropFilter: 'blur(10px)'\n                                      }}\n                                    />\n                                  </Box>\n\n                                  {/* Contact */}\n                                  <Box sx={{ display: 'flex', alignItems: 'center', mb: 0.5 }}>\n                                    <Person sx={{ fontSize: 12, mr: 0.5, color: 'text.secondary' }} />\n                                    <Typography variant=\"caption\" color=\"text.secondary\" noWrap sx={{ fontSize: '0.688rem' }}>\n                                      {deal.contact?.type === 'company' \n                                        ? deal.contact?.companyName\n                                        : `${deal.contact?.firstName} ${deal.contact?.lastName}`\n                                      }\n                                    </Typography>\n                                  </Box>\n\n                                  {/* Close Date */}\n                                  <Box sx={{ display: 'flex', alignItems: 'center', mb: 0.5 }}>\n                                    <Schedule sx={{ fontSize: 12, mr: 0.5, color: 'text.secondary' }} />\n                                    <Typography variant=\"caption\" color=\"text.secondary\" sx={{ fontSize: '0.688rem' }}>\n                                      {new Date(deal.expectedCloseDate).toLocaleDateString()}\n                                    </Typography>\n                                  </Box>\n\n                                  {/* Assigned To */}\n                                  <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                                    <Avatar sx={{ width: 16, height: 16, mr: 0.5, fontSize: '0.625rem' }}>\n                                      {deal.assignedTo?.firstName?.[0]}\n                                    </Avatar>\n                                    <Typography variant=\"caption\" color=\"text.secondary\" sx={{ fontSize: '0.688rem' }}>\n                                      {deal.assignedTo?.firstName} {deal.assignedTo?.lastName}\n                                    </Typography>\n                                  </Box>\n                                </CardContent>\n                              </Card>\n                            )}\n                          </Draggable>\n                          );\n                        })\n                      )}\n                      {provided.placeholder}\n                    </Box>\n                  )}\n                </Droppable>\n              </Paper>\n            );\n          })}\n        </Box>\n      </DragDropContext>\n        </>\n      )}\n\n      {/* Actions Menu */}\n      <Menu\n        anchorEl={menuAnchor.element}\n        open={Boolean(menuAnchor.element)}\n        onClose={handleMenuClose}\n      >\n        <MenuItem onClick={() => {\n          handleViewDeal(menuAnchor.deal);\n          handleMenuClose();\n        }}>\n          <ListItemIcon>\n            <Visibility fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText>View Details</ListItemText>\n        </MenuItem>\n        <MenuItem onClick={() => {\n          handleEditDeal(menuAnchor.deal);\n          handleMenuClose();\n        }}>\n          <ListItemIcon>\n            <Edit fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText>Edit Deal</ListItemText>\n        </MenuItem>\n        <Divider />\n        <MenuItem onClick={() => handleUpdateStage(menuAnchor.deal)}>\n          <ListItemIcon>\n            <TrendingUp fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText>Update Stage</ListItemText>\n        </MenuItem>\n        <MenuItem onClick={() => handleUpdateProbability(menuAnchor.deal)}>\n          <ListItemIcon>\n            <AttachMoney fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText>Update Probability</ListItemText>\n        </MenuItem>\n      </Menu>\n\n      {/* Stage Update Dialog */}\n      <Dialog open={stageDialog.open} onClose={() => setStageDialog({ open: false, deal: null, newStage: '', notes: '' })}>\n        <DialogTitle>Update Deal Stage</DialogTitle>\n        <DialogContent sx={{ minWidth: 400 }}>\n          <Box sx={{ pt: 1 }}>\n            <FormControl fullWidth sx={{ mb: 2 }}>\n              <InputLabel>New Stage</InputLabel>\n              <Select\n                value={stageDialog.newStage}\n                label=\"New Stage\"\n                onChange={(e) => setStageDialog(prev => ({ ...prev, newStage: e.target.value }))}\n              >\n                {DEAL_STAGES.filter(stage => stage.id !== 'closed_lost').map((stage) => (\n                  <MenuItem key={stage.id} value={stage.id}>\n                    {stage.name} ({stage.probability}%)\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n            \n            <TextField\n              fullWidth\n              label=\"Notes (optional)\"\n              multiline\n              rows={3}\n              value={stageDialog.notes}\n              onChange={(e) => setStageDialog(prev => ({ ...prev, notes: e.target.value }))}\n              helperText=\"Add any notes about this stage change\"\n            />\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setStageDialog({ open: false, deal: null, newStage: '', notes: '' })}>\n            Cancel\n          </Button>\n          <Button onClick={confirmStageUpdate} variant=\"contained\">\n            Update Stage\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Probability Update Dialog */}\n      <Dialog open={probabilityDialog.open} onClose={() => setProbabilityDialog({ open: false, deal: null, probability: 50 })}>\n        <DialogTitle>Update Deal Probability</DialogTitle>\n        <DialogContent sx={{ minWidth: 400 }}>\n          <Box sx={{ pt: 2 }}>\n            <Typography gutterBottom>\n              Probability: {probabilityDialog.probability}%\n            </Typography>\n            <Slider\n              value={probabilityDialog.probability}\n              onChange={(e, value) => setProbabilityDialog(prev => ({ ...prev, probability: value }))}\n              valueLabelDisplay=\"auto\"\n              step={5}\n              marks\n              min={0}\n              max={100}\n              sx={{ mb: 2 }}\n            />\n            <Typography variant=\"caption\" color=\"text.secondary\">\n              Adjust the likelihood of this deal closing successfully\n            </Typography>\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setProbabilityDialog({ open: false, deal: null, probability: 50 })}>\n            Cancel\n          </Button>\n          <Button onClick={confirmProbabilityUpdate} variant=\"contained\">\n            Update Probability\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Bulk Confirmation Dialog */}\n      <Dialog\n        open={bulkActionDialogOpen}\n        onClose={() => setBulkActionDialogOpen(false)}\n      >\n        <DialogTitle>Confirm Bulk Action</DialogTitle>\n        <DialogContent>\n          <Typography>\n            {bulkAction.type === 'stage' && `Change stage to ${bulkAction.value} for ${selectedDeals.size} deal(s)?`}\n            {bulkAction.type === 'delete' && `Archive ${selectedDeals.size} deal(s)?`}\n          </Typography>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setBulkActionDialogOpen(false)}>Cancel</Button>\n          <Button onClick={executeBulkAction} variant=\"contained\" color=\"primary\">\n            Confirm\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Snackbar for notifications */}\n      <Snackbar\n        open={snackbar.open}\n        autoHideDuration={6000}\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\n      >\n        <Alert \n          onClose={() => setSnackbar({ ...snackbar, open: false })} \n          severity={snackbar.severity}\n          sx={{ width: '100%' }}\n        >\n          {snackbar.message}\n        </Alert>\n      </Snackbar>\n    </Box>\n  );\n};\n\nexport default Pipeline;"],"names":["options","arguments","length","undefined","threshold","rootMargin","triggerOnce","initialVisible","elementRef","useRef","isVisible","setIsVisible","useState","useEffect","observer","IntersectionObserver","_ref","entry","isIntersecting","current","unobserve","currentElement","observe","dealApi","getDeals","async","params","queryString","URLSearchParams","toString","url","concat","api","get","data","error","console","getDeal","id","createDeal","post","dealData","updateDeal","put","deleteDeal","delete","updateDealStage","stage","notes","addActivity","activityData","getDealActivities","updateProbability","probability","getPipelineStats","getDealsByStage","bulkUpdateDeals","dealIds","updates","duplicateDeal","newData","exportDeals","responseType","getDealForecast","getConversionMetrics","DEAL_STAGES","name","description","color","DEAL_PRIORITIES","DEAL_TYPES","icon","Icon","title","message","actionLabel","onAction","theme","useTheme","_jsxs","Box","sx","display","flexDirection","alignItems","justifyContent","minHeight","xs","sm","md","padding","spacing","textAlign","animation","from","opacity","transform","to","children","_jsx","position","mb","animationDelay","animationFillMode","width","height","borderRadius","background","backdropFilter","border","boxShadow","content","top","left","right","bottom","palette","gradient","primary","zIndex","WebkitBackgroundClip","WebkitTextFillColor","backgroundClip","fontSize","filter","maxWidth","Typography","variant","fontWeight","letterSpacing","lineHeight","px","Button","onClick","textTransform","transition","Pipeline","navigate","useNavigate","statsRef","statsVisible","useScrollReveal","dealsByStage","setDealsByStage","loading","setLoading","setError","snackbar","setSnackbar","open","severity","menuAnchor","setMenuAnchor","element","deal","stageDialog","setStageDialog","newStage","probabilityDialog","setProbabilityDialog","pipelineStats","setPipelineStats","totalValue","totalDeals","averageDealSize","winRate","selectedDeals","setSelectedDeals","Set","bulkActionDialogOpen","setBulkActionDialogOpen","bulkAction","setBulkAction","type","value","fetchPipelineData","useCallback","dealsResponse","statsResponse","Promise","all","stats","err","handleDragEnd","_dealsByStage$sourceS","destination","source","draggableId","result","droppableId","index","sourceStageId","destStageId","dealId","find","d","String","newDealsByStage","Object","keys","forEach","key","removed","splice","destStage","updatedDeal","_objectSpread","previousState","handleMenuClick","event","currentTarget","handleMenuClose","handleViewDeal","handleEditDeal","handleUpdateStage","handleUpdateProbability","handleSelectDeal","stopPropagation","prev","newSet","has","add","handleSelectAll","stageDealIds","map","every","handleBulkStageChange","handleBulkDelete","executeBulkAction","Array","status","response","success","updated","formatCurrency","amount","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","getStageGradient","stageId","prospecting","info","qualification","proposal","warning","negotiation","secondary","contract","closed_won","closed_lost","getPriorityGradient","priorityId","high","medium","low","allDealsEmpty","deals","Alert","window","location","reload","mt","gap","startIcon","ViewList","disabled","Refresh","className","Add","ref","Grid","container","item","Paper","p","toFixed","EmptyState","Assignment","_Fragment","size","elevation","main","light","overflow","Toolbar","flex","Tooltip","IconButton","mr","SwapHoriz","Archive","ml","Close","DragDropContext","onDragEnd","overflowX","pb","stageDeals","stageValue","reduce","sum","minWidth","borderColor","Checkbox","checked","indeterminate","some","onChange","Droppable","provided","snapshot","innerRef","droppableProps","maxHeight","overflowY","backgroundColor","isDraggingOver","_","Card","CardContent","Skeleton","py","align","priorityInfo","priority","Draggable","_deal$contact","_deal$contact2","_deal$contact3","_deal$contact4","_deal$assignedTo","_deal$assignedTo$firs","_deal$assignedTo2","_deal$assignedTo3","draggableProps","dragHandleProps","cursor","isDragging","visibility","e","Chip","label","MoreVert","Visibility","Edit","Person","noWrap","contact","companyName","firstName","lastName","Schedule","Date","expectedCloseDate","toLocaleDateString","Avatar","assignedTo","placeholder","Menu","anchorEl","Boolean","onClose","MenuItem","ListItemIcon","ListItemText","Divider","TrendingUp","AttachMoney","Dialog","DialogTitle","DialogContent","pt","FormControl","fullWidth","InputLabel","Select","target","TextField","multiline","rows","helperText","DialogActions","updatedDealsByStage","currentStage","_DEAL_STAGES$find","s","push","gutterBottom","Slider","valueLabelDisplay","step","marks","min","max","dealIndex","findIndex","Snackbar","autoHideDuration"],"sourceRoot":""}
"use strict";(self.webpackChunkcre_crm_client=self.webpackChunkcre_crm_client||[]).push([[8727],{39705:(e,t,a)=>{a.d(t,{TP:()=>r});var n=a(94505);const r={getContacts:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams(e).toString(),a="/contacts".concat(t?"?".concat(t):"");return(await n.Ay.get(a)).data}catch(t){throw console.error("Error fetching contacts:",t),t}},getContact:async e=>{try{return(await n.Ay.get("/contacts/".concat(e))).data}catch(t){throw console.error("Error fetching contact:",t),t}},createContact:async e=>{try{return(await n.Ay.post("/contacts",e)).data}catch(t){throw console.error("Error creating contact:",t),t}},updateContact:async(e,t)=>{try{return(await n.Ay.put("/contacts/".concat(e),t)).data}catch(a){throw console.error("Error updating contact:",a),a}},deleteContact:async e=>{try{return(await n.Ay.delete("/contacts/".concat(e))).data}catch(t){throw console.error("Error deleting contact:",t),t}}}},42336:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(66734),r=a(70579);const s=(0,n.A)((0,r.jsx)("path",{d:"M7.58 4.08 6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42m12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42M18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18.1-.24.15-.5.15-.78h-4c.01 1.1.9 2 2.01 2"}),"NotificationsActive")},42796:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(66734),r=a(70579);const s=(0,n.A)((0,r.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp")},58727:(e,t,a)=>{a.r(t),a.d(t,{default:()=>q});var n=a(65043),r=a(96446),s=a(81637),i=a(11906),c=a(67254),o=a(63336),l=a(81045),d=a(85865),x=a(43845),m=a(17392),h=a(29013),A=a(24056),y=a(68903),p=a(12110),j=a(26494),u=a(35721),g=a(24628),v=a(2050),b=a(48734),f=a(39336),C=a(79650),w=a(71806),I=a(84882),M=a(28076),k=a(10039),S=a(73460),N=a(87332),P=a(83560),T=a(66734),E=a(70579);const D=(0,T.A)((0,E.jsx)("path",{d:"M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3"}),"FindInPage");var R=a(42336),L=a(58823),F=a(80889),H=a(84770),U=a(48262),V=a(69974),z=a(91082),Z=a(67957),B=a(68746),W=a(42796),_=a(15337),O=a(73216),Y=a(39705);const q=()=>{const{id:e}=(0,O.g)(),t=(0,O.Zp)(),[a,T]=(0,n.useState)(null),[q,G]=(0,n.useState)(!0),[J,Q]=(0,n.useState)(null),[X,K]=(0,n.useState)(0),$={id:"1",type:"individual",firstName:"John",lastName:"Smith",companyName:"Smith Properties",title:"CEO",primaryEmail:"john@smithproperties.com",secondaryEmail:"j.smith@personal.com",primaryPhone:"(555) 123-4567",mobilePhone:"(555) 123-4568",mailingAddress:"123 Main Street",mailingCity:"New York",mailingState:"NY",mailingZipCode:"10001",contactRole:"investor",leadStatus:"hot",budgetMin:1e6,budgetMax:5e6,propertyTypeInterest:["office","retail","industrial"],preferredLocations:["New York","Los Angeles","Chicago"],timeframe:"30_days",notes:"High-net-worth individual looking for commercial real estate investments. Prefers Class A office buildings in prime locations.",tags:["VIP","High Priority","Referral"],lastContactDate:"2024-01-15T10:00:00Z",createdAt:"2024-01-01T10:00:00Z",assignedAgentId:"agent-123",creditRating:"A",netWorth:25e6,liquidity:5e6,website:"https://smithproperties.com",linkedInUrl:"https://linkedin.com/in/johnsmith",customFields:{investorType:"Individual",acquisitionCriteria:"Value-add opportunities in major markets"}},ee=[{id:"1",type:"email",title:"Sent market update",description:"Quarterly market report for NYC office market",date:"2024-01-15T10:00:00Z"},{id:"2",type:"call",title:"Follow-up call",description:"Discussed investment criteria and timeline",date:"2024-01-12T14:30:00Z"},{id:"3",type:"meeting",title:"Property showing",description:"Showed 123 Broadway office building",date:"2024-01-10T11:00:00Z"}];(0,n.useEffect)(()=>{(async()=>{try{G(!0);try{const t=await Y.TP.getContact(e);t&&t.contact?T(t.contact):(console.log("Using mock contact data - API response empty"),T($))}catch(t){console.warn("API error, using mock data:",t),T($)}}catch(a){Q("Failed to load contact details")}finally{G(!1)}})()},[e]);const te=()=>{t("/contacts")},ae=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);if(q)return(0,E.jsx)(r.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:(0,E.jsx)(s.A,{})});if(J||!a)return(0,E.jsxs)(r.A,{children:[(0,E.jsx)(i.A,{startIcon:(0,E.jsx)(N.A,{}),onClick:te,sx:{mb:2},children:"Back to Contacts"}),(0,E.jsx)(c.A,{severity:"error",children:J||"Contact not found"})]});const ne="company"===a.type?a.companyName:"".concat(a.firstName||""," ").concat(a.lastName||"").trim();return(0,E.jsxs)(r.A,{children:[(0,E.jsxs)(r.A,{sx:{mb:3},children:[(0,E.jsx)(i.A,{startIcon:(0,E.jsx)(N.A,{}),onClick:te,sx:{mb:2},children:"Back to Contacts"}),(0,E.jsx)(o.A,{sx:{p:3},children:(0,E.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,E.jsx)(l.A,{sx:{width:80,height:80,mr:3,bgcolor:"company"===a.type?"primary.main":"secondary.main"},children:a.avatar?(0,E.jsx)("img",{src:a.avatar,alt:ne,style:{width:"100%",height:"100%"}}):ne.charAt(0)}),(0,E.jsxs)(r.A,{sx:{flex:1},children:[(0,E.jsx)(d.A,{variant:"h4",sx:{fontWeight:700,mb:1},children:ne}),a.title&&(0,E.jsx)(d.A,{variant:"h6",color:"text.secondary",sx:{mb:1},children:a.title}),"individual"===a.type&&a.companyName&&(0,E.jsx)(d.A,{variant:"subtitle1",color:"text.secondary",sx:{mb:2},children:a.companyName}),(0,E.jsxs)(r.A,{sx:{display:"flex",gap:1,mb:2},children:[(0,E.jsx)(x.A,{label:a.contactRole||"Contact",color:(se=a.contactRole,{tenant:"primary",landlord:"success",buyer:"info",seller:"warning",investor:"secondary",broker:"default"}[se]||"default"),variant:"outlined"}),a.leadStatus&&(0,E.jsx)(x.A,{label:a.leadStatus.toUpperCase(),color:(re=a.leadStatus,{cold:"default",warm:"warning",hot:"error",qualified:"success",converted:"primary"}[re]||"default"),variant:"filled"}),a.tags&&a.tags.map(e=>(0,E.jsx)(x.A,{label:e,size:"small"},e))]})]}),(0,E.jsxs)(r.A,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,E.jsx)(i.A,{variant:"contained",startIcon:(0,E.jsx)(P.A,{}),onClick:()=>{t("/contacts/".concat(e,"/edit"))},children:"Edit"}),("investor"===a.contactRole||"buyer"===a.contactRole)&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(i.A,{variant:"outlined",startIcon:(0,E.jsx)(D,{}),onClick:()=>t("/property-matching?contactId=".concat(a.id)),children:"Find Properties"}),(0,E.jsx)(i.A,{variant:"outlined",startIcon:(0,E.jsx)(R.A,{}),onClick:()=>t("/property-alerts"),children:"View Alerts"})]}),(0,E.jsx)(i.A,{variant:"outlined",startIcon:(0,E.jsx)(L.A,{}),onClick:()=>t("/deals/new?contactId=".concat(a.id,"&contactName=").concat(encodeURIComponent(a.firstName+" "+a.lastName))),children:"Create Deal"}),(0,E.jsx)(m.A,{children:(0,E.jsx)(F.A,{})})]})]})})]}),(0,E.jsx)(o.A,{sx:{mb:3},children:(0,E.jsxs)(h.A,{value:X,onChange:(e,t)=>K(t),children:[(0,E.jsx)(A.A,{label:"Overview"}),(0,E.jsx)(A.A,{label:"Activity"}),(0,E.jsx)(A.A,{label:"Deals"}),(0,E.jsx)(A.A,{label:"Documents"}),(0,E.jsx)(A.A,{label:"Email Activity"})]})}),0===X&&(0,E.jsxs)(y.Ay,{container:!0,spacing:3,children:[(0,E.jsx)(y.Ay,{item:!0,xs:12,md:6,children:(0,E.jsx)(p.A,{children:(0,E.jsxs)(j.A,{children:[(0,E.jsxs)(d.A,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center"},children:[(0,E.jsx)(H.A,{sx:{mr:1}}),"Contact Information"]}),(0,E.jsxs)(u.A,{dense:!0,children:[a.primaryEmail&&(0,E.jsxs)(g.Ay,{children:[(0,E.jsx)(v.A,{children:(0,E.jsx)(U.A,{})}),(0,E.jsx)(b.A,{primary:"Primary Email",secondary:a.primaryEmail})]}),a.secondaryEmail&&(0,E.jsxs)(g.Ay,{children:[(0,E.jsx)(v.A,{children:(0,E.jsx)(U.A,{})}),(0,E.jsx)(b.A,{primary:"Secondary Email",secondary:a.secondaryEmail})]}),a.primaryPhone&&(0,E.jsxs)(g.Ay,{children:[(0,E.jsx)(v.A,{children:(0,E.jsx)(V.A,{})}),(0,E.jsx)(b.A,{primary:"Primary Phone",secondary:a.primaryPhone})]}),a.mobilePhone&&(0,E.jsxs)(g.Ay,{children:[(0,E.jsx)(v.A,{children:(0,E.jsx)(V.A,{})}),(0,E.jsx)(b.A,{primary:"Mobile Phone",secondary:a.mobilePhone})]}),a.mailingAddress&&(0,E.jsxs)(g.Ay,{children:[(0,E.jsx)(v.A,{children:(0,E.jsx)(z.A,{})}),(0,E.jsx)(b.A,{primary:"Address",secondary:"".concat(a.mailingAddress,", ").concat(a.mailingCity,", ").concat(a.mailingState," ").concat(a.mailingZipCode)})]})]})]})})}),"investor"===a.contactRole&&(0,E.jsx)(y.Ay,{item:!0,xs:12,md:6,children:(0,E.jsx)(p.A,{children:(0,E.jsxs)(j.A,{children:[(0,E.jsxs)(d.A,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center"},children:[(0,E.jsx)(Z.A,{sx:{mr:1}}),"Investment Criteria"]}),(0,E.jsxs)(u.A,{dense:!0,children:[(a.budgetMin||a.budgetMax)&&(0,E.jsx)(g.Ay,{children:(0,E.jsx)(b.A,{primary:"Budget Range",secondary:a.budgetMin&&a.budgetMax?"".concat(ae(a.budgetMin)," - ").concat(ae(a.budgetMax)):a.budgetMax?"Up to ".concat(ae(a.budgetMax)):"From ".concat(ae(a.budgetMin))})}),a.propertyTypeInterest&&a.propertyTypeInterest.length>0&&(0,E.jsx)(g.Ay,{children:(0,E.jsx)(b.A,{primary:"Property Types",secondary:a.propertyTypeInterest.join(", ")})}),a.preferredLocations&&a.preferredLocations.length>0&&(0,E.jsx)(g.Ay,{children:(0,E.jsx)(b.A,{primary:"Preferred Markets",secondary:a.preferredLocations.join(", ")})}),a.timeframe&&(0,E.jsx)(g.Ay,{children:(0,E.jsx)(b.A,{primary:"Timeframe",secondary:a.timeframe.replace("_"," ")})}),a.netWorth&&(0,E.jsx)(g.Ay,{children:(0,E.jsx)(b.A,{primary:"Net Worth",secondary:ae(a.netWorth)})})]})]})})}),a.notes&&(0,E.jsx)(y.Ay,{item:!0,xs:12,children:(0,E.jsx)(p.A,{children:(0,E.jsxs)(j.A,{children:[(0,E.jsx)(d.A,{variant:"h6",sx:{mb:2},children:"Notes"}),(0,E.jsx)(d.A,{variant:"body1",children:a.notes})]})})})]}),1===X&&(0,E.jsx)(p.A,{children:(0,E.jsxs)(j.A,{children:[(0,E.jsxs)(d.A,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center"},children:[(0,E.jsx)(B.A,{sx:{mr:1}}),"Recent Activity"]}),(0,E.jsx)(u.A,{children:ee.map((e,t)=>(0,E.jsxs)(n.Fragment,{children:[(0,E.jsx)(g.Ay,{children:(0,E.jsx)(b.A,{primary:e.title,secondary:(0,E.jsxs)(r.A,{children:[(0,E.jsx)(d.A,{variant:"body2",color:"text.secondary",children:e.description}),(0,E.jsx)(d.A,{variant:"caption",color:"text.secondary",children:new Date(e.date).toLocaleString()})]})})}),t<ee.length-1&&(0,E.jsx)(f.A,{})]},e.id))})]})}),2===X&&(0,E.jsx)(p.A,{children:(0,E.jsxs)(j.A,{children:[(0,E.jsxs)(d.A,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center"},children:[(0,E.jsx)(W.A,{sx:{mr:1}}),"Active Deals"]}),(0,E.jsx)(y.Ay,{container:!0,spacing:2,children:[{id:"1",name:"123 Broadway Office Building",stage:"negotiation",value:25e5,probability:60,expectedCloseDate:"2024-02-15"},{id:"2",name:"456 Park Ave Retail Space",stage:"proposal",value:18e5,probability:40,expectedCloseDate:"2024-03-01"}].map(e=>(0,E.jsx)(y.Ay,{item:!0,xs:12,md:6,children:(0,E.jsx)(p.A,{variant:"outlined",children:(0,E.jsxs)(j.A,{children:[(0,E.jsx)(d.A,{variant:"subtitle1",sx:{fontWeight:600},children:e.name}),(0,E.jsxs)(d.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Stage: ",e.stage," | ",e.probability,"% probability"]}),(0,E.jsx)(d.A,{variant:"h6",color:"primary",children:ae(e.value)}),(0,E.jsxs)(d.A,{variant:"caption",color:"text.secondary",children:["Expected close: ",new Date(e.expectedCloseDate).toLocaleDateString()]})]})})},e.id))})]})}),3===X&&(0,E.jsx)(p.A,{children:(0,E.jsxs)(j.A,{children:[(0,E.jsxs)(d.A,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center"},children:[(0,E.jsx)(_.A,{sx:{mr:1}}),"Documents"]}),(0,E.jsx)(d.A,{variant:"body1",color:"text.secondary",children:"Document management functionality coming soon..."})]})}),4===X&&(0,E.jsx)(p.A,{children:(0,E.jsxs)(j.A,{children:[(0,E.jsxs)(d.A,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center"},children:[(0,E.jsx)(U.A,{sx:{mr:1}}),"Email Activity"]}),(0,E.jsx)(d.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Track email opens, clicks, bounces, and engagement for this contact."}),(0,E.jsx)(C.A,{component:o.A,variant:"outlined",children:(0,E.jsxs)(w.A,{size:"small",children:[(0,E.jsx)(I.A,{children:(0,E.jsxs)(M.A,{children:[(0,E.jsx)(k.A,{children:"Event"}),(0,E.jsx)(k.A,{children:"Date"}),(0,E.jsx)(k.A,{children:"Campaign"}),(0,E.jsx)(k.A,{children:"Details"})]})}),(0,E.jsx)(S.A,{children:(0,E.jsx)(M.A,{children:(0,E.jsx)(k.A,{colSpan:4,align:"center",sx:{py:4},children:(0,E.jsx)(d.A,{variant:"body2",color:"text.secondary",children:"No email events yet. Email activity will appear here once campaigns are sent."})})})})]})}),(0,E.jsx)(r.A,{sx:{mt:2,display:"flex",justifyContent:"center"},children:(0,E.jsx)(d.A,{variant:"caption",color:"text.secondary",children:"Email tracking powered by SendGrid"})})]})})]});var re,se}},67957:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(66734),r=a(70579);const s=(0,n.A)((0,r.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney")},79650:(e,t,a)=>{a.d(t,{A:()=>p});var n=a(58168),r=a(98587),s=a(65043),i=a(58387),c=a(98610),o=a(98206),l=a(34535),d=a(92532),x=a(72372);function m(e){return(0,x.Ay)("MuiTableContainer",e)}(0,d.A)("MuiTableContainer",["root"]);var h=a(70579);const A=["className","component"],y=(0,l.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),p=s.forwardRef(function(e,t){const a=(0,o.b)({props:e,name:"MuiTableContainer"}),{className:s,component:l="div"}=a,d=(0,r.A)(a,A),x=(0,n.A)({},a,{component:l}),p=(e=>{const{classes:t}=e;return(0,c.A)({root:["root"]},m,t)})(x);return(0,h.jsx)(y,(0,n.A)({ref:t,as:l,className:(0,i.A)(p.root,s),ownerState:x},d))})},83560:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(66734),r=a(70579);const s=(0,n.A)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},84882:(e,t,a)=>{a.d(t,{A:()=>g});var n=a(58168),r=a(98587),s=a(65043),i=a(58387),c=a(98610),o=a(21573),l=a(98206),d=a(34535),x=a(92532),m=a(72372);function h(e){return(0,m.Ay)("MuiTableHead",e)}(0,x.A)("MuiTableHead",["root"]);var A=a(70579);const y=["className","component"],p=(0,d.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),j={variant:"head"},u="thead",g=s.forwardRef(function(e,t){const a=(0,l.b)({props:e,name:"MuiTableHead"}),{className:s,component:d=u}=a,x=(0,r.A)(a,y),m=(0,n.A)({},a,{component:d}),g=(e=>{const{classes:t}=e;return(0,c.A)({root:["root"]},h,t)})(m);return(0,A.jsx)(o.A.Provider,{value:j,children:(0,A.jsx)(p,(0,n.A)({as:d,className:(0,i.A)(g.root,s),ref:t,role:d===u?null:"rowgroup",ownerState:m},x))})})},87332:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(66734),r=a(70579);const s=(0,n.A)((0,r.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},91082:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(66734),r=a(70579);const s=(0,n.A)((0,r.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn")}}]);
//# sourceMappingURL=8727.fec93557.chunk.js.map
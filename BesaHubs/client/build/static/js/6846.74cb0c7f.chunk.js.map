{"version":3,"file":"static/js/6846.74cb0c7f.chunk.js","mappings":"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","sources":["components/LoadingOptimization/LoadingSpinner.js","services/dashboardApi.js","components/Dashboards/WidgetRenderer.js","components/Dashboards/AddWidgetModal.js","components/Dashboards/ShareDashboardDialog.js","components/Dashboards/ExportDialog.js","pages/Dashboards/DashboardBuilder.js"],"sourcesContent":["import React from 'react';\nimport {\n  Box,\n  CircularProgress,\n  Typography,\n  Skeleton,\n  Card,\n  CardContent,\n  Grid\n} from '@mui/material';\n\n// Primary loading spinner for full-page loads\nexport const LoadingSpinner = ({ message = 'Loading...', size = 40, fullscreen = false }) => {\n  const content = (\n    <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', gap: 2 }}>\n      <CircularProgress size={size} />\n      {message && (\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          {message}\n        </Typography>\n      )}\n    </Box>\n  );\n\n  if (fullscreen) {\n    return (\n      <Box\n        sx={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          bgcolor: 'rgba(255, 255, 255, 0.9)',\n          zIndex: 9999\n        }}\n      >\n        {content}\n      </Box>\n    );\n  }\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        minHeight: 200,\n        width: '100%'\n      }}\n    >\n      {content}\n    </Box>\n  );\n};\n\n// Skeleton loaders for different content types\nexport const PropertyCardSkeleton = () => (\n  <Card>\n    <CardContent>\n      <Skeleton variant=\"rectangular\" height={200} sx={{ mb: 2 }} />\n      <Skeleton variant=\"text\" height={32} sx={{ mb: 1 }} />\n      <Skeleton variant=\"text\" height={24} sx={{ mb: 2 }} />\n      <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\n        <Skeleton variant=\"text\" width={80} />\n        <Skeleton variant=\"text\" width={100} />\n      </Box>\n    </CardContent>\n  </Card>\n);\n\nexport const ContactCardSkeleton = () => (\n  <Card>\n    <CardContent>\n      <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n        <Skeleton variant=\"circular\" width={48} height={48} sx={{ mr: 2 }} />\n        <Box sx={{ flex: 1 }}>\n          <Skeleton variant=\"text\" height={24} sx={{ mb: 0.5 }} />\n          <Skeleton variant=\"text\" height={20} width={120} />\n        </Box>\n      </Box>\n      <Skeleton variant=\"text\" height={20} sx={{ mb: 1 }} />\n      <Skeleton variant=\"text\" height={20} width={150} />\n    </CardContent>\n  </Card>\n);\n\nexport const DealCardSkeleton = () => (\n  <Card>\n    <CardContent>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\n        <Skeleton variant=\"text\" height={28} width={200} />\n        <Skeleton variant=\"rounded\" width={80} height={24} />\n      </Box>\n      <Skeleton variant=\"text\" height={20} sx={{ mb: 1 }} />\n      <Skeleton variant=\"text\" height={20} sx={{ mb: 2 }} />\n      <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\n        <Skeleton variant=\"text\" width={100} />\n        <Skeleton variant=\"text\" width={80} />\n      </Box>\n    </CardContent>\n  </Card>\n);\n\nexport const TableSkeleton = ({ rows = 5, columns = 4 }) => (\n  <Box>\n    {Array.from({ length: rows }).map((_, rowIndex) => (\n      <Box key={rowIndex} sx={{ display: 'flex', py: 2, borderBottom: '1px solid #e0e0e0' }}>\n        {Array.from({ length: columns }).map((_, colIndex) => (\n          <Box key={colIndex} sx={{ flex: 1, mr: colIndex < columns - 1 ? 2 : 0 }}>\n            <Skeleton \n              variant=\"text\" \n              height={20} \n              width={colIndex === 0 ? '80%' : colIndex === columns - 1 ? '60%' : '100%'} \n            />\n          </Box>\n        ))}\n      </Box>\n    ))}\n  </Box>\n);\n\nexport const DashboardSkeleton = () => (\n  <Box>\n    {/* Header skeleton */}\n    <Box sx={{ mb: 3 }}>\n      <Skeleton variant=\"text\" height={40} width={300} sx={{ mb: 1 }} />\n      <Skeleton variant=\"text\" height={24} width={500} />\n    </Box>\n\n    {/* Stats cards skeleton */}\n    <Grid container spacing={3} sx={{ mb: 3 }}>\n      {Array.from({ length: 4 }).map((_, index) => (\n        <Grid item xs={12} sm={6} md={3} key={index}>\n          <Card>\n            <CardContent>\n              <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                <Skeleton variant=\"circular\" width={24} height={24} sx={{ mr: 1 }} />\n                <Skeleton variant=\"text\" width={80} />\n              </Box>\n              <Skeleton variant=\"text\" height={36} width={60} sx={{ mb: 1 }} />\n              <Skeleton variant=\"text\" height={20} width={100} />\n            </CardContent>\n          </Card>\n        </Grid>\n      ))}\n    </Grid>\n\n    {/* Content skeleton */}\n    <Grid container spacing={3}>\n      <Grid item xs={12} md={8}>\n        <Card>\n          <CardContent>\n            <Skeleton variant=\"text\" height={28} width={200} sx={{ mb: 3 }} />\n            <Skeleton variant=\"rectangular\" height={300} />\n          </CardContent>\n        </Card>\n      </Grid>\n      <Grid item xs={12} md={4}>\n        <Card>\n          <CardContent>\n            <Skeleton variant=\"text\" height={28} width={150} sx={{ mb: 3 }} />\n            {Array.from({ length: 6 }).map((_, index) => (\n              <Box key={index} sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                <Skeleton variant=\"circular\" width={32} height={32} sx={{ mr: 2 }} />\n                <Box sx={{ flex: 1 }}>\n                  <Skeleton variant=\"text\" height={20} sx={{ mb: 0.5 }} />\n                  <Skeleton variant=\"text\" height={16} width={80} />\n                </Box>\n              </Box>\n            ))}\n          </CardContent>\n        </Card>\n      </Grid>\n    </Grid>\n  </Box>\n);\n\n// Higher-order component for lazy loading with suspense\nexport const withLazyLoading = (Component, fallback = <LoadingSpinner />) => {\n  return React.forwardRef((props, ref) => (\n    <React.Suspense fallback={fallback}>\n      <Component {...props} ref={ref} />\n    </React.Suspense>\n  ));\n};\n\n// Hook for managing loading states\nexport const useAsyncOperation = () => {\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState(null);\n\n  const execute = React.useCallback(async (asyncOperation) => {\n    try {\n      setLoading(true);\n      setError(null);\n      const result = await asyncOperation();\n      return result;\n    } catch (err) {\n      setError(err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  return { loading, error, execute };\n};","import api from './api';\n\nexport const getDashboards = async () => {\n  const response = await api.get('/dashboards');\n  return response.data;\n};\n\nexport const createDashboard = async (data) => {\n  const response = await api.post('/dashboards', data);\n  return response.data;\n};\n\nexport const getDashboard = async (id) => {\n  const response = await api.get(`/dashboards/${id}`);\n  return response.data;\n};\n\nexport const updateDashboard = async (id, data) => {\n  const response = await api.put(`/dashboards/${id}`, data);\n  return response.data;\n};\n\nexport const deleteDashboard = async (id) => {\n  const response = await api.delete(`/dashboards/${id}`);\n  return response.data;\n};\n\nexport const shareDashboard = async (id, shareData) => {\n  const response = await api.post(`/dashboards/${id}/share`, shareData);\n  return response.data;\n};\n\nexport const setDefaultDashboard = async (id) => {\n  const response = await api.post(`/dashboards/${id}/default`);\n  return response.data;\n};\n\nexport const getWidgets = async (dashboardId) => {\n  const response = await api.get(`/dashboards/${dashboardId}/widgets`);\n  return response.data;\n};\n\nexport const createWidget = async (dashboardId, data) => {\n  const response = await api.post(`/dashboards/${dashboardId}/widgets`, data);\n  return response.data;\n};\n\nexport const updateWidget = async (id, data) => {\n  const response = await api.put(`/dashboards/widgets/${id}`, data);\n  return response.data;\n};\n\nexport const deleteWidget = async (id) => {\n  const response = await api.delete(`/dashboards/widgets/${id}`);\n  return response.data;\n};\n\nexport const executeQuery = async (widgetConfig) => {\n  const response = await api.post('/dashboards/widgets/query', widgetConfig);\n  return response.data;\n};\n\nexport const refreshWidget = async (id) => {\n  const response = await api.post(`/dashboards/widgets/${id}/refresh`);\n  return response.data;\n};\n\nexport const dashboardApi = {\n  getDashboards,\n  createDashboard,\n  getDashboard,\n  updateDashboard,\n  deleteDashboard,\n  shareDashboard,\n  setDefaultDashboard,\n  getWidgets,\n  createWidget,\n  updateWidget,\n  deleteWidget,\n  executeQuery,\n  refreshWidget\n};\n\nexport default dashboardApi;\n","import React, { useState, useEffect } from 'react';\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  IconButton,\n  Typography,\n  Box,\n  Alert,\n  CircularProgress\n} from '@mui/material';\nimport {\n  Refresh as RefreshIcon,\n  TrendingUp,\n  TrendingDown\n} from '@mui/icons-material';\nimport {\n  BarChart,\n  Bar,\n  LineChart,\n  Line,\n  PieChart,\n  Pie,\n  Cell,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n  FunnelChart,\n  Funnel\n} from 'recharts';\nimport { DataGrid } from '@mui/x-data-grid';\nimport { executeQuery, refreshWidget } from '../../services/dashboardApi';\n\nconst COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042', '#8884d8', '#82ca9d'];\n\nconst WidgetRenderer = ({ widget, onRefresh }) => {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [lastUpdated, setLastUpdated] = useState(null);\n\n  useEffect(() => {\n    loadData();\n  }, [widget]);\n\n  useEffect(() => {\n    if (widget.refreshInterval && widget.refreshInterval > 0) {\n      const interval = setInterval(() => {\n        loadData(true);\n      }, widget.refreshInterval * 1000);\n\n      return () => clearInterval(interval);\n    }\n  }, [widget.refreshInterval]);\n\n  const loadData = async (isRefresh = false) => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const response = isRefresh\n        ? await refreshWidget(widget.id)\n        : await executeQuery({\n            dataset: widget.dataset,\n            query: widget.query\n          });\n\n      if (response.success) {\n        setData(response.data);\n        setLastUpdated(new Date());\n      }\n    } catch (err) {\n      console.error('Error loading widget data:', err);\n      setError(err.response?.data?.message || 'Failed to load widget data');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleRefresh = () => {\n    loadData(true);\n    if (onRefresh) onRefresh();\n  };\n\n  const renderKPI = () => {\n    if (!data || !data.summary || !data.summary.metrics) {\n      return <Typography>No data available</Typography>;\n    }\n\n    const metrics = data.summary.metrics;\n    const metricKeys = Object.keys(metrics);\n    const primaryMetric = metricKeys[0];\n    const value = metrics[primaryMetric];\n\n    return (\n      <Box \n        display=\"flex\" \n        flexDirection=\"column\" \n        alignItems=\"center\" \n        justifyContent=\"center\"\n        height=\"100%\"\n        p={2}\n      >\n        <Typography variant=\"h2\" fontWeight=\"bold\" color=\"primary\">\n          {typeof value === 'number' ? value.toLocaleString() : value}\n        </Typography>\n        <Typography variant=\"body2\" color=\"text.secondary\" textTransform=\"capitalize\">\n          {primaryMetric.replace(/_/g, ' ')}\n        </Typography>\n      </Box>\n    );\n  };\n\n  const renderBarChart = () => {\n    if (!data || !data.chartData || data.chartData.length === 0) {\n      return <Typography>No data available</Typography>;\n    }\n\n    const chartData = data.chartData;\n    const fields = data.fields || [];\n    const xAxisKey = fields[0]?.name || 'name';\n    const dataKeys = fields.slice(1).map(f => f.name);\n\n    return (\n      <ResponsiveContainer width=\"100%\" height={300}>\n        <BarChart data={chartData}>\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis dataKey={xAxisKey} />\n          <YAxis />\n          <Tooltip />\n          <Legend />\n          {dataKeys.map((key, index) => (\n            <Bar \n              key={key} \n              dataKey={key} \n              fill={COLORS[index % COLORS.length]} \n            />\n          ))}\n        </BarChart>\n      </ResponsiveContainer>\n    );\n  };\n\n  const renderLineChart = () => {\n    if (!data || !data.chartData || data.chartData.length === 0) {\n      return <Typography>No data available</Typography>;\n    }\n\n    const chartData = data.chartData;\n    const fields = data.fields || [];\n    const xAxisKey = fields[0]?.name || 'name';\n    const dataKeys = fields.slice(1).map(f => f.name);\n\n    return (\n      <ResponsiveContainer width=\"100%\" height={300}>\n        <LineChart data={chartData}>\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis dataKey={xAxisKey} />\n          <YAxis />\n          <Tooltip />\n          <Legend />\n          {dataKeys.map((key, index) => (\n            <Line \n              key={key}\n              type=\"monotone\"\n              dataKey={key}\n              stroke={COLORS[index % COLORS.length]}\n              strokeWidth={2}\n            />\n          ))}\n        </LineChart>\n      </ResponsiveContainer>\n    );\n  };\n\n  const renderPieChart = () => {\n    if (!data || !data.chartData || data.chartData.length === 0) {\n      return <Typography>No data available</Typography>;\n    }\n\n    const chartData = data.chartData;\n    const fields = data.fields || [];\n    const nameKey = fields[0]?.name || 'name';\n    const valueKey = fields[1]?.name || 'value';\n\n    const pieData = chartData.map(item => ({\n      name: item[nameKey],\n      value: Number(item[valueKey]) || 0\n    }));\n\n    return (\n      <ResponsiveContainer width=\"100%\" height={300}>\n        <PieChart>\n          <Pie\n            data={pieData}\n            cx=\"50%\"\n            cy=\"50%\"\n            labelLine={false}\n            label={({ name, percent }) => `${name}: ${(percent * 100).toFixed(0)}%`}\n            outerRadius={80}\n            fill=\"#8884d8\"\n            dataKey=\"value\"\n          >\n            {pieData.map((entry, index) => (\n              <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n            ))}\n          </Pie>\n          <Tooltip />\n          <Legend />\n        </PieChart>\n      </ResponsiveContainer>\n    );\n  };\n\n  const renderTable = () => {\n    if (!data || !data.rows || data.rows.length === 0) {\n      return <Typography>No data available</Typography>;\n    }\n\n    const columns = data.fields.map(field => ({\n      field: field.name,\n      headerName: field.name.replace(/_/g, ' ').toUpperCase(),\n      flex: 1,\n      minWidth: 100\n    }));\n\n    const rows = data.rows.map((row, index) => ({\n      id: index,\n      ...row\n    }));\n\n    return (\n      <Box height={400}>\n        <DataGrid\n          rows={rows}\n          columns={columns}\n          pageSize={10}\n          rowsPerPageOptions={[10, 25, 50]}\n          disableSelectionOnClick\n          density=\"compact\"\n        />\n      </Box>\n    );\n  };\n\n  const renderFunnel = () => {\n    if (!data || !data.chartData || data.chartData.length === 0) {\n      return <Typography>No data available</Typography>;\n    }\n\n    const chartData = data.chartData;\n    const fields = data.fields || [];\n    const nameKey = fields[0]?.name || 'name';\n    const valueKey = fields[1]?.name || 'value';\n\n    const funnelData = chartData.map(item => ({\n      name: item[nameKey],\n      value: Number(item[valueKey]) || 0\n    }));\n\n    return (\n      <ResponsiveContainer width=\"100%\" height={300}>\n        <FunnelChart>\n          <Tooltip />\n          <Funnel\n            dataKey=\"value\"\n            data={funnelData}\n            isAnimationActive\n          >\n            {funnelData.map((entry, index) => (\n              <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n            ))}\n          </Funnel>\n        </FunnelChart>\n      </ResponsiveContainer>\n    );\n  };\n\n  const renderContent = () => {\n    if (loading) {\n      return (\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height={200}>\n          <CircularProgress />\n        </Box>\n      );\n    }\n\n    if (error) {\n      return (\n        <Alert severity=\"error\">\n          {error}\n        </Alert>\n      );\n    }\n\n    switch (widget.type) {\n      case 'kpi':\n        return renderKPI();\n      case 'bar':\n        return renderBarChart();\n      case 'line':\n        return renderLineChart();\n      case 'pie':\n        return renderPieChart();\n      case 'table':\n        return renderTable();\n      case 'funnel':\n        return renderFunnel();\n      default:\n        return <Typography>Unknown widget type: {widget.type}</Typography>;\n    }\n  };\n\n  return (\n    <Card sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\n      <CardHeader\n        title={widget.title}\n        action={\n          <Box display=\"flex\" alignItems=\"center\" gap={1}>\n            {lastUpdated && (\n              <Typography variant=\"caption\" color=\"text.secondary\">\n                {lastUpdated.toLocaleTimeString()}\n              </Typography>\n            )}\n            <IconButton onClick={handleRefresh} size=\"small\">\n              <RefreshIcon />\n            </IconButton>\n          </Box>\n        }\n        titleTypographyProps={{ variant: 'h6' }}\n      />\n      <CardContent sx={{ flex: 1, overflow: 'auto' }}>\n        {renderContent()}\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default WidgetRenderer;\n","import React, { useState } from 'react';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  Stepper,\n  Step,\n  StepLabel,\n  Box,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  TextField,\n  Grid,\n  Typography,\n  Card,\n  CardContent,\n  Alert\n} from '@mui/material';\nimport { executeQuery } from '../../services/dashboardApi';\nimport WidgetRenderer from './WidgetRenderer';\n\nconst DATASETS = [\n  { value: 'deals', label: 'Deals' },\n  { value: 'tasks', label: 'Tasks' },\n  { value: 'properties', label: 'Properties' },\n  { value: 'contacts', label: 'Contacts' },\n  { value: 'campaigns', label: 'Campaigns' },\n  { value: 'agents', label: 'Agents' }\n];\n\nconst WIDGET_TYPES = [\n  { value: 'kpi', label: 'KPI Card' },\n  { value: 'bar', label: 'Bar Chart' },\n  { value: 'line', label: 'Line Chart' },\n  { value: 'pie', label: 'Pie Chart' },\n  { value: 'table', label: 'Table' },\n  { value: 'funnel', label: 'Funnel Chart' }\n];\n\nconst DATASET_METRICS = {\n  deals: ['count', 'sum', 'avg', 'win_rate', 'commission_total'],\n  tasks: ['count', 'completion_rate', 'avg_duration', 'overdue_count'],\n  properties: ['count', 'avg_price', 'total_value', 'avg_sqft'],\n  contacts: ['count', 'conversion_rate'],\n  campaigns: ['count', 'avg_open_rate', 'avg_click_rate', 'total_sent'],\n  agents: ['count', 'total_deals', 'total_commission', 'avg_win_rate']\n};\n\nconst DATASET_GROUPBY = {\n  deals: ['stage', 'dealType', 'listingAgent', 'month', 'quarter'],\n  tasks: ['status', 'priority', 'taskType', 'assignedTo', 'month'],\n  properties: ['propertyType', 'status', 'city', 'state', 'listingAgent'],\n  contacts: ['contactRole', 'leadStatus', 'leadSource', 'assignedAgent'],\n  campaigns: ['type', 'status', 'month', 'createdBy'],\n  agents: ['role', 'department', 'month']\n};\n\nconst steps = ['Select Dataset', 'Choose Visualization', 'Configure Query', 'Preview & Name'];\n\nconst AddWidgetModal = ({ open, onClose, onAdd }) => {\n  const [activeStep, setActiveStep] = useState(0);\n  const [dataset, setDataset] = useState('');\n  const [widgetType, setWidgetType] = useState('');\n  const [query, setQuery] = useState({\n    metrics: [],\n    groupBy: '',\n    filters: {},\n    limit: 100\n  });\n  const [title, setTitle] = useState('');\n  const [previewData, setPreviewData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleNext = async () => {\n    if (activeStep === 2) {\n      await handlePreview();\n    }\n    setActiveStep((prevStep) => prevStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevStep) => prevStep - 1);\n  };\n\n  const handlePreview = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await executeQuery({ dataset, query });\n      \n      if (response.success) {\n        setPreviewData(response.data);\n      }\n    } catch (err) {\n      console.error('Error previewing query:', err);\n      setError(err.response?.data?.message || 'Failed to preview query');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAddWidget = () => {\n    if (!title.trim()) {\n      setError('Please enter a widget title');\n      return;\n    }\n\n    onAdd({\n      type: widgetType,\n      dataset,\n      query,\n      title: title.trim(),\n      position: { x: 0, y: 0, w: 4, h: 4 },\n      refreshInterval: null\n    });\n\n    handleClose();\n  };\n\n  const handleClose = () => {\n    setActiveStep(0);\n    setDataset('');\n    setWidgetType('');\n    setQuery({ metrics: [], groupBy: '', filters: {}, limit: 100 });\n    setTitle('');\n    setPreviewData(null);\n    setError(null);\n    onClose();\n  };\n\n  const renderStepContent = (step) => {\n    switch (step) {\n      case 0:\n        return (\n          <Box sx={{ minHeight: 200 }}>\n            <Typography variant=\"body1\" gutterBottom>\n              Select the data source for your widget\n            </Typography>\n            <FormControl fullWidth sx={{ mt: 2 }}>\n              <InputLabel>Dataset</InputLabel>\n              <Select\n                value={dataset}\n                onChange={(e) => setDataset(e.target.value)}\n                label=\"Dataset\"\n              >\n                {DATASETS.map((ds) => (\n                  <MenuItem key={ds.value} value={ds.value}>\n                    {ds.label}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Box>\n        );\n\n      case 1:\n        return (\n          <Box sx={{ minHeight: 200 }}>\n            <Typography variant=\"body1\" gutterBottom>\n              Choose how you want to visualize the data\n            </Typography>\n            <Grid container spacing={2} sx={{ mt: 1 }}>\n              {WIDGET_TYPES.map((type) => (\n                <Grid item xs={6} sm={4} key={type.value}>\n                  <Card\n                    sx={{\n                      cursor: 'pointer',\n                      border: widgetType === type.value ? 2 : 1,\n                      borderColor: widgetType === type.value ? 'primary.main' : 'divider',\n                      '&:hover': { borderColor: 'primary.main' }\n                    }}\n                    onClick={() => setWidgetType(type.value)}\n                  >\n                    <CardContent>\n                      <Typography variant=\"h6\" align=\"center\">\n                        {type.label}\n                      </Typography>\n                    </CardContent>\n                  </Card>\n                </Grid>\n              ))}\n            </Grid>\n          </Box>\n        );\n\n      case 2:\n        return (\n          <Box sx={{ minHeight: 200 }}>\n            <Typography variant=\"body1\" gutterBottom>\n              Configure your query\n            </Typography>\n\n            <FormControl fullWidth sx={{ mt: 2 }}>\n              <InputLabel>Metrics</InputLabel>\n              <Select\n                multiple\n                value={query.metrics}\n                onChange={(e) => setQuery({ ...query, metrics: e.target.value })}\n                label=\"Metrics\"\n              >\n                {DATASET_METRICS[dataset]?.map((metric) => (\n                  <MenuItem key={metric} value={metric}>\n                    {metric.replace(/_/g, ' ').toUpperCase()}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n\n            <FormControl fullWidth sx={{ mt: 2 }}>\n              <InputLabel>Group By</InputLabel>\n              <Select\n                value={query.groupBy}\n                onChange={(e) => setQuery({ ...query, groupBy: e.target.value })}\n                label=\"Group By\"\n              >\n                <MenuItem value=\"\">None</MenuItem>\n                {DATASET_GROUPBY[dataset]?.map((field) => (\n                  <MenuItem key={field} value={field}>\n                    {field.replace(/_/g, ' ').toUpperCase()}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n\n            <TextField\n              fullWidth\n              label=\"Limit\"\n              type=\"number\"\n              value={query.limit}\n              onChange={(e) => setQuery({ ...query, limit: parseInt(e.target.value) || 100 })}\n              sx={{ mt: 2 }}\n              InputProps={{ inputProps: { min: 1, max: 1000 } }}\n            />\n          </Box>\n        );\n\n      case 3:\n        return (\n          <Box sx={{ minHeight: 200 }}>\n            <TextField\n              fullWidth\n              label=\"Widget Title\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              sx={{ mb: 2 }}\n              placeholder=\"Enter a descriptive title for your widget\"\n            />\n\n            {loading && (\n              <Typography>Loading preview...</Typography>\n            )}\n\n            {previewData && (\n              <Box sx={{ mt: 2, p: 2, border: '1px solid', borderColor: 'divider', borderRadius: 1 }}>\n                <Typography variant=\"subtitle2\" gutterBottom>\n                  Preview\n                </Typography>\n                <WidgetRenderer\n                  widget={{\n                    id: 'preview',\n                    type: widgetType,\n                    dataset,\n                    query,\n                    title: title || 'Preview'\n                  }}\n                />\n              </Box>\n            )}\n          </Box>\n        );\n\n      default:\n        return null;\n    }\n  };\n\n  const canProceed = () => {\n    switch (activeStep) {\n      case 0:\n        return dataset !== '';\n      case 1:\n        return widgetType !== '';\n      case 2:\n        return query.metrics.length > 0;\n      case 3:\n        return title.trim() !== '';\n      default:\n        return false;\n    }\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose} maxWidth=\"md\" fullWidth>\n      <DialogTitle>Add Widget</DialogTitle>\n      \n      <DialogContent>\n        <Box sx={{ width: '100%', mt: 2 }}>\n          <Stepper activeStep={activeStep}>\n            {steps.map((label) => (\n              <Step key={label}>\n                <StepLabel>{label}</StepLabel>\n              </Step>\n            ))}\n          </Stepper>\n\n          {error && (\n            <Alert severity=\"error\" sx={{ mt: 2 }} onClose={() => setError(null)}>\n              {error}\n            </Alert>\n          )}\n\n          <Box sx={{ mt: 3 }}>\n            {renderStepContent(activeStep)}\n          </Box>\n        </Box>\n      </DialogContent>\n\n      <DialogActions>\n        <Button onClick={handleClose}>Cancel</Button>\n        <Box sx={{ flex: '1 1 auto' }} />\n        {activeStep > 0 && (\n          <Button onClick={handleBack}>Back</Button>\n        )}\n        {activeStep < steps.length - 1 ? (\n          <Button\n            variant=\"contained\"\n            onClick={handleNext}\n            disabled={!canProceed()}\n          >\n            Next\n          </Button>\n        ) : (\n          <Button\n            variant=\"contained\"\n            onClick={handleAddWidget}\n            disabled={!canProceed()}\n          >\n            Add Widget\n          </Button>\n        )}\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default AddWidgetModal;\n","import React, { useState, useEffect } from 'react';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Chip,\n  Box,\n  Typography,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemSecondaryAction,\n  IconButton,\n  Alert\n} from '@mui/material';\nimport {\n  Delete as DeleteIcon\n} from '@mui/icons-material';\nimport { shareDashboard } from '../../services/dashboardApi';\n\nconst ROLES = ['admin', 'manager', 'agent', 'assistant'];\n\nconst ShareDashboardDialog = ({ open, onClose, dashboard }) => {\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const [selectedRoles, setSelectedRoles] = useState([]);\n  const [currentShares, setCurrentShares] = useState([]);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n\n  useEffect(() => {\n    if (dashboard && dashboard.sharedWith) {\n      const shares = dashboard.sharedWith || [];\n      setCurrentShares(shares);\n      \n      const roles = shares.filter(s => ROLES.includes(s));\n      const users = shares.filter(s => !ROLES.includes(s));\n      \n      setSelectedRoles(roles);\n      setSelectedUsers(users);\n    }\n  }, [dashboard]);\n\n  const handleShare = async () => {\n    try {\n      setError(null);\n      const shareData = {\n        userIds: selectedUsers,\n        roles: selectedRoles\n      };\n\n      const response = await shareDashboard(dashboard.id, shareData);\n      \n      if (response.success) {\n        setSuccess('Dashboard shared successfully');\n        setTimeout(() => {\n          setSuccess(null);\n          onClose();\n        }, 2000);\n      }\n    } catch (err) {\n      console.error('Error sharing dashboard:', err);\n      setError(err.response?.data?.message || 'Failed to share dashboard');\n    }\n  };\n\n  const handleRemoveShare = (shareId) => {\n    if (ROLES.includes(shareId)) {\n      setSelectedRoles(selectedRoles.filter(r => r !== shareId));\n    } else {\n      setSelectedUsers(selectedUsers.filter(u => u !== shareId));\n    }\n  };\n\n  return (\n    <Dialog open={open} onClose={onClose} maxWidth=\"sm\" fullWidth>\n      <DialogTitle>Share Dashboard</DialogTitle>\n\n      <DialogContent>\n        {error && (\n          <Alert severity=\"error\" sx={{ mb: 2 }} onClose={() => setError(null)}>\n            {error}\n          </Alert>\n        )}\n\n        {success && (\n          <Alert severity=\"success\" sx={{ mb: 2 }}>\n            {success}\n          </Alert>\n        )}\n\n        <Box sx={{ mb: 3 }}>\n          <Typography variant=\"subtitle2\" gutterBottom>\n            Share with roles\n          </Typography>\n          <FormControl fullWidth sx={{ mt: 1 }}>\n            <InputLabel>Roles</InputLabel>\n            <Select\n              multiple\n              value={selectedRoles}\n              onChange={(e) => setSelectedRoles(e.target.value)}\n              label=\"Roles\"\n              renderValue={(selected) => (\n                <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\n                  {selected.map((value) => (\n                    <Chip key={value} label={value} size=\"small\" />\n                  ))}\n                </Box>\n              )}\n            >\n              {ROLES.map((role) => (\n                <MenuItem key={role} value={role}>\n                  {role.charAt(0).toUpperCase() + role.slice(1)}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </Box>\n\n        {currentShares.length > 0 && (\n          <Box>\n            <Typography variant=\"subtitle2\" gutterBottom>\n              Current Shares\n            </Typography>\n            <List dense>\n              {currentShares.map((share) => (\n                <ListItem key={share}>\n                  <ListItemText\n                    primary={ROLES.includes(share) ? `Role: ${share}` : `User ID: ${share}`}\n                  />\n                  <ListItemSecondaryAction>\n                    <IconButton\n                      edge=\"end\"\n                      onClick={() => handleRemoveShare(share)}\n                      size=\"small\"\n                    >\n                      <DeleteIcon />\n                    </IconButton>\n                  </ListItemSecondaryAction>\n                </ListItem>\n              ))}\n            </List>\n          </Box>\n        )}\n\n        <Typography variant=\"caption\" color=\"text.secondary\" sx={{ mt: 2, display: 'block' }}>\n          Note: Users with shared access can view this dashboard but cannot edit it.\n        </Typography>\n      </DialogContent>\n\n      <DialogActions>\n        <Button onClick={onClose}>Cancel</Button>\n        <Button variant=\"contained\" onClick={handleShare}>\n          Save Changes\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default ShareDashboardDialog;\n","import React, { useState } from 'react';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  FormGroup,\n  FormControlLabel,\n  Checkbox,\n  Box,\n  Typography,\n  Alert\n} from '@mui/material';\nimport {\n  FileDownload as DownloadIcon\n} from '@mui/icons-material';\n\nconst EXPORT_FORMATS = [\n  { value: 'png', label: 'PNG Image' },\n  { value: 'pdf', label: 'PDF Document' },\n  { value: 'csv', label: 'CSV (Table Widgets Only)' }\n];\n\nconst ExportDialog = ({ open, onClose, dashboard, widgets }) => {\n  const [format, setFormat] = useState('png');\n  const [selectedWidgets, setSelectedWidgets] = useState([]);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n\n  const handleWidgetToggle = (widgetId) => {\n    setSelectedWidgets((prev) =>\n      prev.includes(widgetId)\n        ? prev.filter((id) => id !== widgetId)\n        : [...prev, widgetId]\n    );\n  };\n\n  const handleSelectAll = () => {\n    if (selectedWidgets.length === widgets.length) {\n      setSelectedWidgets([]);\n    } else {\n      setSelectedWidgets(widgets.map(w => w.id));\n    }\n  };\n\n  const handleExport = async () => {\n    try {\n      setError(null);\n\n      if (selectedWidgets.length === 0) {\n        setError('Please select at least one widget to export');\n        return;\n      }\n\n      if (format === 'csv') {\n        const tableWidgets = widgets.filter(\n          w => w.type === 'table' && selectedWidgets.includes(w.id)\n        );\n        \n        if (tableWidgets.length === 0) {\n          setError('CSV export is only available for table widgets');\n          return;\n        }\n      }\n\n      setSuccess('Export feature is available in premium version');\n      setTimeout(() => {\n        setSuccess(null);\n        onClose();\n      }, 2000);\n\n    } catch (err) {\n      console.error('Error exporting dashboard:', err);\n      setError('Failed to export dashboard');\n    }\n  };\n\n  return (\n    <Dialog open={open} onClose={onClose} maxWidth=\"sm\" fullWidth>\n      <DialogTitle>Export Dashboard</DialogTitle>\n\n      <DialogContent>\n        {error && (\n          <Alert severity=\"error\" sx={{ mb: 2 }} onClose={() => setError(null)}>\n            {error}\n          </Alert>\n        )}\n\n        {success && (\n          <Alert severity=\"info\" sx={{ mb: 2 }}>\n            {success}\n          </Alert>\n        )}\n\n        <FormControl fullWidth sx={{ mb: 3 }}>\n          <InputLabel>Export Format</InputLabel>\n          <Select\n            value={format}\n            onChange={(e) => setFormat(e.target.value)}\n            label=\"Export Format\"\n          >\n            {EXPORT_FORMATS.map((fmt) => (\n              <MenuItem key={fmt.value} value={fmt.value}>\n                {fmt.label}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n\n        <Box sx={{ mb: 2 }}>\n          <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={1}>\n            <Typography variant=\"subtitle2\">\n              Select Widgets to Export\n            </Typography>\n            <Button size=\"small\" onClick={handleSelectAll}>\n              {selectedWidgets.length === widgets.length ? 'Deselect All' : 'Select All'}\n            </Button>\n          </Box>\n\n          <FormGroup>\n            {widgets.map((widget) => (\n              <FormControlLabel\n                key={widget.id}\n                control={\n                  <Checkbox\n                    checked={selectedWidgets.includes(widget.id)}\n                    onChange={() => handleWidgetToggle(widget.id)}\n                  />\n                }\n                label={`${widget.title} (${widget.type})`}\n              />\n            ))}\n          </FormGroup>\n        </Box>\n\n        <Typography variant=\"caption\" color=\"text.secondary\">\n          Note: Export functionality will generate a {format.toUpperCase()} file with the selected widgets.\n        </Typography>\n      </DialogContent>\n\n      <DialogActions>\n        <Button onClick={onClose}>Cancel</Button>\n        <Button\n          variant=\"contained\"\n          startIcon={<DownloadIcon />}\n          onClick={handleExport}\n        >\n          Export\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default ExportDialog;\n","import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Responsive, WidthProvider } from 'react-grid-layout';\nimport {\n  Box,\n  Container,\n  Typography,\n  Button,\n  TextField,\n  IconButton,\n  Toolbar,\n  AppBar,\n  Alert\n} from '@mui/material';\nimport {\n  Add as AddIcon,\n  Save as SaveIcon,\n  Share as ShareIcon,\n  ArrowBack as BackIcon,\n  FileDownload as ExportIcon\n} from '@mui/icons-material';\nimport {\n  getDashboard,\n  createDashboard,\n  updateDashboard,\n  createWidget,\n  updateWidget,\n  deleteWidget\n} from '../../services/dashboardApi';\nimport WidgetRenderer from '../../components/Dashboards/WidgetRenderer';\nimport AddWidgetModal from '../../components/Dashboards/AddWidgetModal';\nimport ShareDashboardDialog from '../../components/Dashboards/ShareDashboardDialog';\nimport ExportDialog from '../../components/Dashboards/ExportDialog';\nimport { LoadingSpinner } from '../../components/LoadingOptimization/LoadingSpinner';\nimport 'react-grid-layout/css/styles.css';\n\nconst ResponsiveGridLayout = WidthProvider(Responsive);\n\nconst DashboardBuilder = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const isNewDashboard = id === 'new';\n\n  const [loading, setLoading] = useState(!isNewDashboard);\n  const [dashboard, setDashboard] = useState(null);\n  const [dashboardName, setDashboardName] = useState('');\n  const [widgets, setWidgets] = useState([]);\n  const [layout, setLayout] = useState([]);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  \n  const [addWidgetOpen, setAddWidgetOpen] = useState(false);\n  const [shareDialogOpen, setShareDialogOpen] = useState(false);\n  const [exportDialogOpen, setExportDialogOpen] = useState(false);\n\n  useEffect(() => {\n    if (!isNewDashboard) {\n      fetchDashboard();\n    }\n  }, [id]);\n\n  const fetchDashboard = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await getDashboard(id);\n      \n      if (response.success) {\n        setDashboard(response.data);\n        setDashboardName(response.data.name);\n        setWidgets(response.data.widgets || []);\n        \n        const layoutData = response.data.widgets?.map(widget => ({\n          i: widget.id,\n          x: widget.position.x || 0,\n          y: widget.position.y || 0,\n          w: widget.position.w || 4,\n          h: widget.position.h || 4,\n          minW: 2,\n          minH: 2\n        })) || [];\n        setLayout(layoutData);\n      }\n    } catch (err) {\n      console.error('Error fetching dashboard:', err);\n      setError(err.response?.data?.message || 'Failed to load dashboard');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSave = async () => {\n    try {\n      setError(null);\n\n      if (!dashboardName.trim()) {\n        setError('Dashboard name is required');\n        return;\n      }\n\n      if (isNewDashboard) {\n        const response = await createDashboard({\n          name: dashboardName,\n          description: '',\n          layout: {},\n          isDefault: false\n        });\n\n        if (response.success) {\n          setSuccess('Dashboard created successfully');\n          navigate(`/dashboards/${response.data.id}`);\n        }\n      } else {\n        const layoutObj = {};\n        layout.forEach(item => {\n          layoutObj[item.i] = {\n            x: item.x,\n            y: item.y,\n            w: item.w,\n            h: item.h\n          };\n        });\n\n        await updateDashboard(id, {\n          name: dashboardName,\n          layout: layoutObj\n        });\n\n        for (const widget of widgets) {\n          const widgetLayout = layout.find(l => l.i === widget.id);\n          if (widgetLayout) {\n            await updateWidget(widget.id, {\n              position: {\n                x: widgetLayout.x,\n                y: widgetLayout.y,\n                w: widgetLayout.w,\n                h: widgetLayout.h\n              }\n            });\n          }\n        }\n\n        setSuccess('Dashboard saved successfully');\n        setTimeout(() => setSuccess(null), 3000);\n      }\n    } catch (err) {\n      console.error('Error saving dashboard:', err);\n      setError(err.response?.data?.message || 'Failed to save dashboard');\n    }\n  };\n\n  const handleAddWidget = async (widgetData) => {\n    try {\n      setError(null);\n      \n      if (isNewDashboard) {\n        setError('Please save the dashboard first before adding widgets');\n        return;\n      }\n\n      const response = await createWidget(id, widgetData);\n\n      if (response.success) {\n        const newWidget = response.data;\n        setWidgets([...widgets, newWidget]);\n        \n        setLayout([...layout, {\n          i: newWidget.id,\n          x: newWidget.position.x || 0,\n          y: newWidget.position.y || 0,\n          w: newWidget.position.w || 4,\n          h: newWidget.position.h || 4,\n          minW: 2,\n          minH: 2\n        }]);\n\n        setSuccess('Widget added successfully');\n        setTimeout(() => setSuccess(null), 3000);\n      }\n    } catch (err) {\n      console.error('Error adding widget:', err);\n      setError(err.response?.data?.message || 'Failed to add widget');\n    }\n  };\n\n  const handleDeleteWidget = async (widgetId) => {\n    if (window.confirm('Are you sure you want to delete this widget?')) {\n      try {\n        await deleteWidget(widgetId);\n        setWidgets(widgets.filter(w => w.id !== widgetId));\n        setLayout(layout.filter(l => l.i !== widgetId));\n        setSuccess('Widget deleted successfully');\n        setTimeout(() => setSuccess(null), 3000);\n      } catch (err) {\n        console.error('Error deleting widget:', err);\n        setError('Failed to delete widget');\n      }\n    }\n  };\n\n  const handleLayoutChange = (newLayout) => {\n    setLayout(newLayout);\n  };\n\n  if (loading) {\n    return <LoadingSpinner />;\n  }\n\n  return (\n    <Box sx={{ display: 'flex', flexDirection: 'column', height: '100vh' }}>\n      <AppBar position=\"static\" color=\"default\" elevation={1}>\n        <Toolbar>\n          <IconButton edge=\"start\" onClick={() => navigate('/dashboards')} sx={{ mr: 2 }}>\n            <BackIcon />\n          </IconButton>\n          \n          <TextField\n            value={dashboardName}\n            onChange={(e) => setDashboardName(e.target.value)}\n            placeholder=\"Dashboard Name\"\n            variant=\"standard\"\n            sx={{ minWidth: 300, mr: 2 }}\n            InputProps={{\n              sx: { fontSize: '1.25rem', fontWeight: 500 }\n            }}\n          />\n\n          <Box sx={{ flexGrow: 1 }} />\n\n          <Button\n            startIcon={<AddIcon />}\n            onClick={() => setAddWidgetOpen(true)}\n            sx={{ mr: 1 }}\n            disabled={isNewDashboard}\n          >\n            Add Widget\n          </Button>\n\n          {!isNewDashboard && (\n            <>\n              <Button\n                startIcon={<ShareIcon />}\n                onClick={() => setShareDialogOpen(true)}\n                sx={{ mr: 1 }}\n              >\n                Share\n              </Button>\n\n              <Button\n                startIcon={<ExportIcon />}\n                onClick={() => setExportDialogOpen(true)}\n                sx={{ mr: 1 }}\n              >\n                Export\n              </Button>\n            </>\n          )}\n\n          <Button\n            variant=\"contained\"\n            startIcon={<SaveIcon />}\n            onClick={handleSave}\n          >\n            Save\n          </Button>\n        </Toolbar>\n      </AppBar>\n\n      {error && (\n        <Alert severity=\"error\" onClose={() => setError(null)} sx={{ m: 2 }}>\n          {error}\n        </Alert>\n      )}\n\n      {success && (\n        <Alert severity=\"success\" onClose={() => setSuccess(null)} sx={{ m: 2 }}>\n          {success}\n        </Alert>\n      )}\n\n      <Container maxWidth=\"xl\" sx={{ flex: 1, py: 3, overflow: 'auto' }}>\n        {widgets.length === 0 ? (\n          <Box \n            display=\"flex\" \n            flexDirection=\"column\" \n            alignItems=\"center\" \n            justifyContent=\"center\" \n            height=\"60vh\"\n          >\n            <Typography variant=\"h5\" color=\"text.secondary\" gutterBottom>\n              {isNewDashboard ? 'Save your dashboard first' : 'No widgets yet'}\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n              {isNewDashboard \n                ? 'Click Save to create the dashboard, then add widgets' \n                : 'Click \"Add Widget\" to start building your dashboard'}\n            </Typography>\n            {!isNewDashboard && (\n              <Button\n                variant=\"contained\"\n                startIcon={<AddIcon />}\n                onClick={() => setAddWidgetOpen(true)}\n                sx={{ mt: 2 }}\n              >\n                Add Your First Widget\n              </Button>\n            )}\n          </Box>\n        ) : (\n          <ResponsiveGridLayout\n            className=\"layout\"\n            layouts={{ lg: layout }}\n            breakpoints={{ lg: 1200, md: 996, sm: 768, xs: 480, xxs: 0 }}\n            cols={{ lg: 12, md: 10, sm: 6, xs: 4, xxs: 2 }}\n            rowHeight={100}\n            onLayoutChange={handleLayoutChange}\n            draggableHandle=\".drag-handle\"\n          >\n            {widgets.map((widget) => (\n              <div key={widget.id}>\n                <Box sx={{ height: '100%', position: 'relative' }}>\n                  <Box\n                    className=\"drag-handle\"\n                    sx={{\n                      position: 'absolute',\n                      top: 0,\n                      left: 0,\n                      right: 0,\n                      height: 40,\n                      cursor: 'move',\n                      zIndex: 10,\n                      '&:hover': {\n                        bgcolor: 'action.hover'\n                      }\n                    }}\n                  />\n                  <WidgetRenderer widget={widget} />\n                </Box>\n              </div>\n            ))}\n          </ResponsiveGridLayout>\n        )}\n      </Container>\n\n      <AddWidgetModal\n        open={addWidgetOpen}\n        onClose={() => setAddWidgetOpen(false)}\n        onAdd={handleAddWidget}\n      />\n\n      {dashboard && (\n        <>\n          <ShareDashboardDialog\n            open={shareDialogOpen}\n            onClose={() => setShareDialogOpen(false)}\n            dashboard={dashboard}\n          />\n\n          <ExportDialog\n            open={exportDialogOpen}\n            onClose={() => setExportDialogOpen(false)}\n            dashboard={dashboard}\n            widgets={widgets}\n          />\n        </>\n      )}\n    </Box>\n  );\n};\n\nexport default DashboardBuilder;\n"],"names":["LoadingSpinner","_ref","message","size","fullscreen","content","_jsxs","Box","sx","display","flexDirection","alignItems","gap","children","_jsx","CircularProgress","Typography","variant","color","position","top","left","right","bottom","justifyContent","bgcolor","zIndex","minHeight","width","getDashboards","async","api","get","data","createDashboard","post","getDashboard","concat","id","updateDashboard","put","deleteDashboard","delete","shareDashboard","shareData","setDefaultDashboard","createWidget","dashboardId","updateWidget","deleteWidget","executeQuery","widgetConfig","refreshWidget","COLORS","widget","onRefresh","setData","useState","loading","setLoading","error","setError","lastUpdated","setLastUpdated","useEffect","loadData","refreshInterval","interval","setInterval","clearInterval","isRefresh","arguments","length","undefined","response","dataset","query","success","Date","err","_err$response","_err$response$data","console","Card","height","CardHeader","title","action","toLocaleTimeString","IconButton","onClick","handleRefresh","RefreshIcon","titleTypographyProps","CardContent","flex","overflow","renderContent","Alert","severity","type","renderKPI","summary","metrics","primaryMetric","Object","keys","value","p","fontWeight","toLocaleString","textTransform","replace","renderBarChart","_fields$","chartData","fields","xAxisKey","name","dataKeys","slice","map","f","ResponsiveContainer","BarChart","CartesianGrid","strokeDasharray","XAxis","dataKey","YAxis","Tooltip","Legend","key","index","Bar","fill","renderLineChart","_fields$2","LineChart","Line","stroke","strokeWidth","renderPieChart","_fields$3","_fields$4","nameKey","valueKey","pieData","item","Number","PieChart","Pie","cx","cy","labelLine","label","_ref2","percent","toFixed","outerRadius","entry","Cell","renderTable","rows","columns","field","headerName","toUpperCase","minWidth","row","_objectSpread","DataGrid","pageSize","rowsPerPageOptions","disableSelectionOnClick","density","renderFunnel","_fields$5","_fields$6","funnelData","FunnelChart","Funnel","isAnimationActive","DATASETS","WIDGET_TYPES","DATASET_METRICS","deals","tasks","properties","contacts","campaigns","agents","DATASET_GROUPBY","steps","open","onClose","onAdd","activeStep","setActiveStep","setDataset","widgetType","setWidgetType","setQuery","groupBy","filters","limit","setTitle","previewData","setPreviewData","handlePreview","handleClose","canProceed","trim","Dialog","maxWidth","fullWidth","DialogTitle","DialogContent","mt","Stepper","Step","StepLabel","step","_DATASET_METRICS$data","_DATASET_GROUPBY$data","gutterBottom","FormControl","InputLabel","Select","onChange","e","target","ds","MenuItem","Grid","container","spacing","xs","sm","cursor","border","borderColor","align","multiple","metric","TextField","parseInt","InputProps","inputProps","min","max","mb","placeholder","borderRadius","WidgetRenderer","renderStepContent","DialogActions","Button","handleBack","prevStep","disabled","handleAddWidget","x","y","w","h","ROLES","dashboard","selectedUsers","setSelectedUsers","selectedRoles","setSelectedRoles","currentShares","setCurrentShares","setSuccess","sharedWith","shares","roles","filter","s","includes","users","renderValue","selected","flexWrap","Chip","role","charAt","List","dense","share","ListItem","ListItemText","primary","ListItemSecondaryAction","edge","handleRemoveShare","shareId","r","u","DeleteIcon","userIds","setTimeout","EXPORT_FORMATS","widgets","format","setFormat","selectedWidgets","setSelectedWidgets","fmt","handleSelectAll","FormGroup","FormControlLabel","control","Checkbox","checked","handleWidgetToggle","widgetId","prev","startIcon","DownloadIcon","ResponsiveGridLayout","WidthProvider","Responsive","DashboardBuilder","useParams","navigate","useNavigate","isNewDashboard","setDashboard","dashboardName","setDashboardName","setWidgets","layout","setLayout","addWidgetOpen","setAddWidgetOpen","shareDialogOpen","setShareDialogOpen","exportDialogOpen","setExportDialogOpen","fetchDashboard","_response$data$widget","layoutData","i","minW","minH","AppBar","elevation","Toolbar","mr","BackIcon","fontSize","flexGrow","AddIcon","_Fragment","ShareIcon","ExportIcon","SaveIcon","description","isDefault","layoutObj","forEach","widgetLayout","find","l","_err$response2","_err$response2$data","m","Container","py","className","layouts","lg","breakpoints","md","xxs","cols","rowHeight","onLayoutChange","newLayout","draggableHandle","AddWidgetModal","widgetData","newWidget","_err$response3","_err$response3$data","ShareDashboardDialog","ExportDialog"],"sourceRoot":""}
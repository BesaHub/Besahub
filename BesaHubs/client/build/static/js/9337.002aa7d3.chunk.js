"use strict";(self.webpackChunkcre_crm_client=self.webpackChunkcre_crm_client||[]).push([[9337],{42796:(e,i,s)=>{s.d(i,{A:()=>n});var r=s(66734),l=s(70579);const n=(0,r.A)((0,l.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp")},67957:(e,i,s)=>{s.d(i,{A:()=>n});var r=s(66734),l=s(70579);const n=(0,r.A)((0,l.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney")},94389:(e,i,s)=>{s.d(i,{A:()=>n});var r=s(66734),l=s(70579);const n=(0,r.A)((0,l.jsx)("path",{d:"m16 18 2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"}),"TrendingDown")},99337:(e,i,s)=>{s.r(i),s.d(i,{default:()=>F});var r=s(89379),l=s(65043),n=s(73216),t=s(12110),a=s(26494),c=s(96446),d=s(85865),o=s(68903),h=s(63336),x=s(88911),A=s(11906),j=s(79650),u=s(71806),v=s(84882),p=s(28076),g=s(10039),m=s(73460),y=s(43845),b=s(10611),f=s(67784),S=s(32143),_=s(29013),C=s(24056),P=s(67254),T=s(81637),W=s(42796),w=s(94389),D=s(84770),k=s(75155),z=s(95846),R=s(67957),I=s(47968),L=s(47225),M=s(79722);const N={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"/api",U=M.A.create({baseURL:N,timeout:3e4});U.interceptors.request.use(e=>{const i=localStorage.getItem("token");return i&&(e.headers.Authorization="Bearer ".concat(i)),e},e=>Promise.reject(e)),U.interceptors.response.use(e=>e,e=>{var i;return 401===(null===(i=e.response)||void 0===i?void 0:i.status)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)});const B={getDashboard:()=>U.get("/reports/dashboard"),getSalesPipeline:e=>U.get("/reports/sales-pipeline",{params:e}),getPropertyPerformance:e=>U.get("/reports/property-performance",{params:e}),getLeadAnalysis:e=>U.get("/reports/lead-analysis",{params:e}),getActivitySummary:e=>U.get("/reports/activity-summary",{params:e}),getRevenueForecast:e=>U.get("/reports/revenue-forecast",{params:e})};var E=s(70579);const F=()=>{const{reportType:e}=(0,n.g)(),i=(0,n.Zp)(),[s,M]=(0,l.useState)(e||"dashboard"),[N,U]=(0,l.useState)(!0),[F,O]=(0,l.useState)(null),[V,q]=(0,l.useState)(null),[H,K]=(0,l.useState)(null),[$,Q]=(0,l.useState)(null),[Z,G]=(0,l.useState)(null),[J,X]=(0,l.useState)(null),[Y,ee]=(0,l.useState)(null),[ie,se]=(0,l.useState)({startDate:"",endDate:"",propertyType:"",leadSource:""});(0,l.useEffect)(()=>{e&&M(e)},[e]),(0,l.useEffect)(()=>{re()},[s,ie]);const re=async()=>{U(!0),O(null);try{const e={startDate:ie.startDate||void 0,endDate:ie.endDate||void 0,propertyType:ie.propertyType||void 0,leadSource:ie.leadSource||void 0};switch(s){case"dashboard":const i=await B.getDashboard();q(i.data.dashboard);break;case"pipeline":const s=await B.getSalesPipeline(e);K(s.data.pipeline);break;case"properties":const r=await B.getPropertyPerformance(e);Q(r.data.propertyPerformance);break;case"leads":const l=await B.getLeadAnalysis(e);G(l.data.leadAnalysis);break;case"activity":const n=await B.getActivitySummary(e);X(n.data.activitySummary);break;case"revenue":const t=await B.getRevenueForecast(e);ee(t.data.forecast)}}catch(r){var e,i;console.error("Error loading report:",r),O((null===(e=r.response)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.error)||"Failed to load report data")}finally{U(!1)}},le=(e,s)=>{M(s),i("/reports/".concat(s))},ne=e=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"$0",te=e=>e?new Intl.NumberFormat("en-US").format(e):"0",ae=(e,i)=>{const s=ce(e),r=new Blob([s],{type:"text/csv"}),l=window.URL.createObjectURL(r),n=document.createElement("a");n.href=l,n.download="".concat(i,"_").concat((new Date).toISOString().split("T")[0],".csv"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(l)},ce=e=>{if(!e||0===e.length)return"";const i=Object.keys(e[0]),s=[i.join(",")];for(const r of e){const e=i.map(e=>{const i=r[e];return"string"===typeof i?'"'.concat(i,'"'):i});s.push(e.join(","))}return s.join("\n")},de=e=>{let{title:i,value:s,icon:r,trend:l,trendValue:n}=e;return(0,E.jsx)(t.A,{sx:{height:"100%"},children:(0,E.jsx)(a.A,{children:(0,E.jsxs)(c.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,E.jsxs)(c.A,{children:[(0,E.jsx)(d.A,{color:"textSecondary",variant:"caption",sx:{fontWeight:600},children:i}),(0,E.jsx)(d.A,{variant:"h4",sx:{mt:1,fontWeight:700},children:s}),l&&(0,E.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",mt:1},children:["up"===l?(0,E.jsx)(W.A,{sx:{color:"success.main",fontSize:16}}):(0,E.jsx)(w.A,{sx:{color:"error.main",fontSize:16}}),(0,E.jsx)(d.A,{variant:"caption",sx:{ml:.5,color:"up"===l?"success.main":"error.main",fontWeight:600},children:n})]})]}),(0,E.jsx)(c.A,{sx:{backgroundColor:"primary.light",borderRadius:2,p:1,display:"flex",alignItems:"center",justifyContent:"center"},children:r})]})})})};return(0,E.jsxs)(c.A,{children:[(0,E.jsxs)(c.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,E.jsx)(d.A,{variant:"h4",sx:{fontWeight:700},children:"Reports & Analytics"}),(0,E.jsx)(y.A,{icon:(0,E.jsx)(L.A,{}),label:(new Date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),variant:"outlined"})]}),(0,E.jsx)(h.A,{sx:{mb:3},children:(0,E.jsxs)(_.A,{value:s,onChange:le,variant:"scrollable",scrollButtons:"auto",sx:{borderBottom:1,borderColor:"divider"},children:[(0,E.jsx)(C.A,{label:"Dashboard",value:"dashboard"}),(0,E.jsx)(C.A,{label:"Sales Pipeline",value:"pipeline"}),(0,E.jsx)(C.A,{label:"Property Performance",value:"properties"}),(0,E.jsx)(C.A,{label:"Lead Analysis",value:"leads"}),(0,E.jsx)(C.A,{label:"Activity Summary",value:"activity"}),(0,E.jsx)(C.A,{label:"Revenue Forecast",value:"revenue"})]})}),"dashboard"!==s&&(0,E.jsx)(h.A,{sx:{p:2,mb:3},children:(0,E.jsxs)(o.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsx)(f.A,{label:"Start Date",type:"date",value:ie.startDate,onChange:e=>se((0,r.A)((0,r.A)({},ie),{},{startDate:e.target.value})),InputLabelProps:{shrink:!0},size:"small",fullWidth:!0})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsx)(f.A,{label:"End Date",type:"date",value:ie.endDate,onChange:e=>se((0,r.A)((0,r.A)({},ie),{},{endDate:e.target.value})),InputLabelProps:{shrink:!0},size:"small",fullWidth:!0})}),"properties"===s&&(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsxs)(f.A,{select:!0,label:"Property Type",value:ie.propertyType,onChange:e=>se((0,r.A)((0,r.A)({},ie),{},{propertyType:e.target.value})),size:"small",fullWidth:!0,children:[(0,E.jsx)(S.A,{value:"",children:"All Types"}),(0,E.jsx)(S.A,{value:"office",children:"Office"}),(0,E.jsx)(S.A,{value:"retail",children:"Retail"}),(0,E.jsx)(S.A,{value:"industrial",children:"Industrial"}),(0,E.jsx)(S.A,{value:"warehouse",children:"Warehouse"}),(0,E.jsx)(S.A,{value:"multifamily",children:"Multifamily"}),(0,E.jsx)(S.A,{value:"hotel",children:"Hotel"}),(0,E.jsx)(S.A,{value:"land",children:"Land"}),(0,E.jsx)(S.A,{value:"mixed_use",children:"Mixed Use"})]})}),"leads"===s&&(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsxs)(f.A,{select:!0,label:"Lead Source",value:ie.leadSource,onChange:e=>se((0,r.A)((0,r.A)({},ie),{},{leadSource:e.target.value})),size:"small",fullWidth:!0,children:[(0,E.jsx)(S.A,{value:"",children:"All Sources"}),(0,E.jsx)(S.A,{value:"referral",children:"Referral"}),(0,E.jsx)(S.A,{value:"website",children:"Website"}),(0,E.jsx)(S.A,{value:"cold_call",children:"Cold Call"}),(0,E.jsx)(S.A,{value:"email_campaign",children:"Email Campaign"}),(0,E.jsx)(S.A,{value:"social_media",children:"Social Media"}),(0,E.jsx)(S.A,{value:"networking",children:"Networking"})]})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsx)(A.A,{variant:"outlined",onClick:()=>se({startDate:"",endDate:"",propertyType:"",leadSource:""}),fullWidth:!0,children:"Clear Filters"})})]})}),F&&(0,E.jsx)(P.A,{severity:"error",sx:{mb:3},children:F}),N?(0,E.jsx)(c.A,{sx:{display:"flex",justifyContent:"center",py:8},children:(0,E.jsx)(T.A,{size:60})}):(0,E.jsxs)(c.A,{children:["dashboard"===s&&(V?(0,E.jsxs)(o.Ay,{container:!0,spacing:3,children:[(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsx)(de,{title:"Total Properties",value:te(V.totalProperties),icon:(0,E.jsx)(D.A,{sx:{color:"primary.main"}})})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsx)(de,{title:"Total Contacts",value:te(V.totalContacts),icon:(0,E.jsx)(k.A,{sx:{color:"primary.main"}})})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsx)(de,{title:"Active Deals",value:te(V.totalDeals),icon:(0,E.jsx)(z.A,{sx:{color:"primary.main"}})})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsx)(de,{title:"Pipeline Value",value:ne(V.pipelineValue),icon:(0,E.jsx)(R.A,{sx:{color:"primary.main"}})})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,E.jsxs)(h.A,{sx:{p:3},children:[(0,E.jsx)(d.A,{variant:"h6",sx:{mb:2,fontWeight:600},children:"This Month"}),(0,E.jsxs)(c.A,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,E.jsx)(c.A,{children:(0,E.jsxs)(c.A,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,E.jsx)(d.A,{variant:"body2",color:"textSecondary",children:"Closed Deals"}),(0,E.jsx)(d.A,{variant:"body2",fontWeight:600,children:V.closedDealsThisMonth})]})}),(0,E.jsx)(c.A,{children:(0,E.jsxs)(c.A,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,E.jsx)(d.A,{variant:"body2",color:"textSecondary",children:"Activities This Week"}),(0,E.jsx)(d.A,{variant:"body2",fontWeight:600,children:V.activitiesThisWeek})]})})]})]})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,E.jsxs)(h.A,{sx:{p:3},children:[(0,E.jsx)(d.A,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Quick Actions"}),(0,E.jsxs)(x.A,{spacing:1,children:[(0,E.jsx)(A.A,{variant:"outlined",startIcon:(0,E.jsx)(z.A,{}),onClick:()=>le(0,"pipeline"),fullWidth:!0,children:"View Sales Pipeline"}),(0,E.jsx)(A.A,{variant:"outlined",startIcon:(0,E.jsx)(D.A,{}),onClick:()=>le(0,"properties"),fullWidth:!0,children:"Property Performance"}),(0,E.jsx)(A.A,{variant:"outlined",startIcon:(0,E.jsx)(k.A,{}),onClick:()=>le(0,"leads"),fullWidth:!0,children:"Lead Analysis"})]})]})})]}):null),"pipeline"===s&&(()=>{var e,i,s,r;return H?(0,E.jsxs)(o.Ay,{container:!0,spacing:3,children:[(0,E.jsx)(o.Ay,{item:!0,xs:12,children:(0,E.jsxs)(h.A,{sx:{p:3},children:[(0,E.jsxs)(c.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,E.jsx)(d.A,{variant:"h6",sx:{fontWeight:600},children:"Pipeline by Stage"}),(0,E.jsx)(A.A,{startIcon:(0,E.jsx)(I.A,{}),onClick:()=>ae(H.stageBreakdown,"pipeline_by_stage"),size:"small",children:"Export"})]}),(0,E.jsx)(j.A,{children:(0,E.jsxs)(u.A,{children:[(0,E.jsx)(v.A,{children:(0,E.jsxs)(p.A,{children:[(0,E.jsx)(g.A,{children:"Stage"}),(0,E.jsx)(g.A,{align:"right",children:"Deals"}),(0,E.jsx)(g.A,{align:"right",children:"Total Value"}),(0,E.jsx)(g.A,{align:"right",children:"Avg Probability"}),(0,E.jsx)(g.A,{children:"Progress"})]})}),(0,E.jsx)(m.A,{children:null===(e=H.stageBreakdown)||void 0===e?void 0:e.map(e=>(0,E.jsxs)(p.A,{children:[(0,E.jsx)(g.A,{children:(0,E.jsx)(y.A,{label:e.stage.replace("_"," ").toUpperCase(),size:"small",color:"primary",variant:"outlined"})}),(0,E.jsx)(g.A,{align:"right",children:e.count}),(0,E.jsx)(g.A,{align:"right",children:ne(e.total_value)}),(0,E.jsx)(g.A,{align:"right",children:e.avg_probability?"".concat(Math.round(e.avg_probability),"%"):"N/A"}),(0,E.jsx)(g.A,{sx:{width:200},children:(0,E.jsx)(b.A,{variant:"determinate",value:e.avg_probability||0,sx:{height:8,borderRadius:1}})})]},e.stage))})]})})]})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,E.jsxs)(h.A,{sx:{p:3},children:[(0,E.jsx)(d.A,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Deals by Type"}),(0,E.jsx)(j.A,{children:(0,E.jsxs)(u.A,{size:"small",children:[(0,E.jsx)(v.A,{children:(0,E.jsxs)(p.A,{children:[(0,E.jsx)(g.A,{children:"Type"}),(0,E.jsx)(g.A,{align:"right",children:"Count"}),(0,E.jsx)(g.A,{align:"right",children:"Value"})]})}),(0,E.jsx)(m.A,{children:null===(i=H.dealsByType)||void 0===i?void 0:i.map(e=>{var i;return(0,E.jsxs)(p.A,{children:[(0,E.jsx)(g.A,{children:(null===(i=e.dealType)||void 0===i?void 0:i.replace("_"," "))||"N/A"}),(0,E.jsx)(g.A,{align:"right",children:e.count}),(0,E.jsx)(g.A,{align:"right",children:ne(e.total_value)})]},e.dealType)})})]})})]})}),(null===(s=H.pipelineByAgent)||void 0===s?void 0:s.length)>0&&(0,E.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,E.jsxs)(h.A,{sx:{p:3},children:[(0,E.jsx)(d.A,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Pipeline by Agent"}),(0,E.jsx)(j.A,{children:(0,E.jsxs)(u.A,{size:"small",children:[(0,E.jsx)(v.A,{children:(0,E.jsxs)(p.A,{children:[(0,E.jsx)(g.A,{children:"Agent"}),(0,E.jsx)(g.A,{align:"right",children:"Deals"}),(0,E.jsx)(g.A,{align:"right",children:"Value"})]})}),(0,E.jsx)(m.A,{children:null===(r=H.pipelineByAgent)||void 0===r?void 0:r.slice(0,10).map(e=>{var i,s;return(0,E.jsxs)(p.A,{children:[(0,E.jsxs)(g.A,{children:[null===(i=e.listingAgent)||void 0===i?void 0:i.firstName," ",null===(s=e.listingAgent)||void 0===s?void 0:s.lastName]}),(0,E.jsx)(g.A,{align:"right",children:e.deal_count}),(0,E.jsx)(g.A,{align:"right",children:ne(e.pipeline_value)})]},e.listingAgentId)})})]})})]})})]}):null})(),"properties"===s&&(()=>{var e,i,s,r,l,n,t,a;return $?(0,E.jsxs)(o.Ay,{container:!0,spacing:3,children:[(0,E.jsx)(o.Ay,{item:!0,xs:12,children:(0,E.jsxs)(h.A,{sx:{p:3},children:[(0,E.jsx)(d.A,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Average Metrics"}),(0,E.jsxs)(o.Ay,{container:!0,spacing:3,children:[(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsxs)(c.A,{children:[(0,E.jsx)(d.A,{variant:"caption",color:"textSecondary",children:"Avg List Price"}),(0,E.jsx)(d.A,{variant:"h5",sx:{mt:1,fontWeight:600},children:ne(null===(e=$.averageMetrics)||void 0===e?void 0:e.avg_list_price)})]})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsxs)(c.A,{children:[(0,E.jsx)(d.A,{variant:"caption",color:"textSecondary",children:"Avg Price/SF"}),(0,E.jsxs)(d.A,{variant:"h5",sx:{mt:1,fontWeight:600},children:["$",Math.round((null===(i=$.averageMetrics)||void 0===i?void 0:i.avg_price_per_sqft)||0)]})]})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsxs)(c.A,{children:[(0,E.jsx)(d.A,{variant:"caption",color:"textSecondary",children:"Avg Days on Market"}),(0,E.jsx)(d.A,{variant:"h5",sx:{mt:1,fontWeight:600},children:Math.round((null===(s=$.averageMetrics)||void 0===s?void 0:s.avg_days_on_market)||0)})]})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsxs)(c.A,{children:[(0,E.jsx)(d.A,{variant:"caption",color:"textSecondary",children:"Avg Inquiries"}),(0,E.jsx)(d.A,{variant:"h5",sx:{mt:1,fontWeight:600},children:Math.round((null===(r=$.averageMetrics)||void 0===r?void 0:r.avg_inquiries)||0)})]})})]})]})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,E.jsxs)(h.A,{sx:{p:3},children:[(0,E.jsxs)(c.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,E.jsx)(d.A,{variant:"h6",sx:{fontWeight:600},children:"Properties by Type"}),(0,E.jsx)(A.A,{startIcon:(0,E.jsx)(I.A,{}),onClick:()=>ae($.propertysByType,"properties_by_type"),size:"small",children:"Export"})]}),(0,E.jsx)(j.A,{children:(0,E.jsxs)(u.A,{size:"small",children:[(0,E.jsx)(v.A,{children:(0,E.jsxs)(p.A,{children:[(0,E.jsx)(g.A,{children:"Type"}),(0,E.jsx)(g.A,{align:"right",children:"Count"}),(0,E.jsx)(g.A,{align:"right",children:"Avg Price"})]})}),(0,E.jsx)(m.A,{children:null===(l=$.propertysByType)||void 0===l?void 0:l.map(e=>{var i;return(0,E.jsxs)(p.A,{children:[(0,E.jsx)(g.A,{children:(0,E.jsx)(y.A,{label:(null===(i=e.propertyType)||void 0===i?void 0:i.replace("_"," "))||"N/A",size:"small",variant:"outlined"})}),(0,E.jsx)(g.A,{align:"right",children:e.count}),(0,E.jsx)(g.A,{align:"right",children:ne(e.avg_price)})]},e.propertyType)})})]})})]})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,E.jsxs)(h.A,{sx:{p:3},children:[(0,E.jsx)(d.A,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Properties by Status"}),(0,E.jsx)(j.A,{children:(0,E.jsxs)(u.A,{size:"small",children:[(0,E.jsx)(v.A,{children:(0,E.jsxs)(p.A,{children:[(0,E.jsx)(g.A,{children:"Status"}),(0,E.jsx)(g.A,{align:"right",children:"Count"}),(0,E.jsx)(g.A,{align:"right",children:"Avg Days"})]})}),(0,E.jsx)(m.A,{children:null===(n=$.propertiesByStatus)||void 0===n?void 0:n.map(e=>(0,E.jsxs)(p.A,{children:[(0,E.jsx)(g.A,{children:(0,E.jsx)(y.A,{label:e.status,size:"small",color:"active"===e.status?"success":"default"})}),(0,E.jsx)(g.A,{align:"right",children:e.count}),(0,E.jsx)(g.A,{align:"right",children:Math.round(e.avg_days_on_market||0)})]},e.status))})]})})]})}),(null===(t=$.topPerformingProperties)||void 0===t?void 0:t.length)>0&&(0,E.jsx)(o.Ay,{item:!0,xs:12,children:(0,E.jsxs)(h.A,{sx:{p:3},children:[(0,E.jsx)(d.A,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Top Performing Properties"}),(0,E.jsx)(j.A,{children:(0,E.jsxs)(u.A,{children:[(0,E.jsx)(v.A,{children:(0,E.jsxs)(p.A,{children:[(0,E.jsx)(g.A,{children:"Property"}),(0,E.jsx)(g.A,{children:"Location"}),(0,E.jsx)(g.A,{align:"right",children:"List Price"}),(0,E.jsx)(g.A,{align:"right",children:"Views"}),(0,E.jsx)(g.A,{align:"right",children:"Inquiries"})]})}),(0,E.jsx)(m.A,{children:null===(a=$.topPerformingProperties)||void 0===a?void 0:a.map(e=>(0,E.jsxs)(p.A,{children:[(0,E.jsx)(g.A,{children:e.name||e.address}),(0,E.jsxs)(g.A,{children:[e.city,", ",e.state]}),(0,E.jsx)(g.A,{align:"right",children:ne(e.listPrice)}),(0,E.jsx)(g.A,{align:"right",children:e.views||0}),(0,E.jsx)(g.A,{align:"right",children:(0,E.jsx)(y.A,{label:e.inquiries||0,size:"small",color:"primary"})})]},e.id))})]})})]})})]}):null})(),"leads"===s&&(()=>{var e,i,s;return Z?(0,E.jsxs)(o.Ay,{container:!0,spacing:3,children:[(0,E.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,E.jsxs)(h.A,{sx:{p:3},children:[(0,E.jsxs)(c.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,E.jsx)(d.A,{variant:"h6",sx:{fontWeight:600},children:"Leads by Source"}),(0,E.jsx)(A.A,{startIcon:(0,E.jsx)(I.A,{}),onClick:()=>ae(Z.leadsBySource,"leads_by_source"),size:"small",children:"Export"})]}),(0,E.jsx)(j.A,{children:(0,E.jsxs)(u.A,{size:"small",children:[(0,E.jsx)(v.A,{children:(0,E.jsxs)(p.A,{children:[(0,E.jsx)(g.A,{children:"Source"}),(0,E.jsx)(g.A,{align:"right",children:"Total"}),(0,E.jsx)(g.A,{align:"right",children:"Converted"}),(0,E.jsx)(g.A,{align:"right",children:"Rate"})]})}),(0,E.jsx)(m.A,{children:null===(e=Z.leadsBySource)||void 0===e?void 0:e.map(e=>{var i;const s=e.count>0?(e.converted/e.count*100).toFixed(1):"0.0";return(0,E.jsxs)(p.A,{children:[(0,E.jsx)(g.A,{children:(0,E.jsx)(y.A,{label:(null===(i=e.leadSource)||void 0===i?void 0:i.replace("_"," "))||"N/A",size:"small",variant:"outlined"})}),(0,E.jsx)(g.A,{align:"right",children:e.count}),(0,E.jsx)(g.A,{align:"right",children:e.converted}),(0,E.jsxs)(g.A,{align:"right",children:[s,"%"]})]},e.leadSource)})})]})})]})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,E.jsxs)(h.A,{sx:{p:3},children:[(0,E.jsx)(d.A,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Leads by Status"}),(0,E.jsx)(j.A,{children:(0,E.jsxs)(u.A,{size:"small",children:[(0,E.jsx)(v.A,{children:(0,E.jsxs)(p.A,{children:[(0,E.jsx)(g.A,{children:"Status"}),(0,E.jsx)(g.A,{align:"right",children:"Count"})]})}),(0,E.jsx)(m.A,{children:null===(i=Z.leadsByStatus)||void 0===i?void 0:i.map(e=>{var i;return(0,E.jsxs)(p.A,{children:[(0,E.jsx)(g.A,{children:(0,E.jsx)(y.A,{label:(null===(i=e.leadStatus)||void 0===i?void 0:i.replace("_"," "))||"N/A",size:"small",color:"converted"===e.leadStatus?"success":"default"})}),(0,E.jsx)(g.A,{align:"right",children:e.count})]},e.leadStatus)})})]})})]})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,children:(0,E.jsxs)(h.A,{sx:{p:3},children:[(0,E.jsx)(d.A,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Conversion Rates by Contact Role"}),(0,E.jsx)(j.A,{children:(0,E.jsxs)(u.A,{children:[(0,E.jsx)(v.A,{children:(0,E.jsxs)(p.A,{children:[(0,E.jsx)(g.A,{children:"Contact Role"}),(0,E.jsx)(g.A,{align:"right",children:"Total Leads"}),(0,E.jsx)(g.A,{align:"right",children:"Converted"}),(0,E.jsx)(g.A,{align:"right",children:"Conversion Rate"}),(0,E.jsx)(g.A,{children:"Progress"})]})}),(0,E.jsx)(m.A,{children:null===(s=Z.conversionRates)||void 0===s?void 0:s.map(e=>{var i;const s=e.total_leads>0?e.converted_leads/e.total_leads*100:0;return(0,E.jsxs)(p.A,{children:[(0,E.jsx)(g.A,{children:(0,E.jsx)(y.A,{label:(null===(i=e.contactRole)||void 0===i?void 0:i.replace("_"," "))||"N/A",size:"small",variant:"outlined"})}),(0,E.jsx)(g.A,{align:"right",children:e.total_leads}),(0,E.jsx)(g.A,{align:"right",children:e.converted_leads}),(0,E.jsxs)(g.A,{align:"right",children:[s.toFixed(1),"%"]}),(0,E.jsx)(g.A,{sx:{width:200},children:(0,E.jsx)(b.A,{variant:"determinate",value:s,sx:{height:8,borderRadius:1}})})]},e.contactRole)})})]})})]})})]}):null})(),"activity"===s&&(()=>{var e,i,s,r;return J?(0,E.jsxs)(o.Ay,{container:!0,spacing:3,children:[(0,E.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,E.jsxs)(h.A,{sx:{p:3},children:[(0,E.jsx)(d.A,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Activities by Type"}),(0,E.jsx)(j.A,{children:(0,E.jsxs)(u.A,{size:"small",children:[(0,E.jsx)(v.A,{children:(0,E.jsxs)(p.A,{children:[(0,E.jsx)(g.A,{children:"Type"}),(0,E.jsx)(g.A,{align:"right",children:"Count"}),(0,E.jsx)(g.A,{align:"right",children:"Avg Duration (min)"})]})}),(0,E.jsx)(m.A,{children:null===(e=J.activitiesByType)||void 0===e?void 0:e.map(e=>{var i;return(0,E.jsxs)(p.A,{children:[(0,E.jsx)(g.A,{children:(0,E.jsx)(y.A,{label:(null===(i=e.type)||void 0===i?void 0:i.replace("_"," "))||"N/A",size:"small",variant:"outlined"})}),(0,E.jsx)(g.A,{align:"right",children:e.count}),(0,E.jsx)(g.A,{align:"right",children:e.avg_duration?Math.round(e.avg_duration):"N/A"})]},e.type)})})]})})]})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,E.jsxs)(h.A,{sx:{p:3},children:[(0,E.jsx)(d.A,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Activities by Outcome"}),(0,E.jsx)(j.A,{children:(0,E.jsxs)(u.A,{size:"small",children:[(0,E.jsx)(v.A,{children:(0,E.jsxs)(p.A,{children:[(0,E.jsx)(g.A,{children:"Outcome"}),(0,E.jsx)(g.A,{align:"right",children:"Count"})]})}),(0,E.jsx)(m.A,{children:null===(i=J.activitiesByOutcome)||void 0===i?void 0:i.map(e=>{var i;return(0,E.jsxs)(p.A,{children:[(0,E.jsx)(g.A,{children:(0,E.jsx)(y.A,{label:(null===(i=e.outcome)||void 0===i?void 0:i.replace("_"," "))||"N/A",size:"small",color:"successful"===e.outcome?"success":"default"})}),(0,E.jsx)(g.A,{align:"right",children:e.count})]},e.outcome)})})]})})]})}),(null===(s=J.topActiveUsers)||void 0===s?void 0:s.length)>0&&(0,E.jsx)(o.Ay,{item:!0,xs:12,children:(0,E.jsxs)(h.A,{sx:{p:3},children:[(0,E.jsx)(d.A,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Most Active Users"}),(0,E.jsx)(j.A,{children:(0,E.jsxs)(u.A,{children:[(0,E.jsx)(v.A,{children:(0,E.jsxs)(p.A,{children:[(0,E.jsx)(g.A,{children:"User"}),(0,E.jsx)(g.A,{align:"right",children:"Activity Count"}),(0,E.jsx)(g.A,{align:"right",children:"Avg Duration (min)"})]})}),(0,E.jsx)(m.A,{children:null===(r=J.topActiveUsers)||void 0===r?void 0:r.map(e=>{var i,s;return(0,E.jsxs)(p.A,{children:[(0,E.jsxs)(g.A,{children:[null===(i=e.user)||void 0===i?void 0:i.firstName," ",null===(s=e.user)||void 0===s?void 0:s.lastName]}),(0,E.jsx)(g.A,{align:"right",children:e.activity_count}),(0,E.jsx)(g.A,{align:"right",children:e.avg_duration?Math.round(e.avg_duration):"N/A"})]},e.userId)})})]})})]})})]}):null})(),"revenue"===s&&Y&&(0,E.jsxs)(h.A,{sx:{p:3},children:[(0,E.jsx)(d.A,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Revenue Forecast"}),(0,E.jsx)(P.A,{severity:"info",children:"Revenue forecasting feature displays projected revenue based on pipeline deals and historical data."})]})]})]})}}}]);
//# sourceMappingURL=9337.002aa7d3.chunk.js.map
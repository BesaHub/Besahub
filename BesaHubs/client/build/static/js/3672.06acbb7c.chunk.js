"use strict";(self.webpackChunkcre_crm_client=self.webpackChunkcre_crm_client||[]).push([[3672],{19252:(e,t,s)=>{s.d(t,{A:()=>k});var r=s(98587),a=s(58168),n=s(65043),o=s(58387),i=s(72372),d=s(98610),l=s(67598),c=s(52900),u=s(46060),m=s(18280),p=s(70579);const x=["className","component","disableGutters","fixed","maxWidth","classes"],h=(0,m.A)(),b=(0,u.A)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t["maxWidth".concat((0,l.A)(String(s.maxWidth)))],s.fixed&&t.fixed,s.disableGutters&&t.disableGutters]}}),w=e=>(0,c.A)({props:e,name:"MuiContainer",defaultTheme:h});var g=s(6803),f=s(34535),A=s(98206);const v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=b,useThemeProps:s=w,componentName:c="MuiContainer"}=e,u=t(e=>{let{theme:t,ownerState:s}=e;return(0,a.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!s.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})},e=>{let{theme:t,ownerState:s}=e;return s.fixed&&Object.keys(t.breakpoints.values).reduce((e,s)=>{const r=s,a=t.breakpoints.values[r];return 0!==a&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(a).concat(t.breakpoints.unit)}),e},{})},e=>{let{theme:t,ownerState:s}=e;return(0,a.A)({},"xs"===s.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},s.maxWidth&&"xs"!==s.maxWidth&&{[t.breakpoints.up(s.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[s.maxWidth]).concat(t.breakpoints.unit)}})}),m=n.forwardRef(function(e,t){const n=s(e),{className:m,component:h="div",disableGutters:b=!1,fixed:w=!1,maxWidth:g="lg"}=n,f=(0,r.A)(n,x),A=(0,a.A)({},n,{component:h,disableGutters:b,fixed:w,maxWidth:g}),v=((e,t)=>{const{classes:s,fixed:r,disableGutters:a,maxWidth:n}=e,o={root:["root",n&&"maxWidth".concat((0,l.A)(String(n))),r&&"fixed",a&&"disableGutters"]};return(0,d.A)(o,e=>(0,i.Ay)(t,e),s)})(A,c);return(0,p.jsx)(u,(0,a.A)({as:h,ownerState:A,className:(0,o.A)(v.root,m),ref:t},f))});return m}({createStyledComponent:(0,f.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t["maxWidth".concat((0,g.A)(String(s.maxWidth)))],s.fixed&&t.fixed,s.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,A.b)({props:e,name:"MuiContainer"})}),k=v},83672:(e,t,s)=>{s.r(t),s.d(t,{default:()=>w});var r=s(89379),a=s(65043),n=s(73216),o=s(35475),i=s(96446),d=s(19252),l=s(63336),c=s(85865),u=s(67254),m=s(67784),p=s(11906),x=s(81637),h=s(35016),b=s(70579);const w=()=>{var e,t;const s=(0,n.Zp)(),[w]=(0,o.ok)(),{resetPassword:g,resetPasswordError:f,isResetPasswordLoading:A,resetPasswordSuccess:v}=(0,h.h)(),[k,y]=(0,a.useState)({password:"",confirmPassword:""}),[W,j]=(0,a.useState)("");(0,a.useEffect)(()=>{const e=w.get("token");e&&j(e)},[w]);const P=e=>{y((0,r.A)((0,r.A)({},k),{},{[e.target.name]:e.target.value}))};return(0,b.jsx)(i.A,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #1976d2 0%, #1565c0 100%)",display:"flex",alignItems:"center",justifyContent:"center",py:3},children:(0,b.jsx)(d.A,{maxWidth:"sm",children:(0,b.jsxs)(l.A,{elevation:10,sx:{p:4,borderRadius:3,background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)"},children:[(0,b.jsxs)(i.A,{sx:{textAlign:"center",mb:4},children:[(0,b.jsx)(c.A,{variant:"h4",component:"h1",sx:{mb:1,fontWeight:600,color:"#1976d2"},children:"Set New Password"}),(0,b.jsx)(c.A,{variant:"body1",color:"textSecondary",children:"Enter your new password below."})]}),v?(0,b.jsx)(i.A,{sx:{textAlign:"center"},children:(0,b.jsx)(u.A,{severity:"success",sx:{mb:3},children:"Password has been reset successfully! Redirecting to login..."})}):(0,b.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),k.password===k.confirmPassword)if(W)try{await g({token:W,password:k.password}),setTimeout(()=>s("/login"),2e3)}catch(t){}else alert("Invalid reset token");else alert("Passwords do not match")},children:[(0,b.jsx)(m.A,{fullWidth:!0,label:"New Password",name:"password",type:"password",value:k.password,onChange:P,required:!0,autoComplete:"new-password",autoFocus:!0,sx:{mb:2}}),(0,b.jsx)(m.A,{fullWidth:!0,label:"Confirm New Password",name:"confirmPassword",type:"password",value:k.confirmPassword,onChange:P,required:!0,autoComplete:"new-password",sx:{mb:3}}),f&&(0,b.jsx)(u.A,{severity:"error",sx:{mb:2},children:(null===(e=f.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to reset password. Please try again."}),(0,b.jsx)(p.A,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:A||!W,sx:{mb:3,py:1.5},children:A?(0,b.jsx)(x.A,{size:24}):"Reset Password"}),!W&&(0,b.jsx)(u.A,{severity:"error",children:"Invalid or missing reset token. Please request a new password reset."})]})]})})})}}}]);
//# sourceMappingURL=3672.06acbb7c.chunk.js.map
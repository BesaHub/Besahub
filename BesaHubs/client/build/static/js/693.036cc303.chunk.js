"use strict";(self.webpackChunkcre_crm_client=self.webpackChunkcre_crm_client||[]).push([[693],{693:(e,t,i)=>{i.r(t),i.d(t,{default:()=>le});var a=i(89379),r=i(65043),s=i(26240),n=i(19252),o=i(96446),l=i(78185),c=i(63336),d=i(85865),p=i(77739),g=i(17392),u=i(11906),h=i(53193),m=i(18356),y=i(72221),x=i(32143),f=i(68903),A=i(67784),S=i(51787),w=i(43845),v=i(51962),b=i(79650),j=i(71806),C=i(84882),k=i(28076),I=i(10039),P=i(73460),L=i(33691),z=i(83462),D=i(26600),F=i(35316),O=i(29347),M=i(73158),R=i(67254),T=i(9345),E=i(10529),W=i(47805),_=i(44973),B=i(70141),q=i(33438),N=i(59893),H=i(79484),U=i(30079),V=i(34190),Y=i(82236),J=i(84770),Z=i(3632),G=i(83560),Q=i(73216),K=i(85006),X=i(16597),$=i(53831),ee=i(48309),te=i(29013),ie=i(24056),ae=i(35016),re=i(70579);const se="properties_saved_views",ne=e=>[{id:"all",name:"All Properties",filters:{type:"",propertyStatus:"",search:""},isDefault:!0,isSystem:!0},{id:"my-properties",name:"My Properties",filters:{type:"",propertyStatus:"",search:"",listingAgentId:null===e||void 0===e?void 0:e.id,listingAgentEmail:null===e||void 0===e?void 0:e.email,listingAgentName:e?"".concat(e.firstName||""," ").concat(e.lastName||"").trim():""},isDefault:!1,isSystem:!0},{id:"active-listings",name:"Active Listings",filters:{type:"",propertyStatus:"active",search:"",marketingStatus:"published"},isDefault:!1,isSystem:!0},{id:"under-loi",name:"Under LOI",filters:{type:"",propertyStatus:"under_loi",search:""},isDefault:!1,isSystem:!0},{id:"off-market",name:"Off Market",filters:{type:"",propertyStatus:"off_market",search:""},isDefault:!1,isSystem:!0},{id:"sold-leased",name:"Sold / Leased",filters:{type:"",propertyStatus:"sold_leased",search:""},isDefault:!1,isSystem:!0}],oe=e=>{let{selectedViewId:t,onViewChange:i,filters:s,onFiltersChange:n,properties:l=[],variant:c="tabs"}=e;const{user:d}=(0,ae.h)(),[p,g]=(0,r.useState)([]),[u,f]=(0,r.useState)(t||"all"),A=(0,r.useRef)(null),S=(0,r.useCallback)((e,t,i)=>t&&0!==t.length?t.filter(t=>{if(e.filters.type&&t.propertyType!==e.filters.type)return!1;if(e.filters.propertyStatus)if(Array.isArray(e.filters.propertyStatus)){if(!e.filters.propertyStatus.includes(t.propertyStatus))return!1}else if(t.propertyStatus!==e.filters.propertyStatus)return!1;if(e.filters.search){var a,r,s;const i=e.filters.search.toLowerCase();if(!((null===(a=t.name)||void 0===a?void 0:a.toLowerCase().includes(i))||(null===(r=t.address)||void 0===r?void 0:r.toLowerCase().includes(i))||(null===(s=t.city)||void 0===s?void 0:s.toLowerCase().includes(i))))return!1}if(e.filters.listingAgentId||e.filters.listingAgentEmail||e.filters.listingAgentName){const a=e.filters.listingAgentId||(null===i||void 0===i?void 0:i.id),r=e.filters.listingAgentEmail||(null===i||void 0===i?void 0:i.email);let s=!1,n=!1;if(!!(t.listingAgentId||t.listingAgentEmail||t.listingAgent)){if(a&&t.listingAgentId&&(n=String(t.listingAgentId)===String(a)),!n&&r&&t.listingAgentEmail&&(n=t.listingAgentEmail.toLowerCase()===r.toLowerCase()),!n&&t.listingAgent)if("object"===typeof t.listingAgent){if(a&&t.listingAgent.id&&(n=String(t.listingAgent.id)===String(a)),!n&&r&&t.listingAgent.email&&(n=t.listingAgent.email.toLowerCase()===r.toLowerCase()),!n&&e.filters.listingAgentName){n="".concat(t.listingAgent.firstName||""," ").concat(t.listingAgent.lastName||"").trim().toLowerCase()===e.filters.listingAgentName.toLowerCase()}}else"string"===typeof t.listingAgent&&(r&&(n=t.listingAgent.toLowerCase().includes(r.toLowerCase())),!n&&e.filters.listingAgentName&&(n=t.listingAgent.toLowerCase().includes(e.filters.listingAgentName.toLowerCase())));s=n}else a&&t.createdBy&&(s=String(t.createdBy)===String(a));if(!s)return!1}return(!e.filters.marketingStatus||t.marketingStatus===e.filters.marketingStatus)&&(!e.filters.transactionStatus||t.transactionStatus===e.filters.transactionStatus)}).length:0,[]),v=(0,r.useMemo)(()=>{const e={};return p.forEach(t=>{e[t.id]=S(t,l,d)}),e},[p,l,d,S]);(0,r.useEffect)(()=>{void 0!==d&&(()=>{try{const e=localStorage.getItem(se);let t=[];e&&(t=JSON.parse(e));const i=ne(d),a=new Set(i.map(e=>e.id)),r=t.filter(e=>!a.has(e.id));g([...i,...r])}catch(e){console.error("Error loading saved views:",e),g(ne(d))}})()},[d]),(0,r.useEffect)(()=>{if(p.length>0)try{localStorage.setItem(se,JSON.stringify(p))}catch(e){console.error("Error saving views:",e)}},[p]),(0,r.useEffect)(()=>{t!==u&&f(t)},[t]),(0,r.useEffect)(()=>{if(u&&p.length>0&&n){const e=p.find(e=>e.id===u);if(e){const t=(0,a.A)({},e.filters),i=JSON.stringify(t);A.current!==i&&(A.current=i,n(t))}}},[u,p,n]);const b=(0,r.useCallback)((e,t)=>{const a="tabs"===c?t:e.target.value;f(a),i&&i(a)},[c,i]);p.find(e=>e.id===u);return"dropdown"===c?(0,re.jsxs)(h.A,{size:"small",sx:{minWidth:200},children:[(0,re.jsx)(m.A,{children:"View"}),(0,re.jsx)(y.A,{value:u,onChange:b,label:"View",startAdornment:(0,re.jsx)(E.A,{sx:{mr:1,color:"text.secondary"}}),children:p.map(e=>{const t=v[e.id]||0;return(0,re.jsxs)(x.A,{value:e.id,children:[e.name," (",t,")",e.isDefault&&(0,re.jsx)(w.A,{label:"Default",size:"small",sx:{ml:1,height:18,fontSize:"0.65rem"}})]},e.id)})})]}):(0,re.jsx)(o.A,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:(0,re.jsx)(te.A,{value:u||"all",onChange:b,variant:"scrollable",scrollButtons:"auto",sx:{"& .MuiTab-root":{textTransform:"none",fontWeight:500,minHeight:48,"&.Mui-selected":{fontWeight:600}}},children:p.map(e=>{const t=v[e.id]||0;return(0,re.jsx)(ie.A,{value:e.id,label:(0,re.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,re.jsx)("span",{children:e.name}),(0,re.jsx)(w.A,{label:t,size:"small",sx:{height:18,minWidth:18,fontSize:"0.7rem",fontWeight:600,"& .MuiChip-label":{px:.75,py:0}}})]})},e.id)})})})},le=()=>{var e;const t=(0,s.A)(),i=(0,Q.zy)(),te=(0,Q.Zp)(),{user:ie}=(0,ae.h)(),[se,ne]=(0,X.A)({threshold:.05,initialVisible:!0}),[le,ce]=(0,r.useState)([]),[de,pe]=(0,r.useState)(!0),[ge,ue]=(0,r.useState)(""),[he,me]=(0,r.useState)(""),[ye,xe]=(0,r.useState)(""),[fe,Ae]=(0,r.useState)(""),[Se,we]=(0,r.useState)("name-asc"),[ve,be]=(0,r.useState)({open:!1,property:null}),[je,Ce]=(0,r.useState)({open:!1,message:"",severity:"success"}),[ke,Ie]=(0,r.useState)(1),[Pe,Le]=(0,r.useState)("grid"),[ze,De]=(0,r.useState)("all"),[Fe,Oe]=(0,r.useState)({}),[Me,Re]=(0,r.useState)(new Set),Te=12,Ee="dev_properties_cache";(0,r.useEffect)(()=>{0},[]);const We=()=>{try{const e=localStorage.getItem(Ee);return e?JSON.parse(e):[]}catch(e){return[]}},_e=e=>{try{localStorage.setItem(Ee,JSON.stringify(e))}catch(t){}},Be=e=>{const t=We(),i=new Map(e.map(e=>[String(e.id),e]));for(const a of t)i.has(String(a.id))||i.set(String(a.id),a);return Array.from(i.values()).sort((e,t)=>new Date(t.updatedAt||t.createdAt||0)-new Date(e.updatedAt||e.createdAt||0))};(0,r.useEffect)(()=>{(async()=>{try{var e;pe(!0);const t=await K.Up.getProperties({page:1,limit:100}),r=(null===t||void 0===t?void 0:t.properties)||[];let s=Be(r);const n=[{id:"sample-property-001",name:"Downtown Financial Plaza",propertyType:"office",city:"Los Angeles",state:"CA",listingType:"lease",propertyStatus:"active",marketingStatus:"actively_marketing",address:"1200 Wilshire Boulevard",zipCode:"90017",county:"Los Angeles",totalSquareFootage:45e3,availableSquareFootage:12e3,buildingClass:"A",yearBuilt:2018,floors:12,parkingSpaces:180,parkingRatio:4,leaseRate:42.5,leaseRateUnit:"per_sqft_annual",description:"Premium Class A office building in the heart of downtown LA. Modern amenities, stunning views, and excellent accessibility.",highlights:"Floor-to-ceiling windows, state-of-the-art HVAC, on-site parking garage, rooftop terrace",amenities:["Concierge","Fitness Center","Conference Rooms","Rooftop Deck","EV Charging"],keyFeatures:["LEED Certified","24/7 Security","High-Speed Elevators","Fiber Internet Ready"],images:["https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&auto=format&fit=crop&q=80","https://images.unsplash.com/photo-1497366754035-f200968a6e72?w=800&auto=format&fit=crop&q=80"],documents:[{name:"Property Flyer.pdf",url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",filename:"Property Flyer.pdf"},{name:"Floor Plans.pdf",url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",filename:"Floor Plans.pdf"}],keyHighlights:[],createdAt:new Date(Date.now()-2592e6).toISOString(),updatedAt:(new Date).toISOString()},{id:"sample-property-002",name:"Coastal Shopping Center",propertyType:"retail",city:"San Diego",state:"CA",listingType:"sale",propertyStatus:"active",marketingStatus:"actively_marketing",address:"2450 Pacific Coast Highway",zipCode:"92101",totalSquareFootage:28e3,availableSquareFootage:28e3,buildingClass:"B",yearBuilt:2005,parkingSpaces:120,listPrice:85e5,capRate:.065,netOperatingIncome:552500,description:"Prime retail center with excellent visibility and high foot traffic. Fully leased with strong tenant mix.",amenities:["Parking Lot","Loading Docks","Signage Rights"],keyFeatures:["High Traffic Location","Long-Term Tenants","Triple Net Lease"],images:["https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800&auto=format&fit=crop&q=80"],documents:[{name:"Offering Memorandum.pdf",url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",filename:"Offering Memorandum.pdf"}],keyHighlights:[],createdAt:new Date(Date.now()-1296e6).toISOString(),updatedAt:(new Date).toISOString()},{id:"sample-property-003",name:"Riverside Distribution Center",propertyType:"industrial",city:"Riverside",state:"CA",listingType:"lease",propertyStatus:"under_loi",marketingStatus:"under_loi",address:"1850 Industrial Way",zipCode:"92507",totalSquareFootage:125e3,availableSquareFootage:125e3,buildingClass:"A",yearBuilt:2020,ceilingHeight:32,clearHeight:30,loadingDocks:12,driveInDoors:4,parkingSpaces:50,leaseRate:.85,leaseRateUnit:"per_sqft_monthly",description:"State-of-the-art distribution facility with high ceilings, multiple loading docks, and excellent freeway access.",highlights:"Rail access available, ESFR sprinkler system, 50-foot truck courts",amenities:["Rail Access","ESFR Sprinklers","Office Space","Employee Parking"],keyFeatures:["Cross-Dock Configuration","High Clearance","Truck Courts"],images:["https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&auto=format&fit=crop&q=80"],documents:[],keyHighlights:[],createdAt:new Date(Date.now()-6048e5).toISOString(),updatedAt:(new Date).toISOString()},{id:"sample-property-004",name:"Midtown Business Center",propertyType:"office",city:"San Francisco",state:"CA",listingType:"lease",propertyStatus:"active",marketingStatus:"draft",address:"500 Market Street",zipCode:"94102",totalSquareFootage:25e3,amenities:[],keyFeatures:[],keyHighlights:[],createdAt:new Date(Date.now()-2592e5).toISOString(),updatedAt:(new Date).toISOString()},{id:"sample-property-005",name:"Sunset Strip Plaza",propertyType:"retail",city:"Los Angeles",state:"CA",listingType:"lease",propertyStatus:"off_market",marketingStatus:"off_market",address:"7800 Sunset Boulevard",zipCode:"90046",totalSquareFootage:15e3,availableSquareFootage:3500,buildingClass:"C",yearBuilt:1995,parkingSpaces:45,leaseRate:28,leaseRateUnit:"per_sqft_annual",description:"Well-located strip center with established tenants. One unit available for lease.",amenities:[],keyFeatures:[],keyHighlights:[],images:["https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800&auto=format&fit=crop&q=80"],documents:[],createdAt:new Date(Date.now()-5184e6).toISOString(),updatedAt:new Date(Date.now()-432e6).toISOString()},{id:"sample-property-006",name:"Commerce Industrial Park",propertyType:"industrial",city:"Commerce",state:"CA",listingType:"sale",propertyStatus:"sold_leased",marketingStatus:"closed",transactionStatus:"closed",address:"5900 Eastern Avenue",zipCode:"90040",totalSquareFootage:75e3,buildingClass:"B",yearBuilt:2010,ceilingHeight:24,loadingDocks:6,parkingSpaces:30,finalSalePrice:1125e4,dateSoldLeased:new Date(Date.now()-3888e6).toISOString().split("T")[0],buyerTenantName:"ABC Logistics Inc.",description:"Modern industrial facility sold to logistics company. Transaction closed successfully.",amenities:[],keyFeatures:[],keyHighlights:[],images:["https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&auto=format&fit=crop&q=80"],documents:[],createdAt:new Date(Date.now()-7776e6).toISOString(),updatedAt:new Date(Date.now()-3888e6).toISOString()},{id:"sample-property-007",name:"Tech Campus Building 3",propertyType:"office",city:"Palo Alto",state:"CA",listingType:"lease",propertyStatus:"active",marketingStatus:"actively_marketing",address:"3200 Hillview Avenue",zipCode:"94304",totalSquareFootage:85e3,availableSquareFootage:2e4,buildingClass:"A",yearBuilt:2015,floors:8,parkingSpaces:300,leaseRate:55,leaseRateUnit:"per_sqft_annual",description:"Premium tech campus building with modern amenities and flexible floor plans.",amenities:["Cafeteria","Gym","Bike Storage","Showers"],keyFeatures:["Tech-Ready","Fiber Internet","Conference Facilities"],images:["https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&auto=format&fit=crop&q=80"],documents:[{name:"Building Specifications.pdf",url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",filename:"Building Specifications.pdf"}],keyHighlights:[],createdAt:new Date(Date.now()-1728e6).toISOString(),updatedAt:(new Date).toISOString()},{id:"sample-property-008",name:"Corner Retail Space",propertyType:"retail",city:"Santa Monica",state:"CA",listingType:"lease",propertyStatus:"active",marketingStatus:"draft",address:"1400 3rd Street Promenade",zipCode:"90401",totalSquareFootage:2500,amenities:[],keyFeatures:[],keyHighlights:[],createdAt:new Date(Date.now()-1728e5).toISOString(),updatedAt:(new Date).toISOString()},{id:"sample-property-009",name:"Long Beach Port Warehouse",propertyType:"industrial",city:"Long Beach",state:"CA",listingType:"lease",propertyStatus:"active",marketingStatus:"actively_marketing",address:"2200 Pier A Avenue",zipCode:"90802",totalSquareFootage:2e5,availableSquareFootage:5e4,buildingClass:"A",yearBuilt:2018,ceilingHeight:36,clearHeight:34,loadingDocks:20,driveInDoors:8,parkingSpaces:100,leaseRate:.95,leaseRateUnit:"per_sqft_monthly",description:"Port-adjacent warehouse facility with direct access to shipping terminals. Ideal for import/export operations.",highlights:"Port access, container yard, customs bonded area available",amenities:["Port Access","Container Yard","Office Space","Security Fencing"],keyFeatures:["Port Proximity","High Clearance","Multiple Docks","Rail Access"],images:["https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&auto=format&fit=crop&q=80","https://images.unsplash.com/photo-1600298881974-6be191ceeda1?w=800&auto=format&fit=crop&q=80"],documents:[{name:"Site Plan.pdf",url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",filename:"Site Plan.pdf"},{name:"Lease Terms.pdf",url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",filename:"Lease Terms.pdf"}],keyHighlights:[],createdAt:new Date(Date.now()-864e6).toISOString(),updatedAt:(new Date).toISOString()},{id:"sample-property-010",name:"Beverly Hills Executive Suites",propertyType:"office",city:"Beverly Hills",state:"CA",listingType:"sale",propertyStatus:"under_loi",marketingStatus:"under_loi",address:"9500 Wilshire Boulevard",zipCode:"90212",totalSquareFootage:18e3,buildingClass:"A",yearBuilt:2012,floors:5,listPrice:125e5,capRate:.055,description:"Luxury office building in prestigious Beverly Hills location. Currently under LOI.",amenities:["Valet Parking","Concierge","Private Elevators"],keyFeatures:["Prime Location","Luxury Finish","High-End Tenants"],images:["https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&auto=format&fit=crop&q=80"],documents:[{name:"LOI.pdf",url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",filename:"LOI.pdf"}],keyHighlights:[],createdAt:new Date(Date.now()-432e6).toISOString(),updatedAt:(new Date).toISOString()}],o=new Set(s.map(e=>String(e.id))),l=n.filter(e=>!o.has(String(e.id)));l.length>0&&(s=[...l,...s],_e(s));const c=null===(e=i.state)||void 0===e?void 0:e.newProperty;if(c){const e=s.findIndex(e=>String(e.id)===String(c.id));e>=0?s[e]=(0,a.A)((0,a.A)({},s[e]),c):s=[c,...s],_e(s)}ce(s)}catch(t){console.error("Failed to fetch properties:",t),ce([]),Ce({open:!0,message:"Failed to load properties. Please try again.",severity:"error"})}finally{pe(!1)}})()},[i.state]),(0,r.useEffect)(()=>{const e=setTimeout(()=>{me(ge)},300);return()=>clearTimeout(e)},[ge]);const qe=(0,r.useCallback)(async e=>{try{try{await K.Up.deleteProperty(e.id)}catch(t){}ce(t=>t.filter(t=>t.id!==e.id)),_e(We().filter(t=>String(t.id)!==String(e.id))),Ce({open:!0,message:"Property deleted successfully",severity:"success"})}catch(i){Ce({open:!0,message:"Failed to delete property",severity:"error"})}finally{be({open:!1,property:null})}},[]),Ne=(0,r.useCallback)((e,t)=>{null===t||void 0===t||t.stopPropagation(),te("/properties/".concat(e.id))},[te]),He=(0,r.useCallback)((e,t)=>{null===t||void 0===t||t.stopPropagation(),te("/properties/".concat(e.id,"/edit"))},[te]),Ue=((0,r.useCallback)(async(e,t)=>{null===t||void 0===t||t.stopPropagation();try{const t="".concat(window.location.origin,"/properties/").concat(e.id);await navigator.clipboard.writeText(t),Ce({open:!0,message:"Property link copied to clipboard!",severity:"success"})}catch(i){Ce({open:!0,message:"Failed to copy link",severity:"error"})}},[]),(0,r.useCallback)(()=>{te("/properties/new")},[te])),Ve=(0,r.useCallback)(()=>{te("/properties/import")},[te]),Ye=(0,r.useCallback)(()=>{ue("")},[]),Je=(0,r.useCallback)(()=>{xe(""),Ae(""),ue(""),Oe({}),De("all")},[]),Ze=(0,r.useCallback)((e,t)=>{null===t||void 0===t||t.stopPropagation(),Re(t=>{const i=new Set(t);return i.has(e)?i.delete(e):i.add(e),i})},[]),Ge=(0,r.useCallback)(async e=>{const t=Array.from(Me);if(0!==t.length)try{ce(t=>t.map(t=>Me.has(t.id)?(0,a.A)((0,a.A)({},t),{},{propertyStatus:e}):t));const r=We().map(t=>Me.has(t.id)?(0,a.A)((0,a.A)({},t),{},{propertyStatus:e,updatedAt:(new Date).toISOString()}):t);_e(r);try{await Promise.all(t.map(t=>K.Up.updateProperty(t,{propertyStatus:e})))}catch(i){console.log("Bulk status update - API not available, using local update")}const s={active:"Active",under_loi:"Under LOI",off_market:"Off Market",sold_leased:"Sold / Leased"}[e]||e;Ce({open:!0,message:"Updated ".concat(t.length," ").concat(1===t.length?"property":"properties"," to ").concat(s),severity:"success"}),Re(new Set)}catch(r){Ce({open:!0,message:"Failed to update properties",severity:"error"})}},[Me]),Qe=(0,r.useCallback)(async e=>{const t=Array.from(Me);if(0!==t.length)try{ce(t=>t.map(t=>Me.has(t.id)?(0,a.A)((0,a.A)({},t),{},{listingAgent:e.name||e.email||(null===ie||void 0===ie?void 0:ie.email)||"",listingAgentId:e.id||(null===ie||void 0===ie?void 0:ie.id)||null,listingAgentEmail:e.email||(null===ie||void 0===ie?void 0:ie.email)||"",updatedAt:(new Date).toISOString()}):t));const r=We().map(t=>Me.has(t.id)?(0,a.A)((0,a.A)({},t),{},{listingAgent:e.name||e.email||(null===ie||void 0===ie?void 0:ie.email)||"",listingAgentId:e.id||(null===ie||void 0===ie?void 0:ie.id)||null,listingAgentEmail:e.email||(null===ie||void 0===ie?void 0:ie.email)||"",updatedAt:(new Date).toISOString()}):t);_e(r);try{await Promise.all(t.map(t=>K.Up.updateProperty(t,{listingAgent:e.name||e.email||(null===ie||void 0===ie?void 0:ie.email)||"",listingAgentId:e.id||(null===ie||void 0===ie?void 0:ie.id)||null})))}catch(i){console.log("Bulk broker assignment - API not available, using local update")}const s=e.name||e.email||(null===ie||void 0===ie?void 0:ie.email)||"you";Ce({open:!0,message:"Assigned ".concat(t.length," ").concat(1===t.length?"property":"properties"," to ").concat(s),severity:"success"}),Re(new Set)}catch(r){Ce({open:!0,message:"Failed to assign broker",severity:"error"})}},[Me,ie]),Ke=(0,r.useCallback)(async(e,t,i)=>{null===i||void 0===i||i.stopPropagation();try{ce(i=>i.map(i=>i.id===e?(0,a.A)((0,a.A)({},i),{},{propertyStatus:t,updatedAt:(new Date).toISOString()}):i));const i=We().map(i=>String(i.id)===String(e)?(0,a.A)((0,a.A)({},i),{},{propertyStatus:t,updatedAt:(new Date).toISOString()}):i);_e(i);try{await K.Up.updateProperty(e,{propertyStatus:t})}catch(r){console.log("Inline status update - API not available, using local update")}Ce({open:!0,message:"Property status updated to ".concat({active:"Active",under_loi:"Under LOI",off_market:"Off Market",sold_leased:"Sold / Leased"}[t]||t),severity:"success"})}catch(s){Ce({open:!0,message:"Failed to update property status",severity:"error"})}},[]),Xe=(0,r.useCallback)(e=>{De(e),Ie(1)},[]),$e=(0,r.useCallback)(e=>{Oe(e),void 0!==e.type&&xe(e.type||""),void 0!==e.propertyStatus?(Array.isArray(e.propertyStatus),Ae("")):void 0!==e.status?(Array.isArray(e.status),Ae("")):Ae(""),void 0!==e.search&&ue(e.search||"")},[]),et=(0,r.useCallback)((e,t)=>{Ie(t),window.scrollTo({top:0,behavior:"smooth"})},[]),tt=(0,r.useMemo)(()=>{let e=le.filter(e=>{var t,i,a;const r=!he||(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(he.toLowerCase()))||(null===(i=e.address)||void 0===i?void 0:i.toLowerCase().includes(he.toLowerCase()))||(null===(a=e.city)||void 0===a?void 0:a.toLowerCase().includes(he.toLowerCase())),s=!ye||e.propertyType===ye;let n=!0;n=!Fe.propertyStatus||(Array.isArray(Fe.propertyStatus)?Fe.propertyStatus.includes(e.propertyStatus):e.propertyStatus===Fe.propertyStatus);let o=!0;if(Fe.listingAgentId||Fe.listingAgentEmail||Fe.listingAgentName){const t=Fe.listingAgentId||(null===ie||void 0===ie?void 0:ie.id),i=Fe.listingAgentEmail||(null===ie||void 0===ie?void 0:ie.email);let a=!1;if(!!(e.listingAgentId||e.listingAgentEmail||e.listingAgent)){if(t&&e.listingAgentId&&(a=String(e.listingAgentId)===String(t)),!a&&i&&e.listingAgentEmail&&(a=e.listingAgentEmail.toLowerCase()===i.toLowerCase()),!a&&e.listingAgent)if("object"===typeof e.listingAgent){if(t&&e.listingAgent.id&&(a=String(e.listingAgent.id)===String(t)),!a&&i&&e.listingAgent.email&&(a=e.listingAgent.email.toLowerCase()===i.toLowerCase()),!a&&Fe.listingAgentName){a="".concat(e.listingAgent.firstName||""," ").concat(e.listingAgent.lastName||"").trim().toLowerCase()===Fe.listingAgentName.toLowerCase()}}else"string"===typeof e.listingAgent&&(i&&(a=e.listingAgent.toLowerCase().includes(i.toLowerCase())),!a&&Fe.listingAgentName&&(a=e.listingAgent.toLowerCase().includes(Fe.listingAgentName.toLowerCase())));o=a}else o=!(!t||!e.createdBy)&&String(e.createdBy)===String(t)}let l=!0;Fe.marketingStatus&&(l=e.marketingStatus===Fe.marketingStatus);let c=!0;return Fe.transactionStatus&&(c=e.transactionStatus===Fe.transactionStatus),r&&s&&n&&o&&l&&c});const[t,i]=Se.split("-");return e.sort((e,a)=>{var r,s;let n,o;switch(t){case"price":n=e.listPrice||e.leaseRate||0,o=a.listPrice||a.leaseRate||0;break;case"size":n=e.totalSquareFootage||0,o=a.totalSquareFootage||0;break;case"date":n=e.daysOnMarket||0,o=a.daysOnMarket||0;break;case"status":n=e.propertyStatus||"",o=a.propertyStatus||"";break;default:n=(null===(r=e.name)||void 0===r?void 0:r.toLowerCase())||"",o=(null===(s=a.name)||void 0===s?void 0:s.toLowerCase())||""}return"asc"===i?n>o?1:-1:n<o?1:-1}),e},[le,he,ye,fe,Se,Fe,ie]),it=(0,r.useMemo)(()=>{const e=(ke-1)*Te,t=e+Te;return tt.slice(e,t)},[tt,ke,Te]),at=(0,r.useCallback)(()=>{Me.size===it.length?Re(new Set):Re(new Set(it.map(e=>e.id)))},[it,Me.size]),rt=Math.ceil(tt.length/Te),st=0===tt.length?0:(ke-1)*Te+1,nt=Math.min(ke*Te,tt.length),ot=[ye].filter(Boolean).length;(0,r.useEffect)(()=>{ke>rt&&rt>0&&Ie(1)},[ke,rt]);const lt=e=>({office:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",retail:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",industrial:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"}[e]||t.palette.gradient.primary);return de?(0,re.jsxs)(n.A,{maxWidth:"xl",sx:{py:t.spacing(2)},children:[(0,re.jsxs)(o.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,re.jsx)(l.A,{variant:"text",width:200,height:40}),(0,re.jsx)(l.A,{variant:"rectangular",width:300,height:36})]}),(0,re.jsx)(c.A,{sx:{p:2,mb:2},children:(0,re.jsx)(l.A,{variant:"rectangular",height:48})}),"grid"===Pe?(0,re.jsx)($.Qv,{count:12}):(0,re.jsx)($.x_,{rows:12})]}):(0,re.jsxs)(n.A,{maxWidth:"xl",sx:{py:t.spacing(3)},children:[(0,re.jsxs)(o.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:t.spacing(3),animation:"fadeInScale 0.5s ease-out"},children:[(0,re.jsxs)(o.A,{children:[(0,re.jsx)(d.A,{variant:"h5",sx:{fontWeight:700,mb:t.spacing(.5)},children:"Properties"}),(0,re.jsx)(d.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:tt.length>0?"Showing ".concat(st,"-").concat(nt," of ").concat(tt.length," ").concat(1===tt.length?"property":"properties"):"No properties found"})]}),(0,re.jsxs)(o.A,{sx:{display:"flex",gap:t.spacing(.75),alignItems:"center"},children:[(0,re.jsxs)(o.A,{sx:{display:"flex",gap:.5,mr:1},children:[(0,re.jsx)(p.A,{title:"Grid View",children:(0,re.jsx)(g.A,{size:"small",onClick:()=>Le("grid"),sx:{bgcolor:"grid"===Pe?"primary.main":"transparent",color:"grid"===Pe?"white":"text.secondary","&:hover":{bgcolor:"grid"===Pe?"primary.dark":"action.hover"}},children:(0,re.jsx)(T.A,{})})}),(0,re.jsx)(p.A,{title:"List View",children:(0,re.jsx)(g.A,{size:"small",onClick:()=>Le("list"),sx:{bgcolor:"list"===Pe?"primary.main":"transparent",color:"list"===Pe?"white":"text.secondary","&:hover":{bgcolor:"list"===Pe?"primary.dark":"action.hover"}},children:(0,re.jsx)(E.A,{})})})]}),(0,re.jsx)(u.A,{size:"small",variant:"outlined",startIcon:(0,re.jsx)(W.A,{}),onClick:async()=>{pe(!0);try{const e=await K.Up.getProperties({page:1,limit:100}),t=Be(e.properties||[]);ce(t),Ce({open:!0,message:"Properties updated successfully",severity:"success"})}catch(e){console.error("Failed to refresh properties:",e),ce([]),Ce({open:!0,message:"Failed to refresh properties. Please try again.",severity:"error"})}finally{pe(!1)}},disabled:de,sx:{borderRadius:3,transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:t.shadows[15]},"&:active":{transform:"scale(0.95)"},"& .MuiButton-startIcon":{transition:"transform 0.3s ease"},"&:hover .MuiButton-startIcon":{transform:"rotate(180deg)"}},children:"Refresh"}),(0,re.jsx)(u.A,{size:"small",variant:"outlined",startIcon:(0,re.jsx)(_.A,{}),onClick:Ve,sx:{borderRadius:3,transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:t.shadows[15]},"&:active":{transform:"scale(0.95)"}},children:"Import"}),(0,re.jsx)(u.A,{size:"small",variant:"contained",startIcon:(0,re.jsx)(B.A,{}),onClick:Ue,sx:{borderRadius:3,transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:t.shadows[15]},"&:active":{transform:"scale(0.95)"}},children:"Add Property"})]})]}),(0,re.jsx)(oe,{selectedViewId:ze,onViewChange:Xe,filters:Fe,onFiltersChange:$e,properties:le,variant:"tabs"}),Me.size>0&&(0,re.jsx)(c.A,{elevation:4,sx:{position:"sticky",top:0,zIndex:10,mb:2,py:1.5,px:2,borderRadius:2,background:t.palette.gradient.primary,color:"white"},children:(0,re.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:2},children:[(0,re.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,re.jsxs)(d.A,{variant:"body1",sx:{fontWeight:600},children:[Me.size," ",1===Me.size?"property":"properties"," selected"]}),(0,re.jsx)(g.A,{size:"small",onClick:()=>Re(new Set),sx:{color:"white","&:hover":{bgcolor:"rgba(255,255,255,0.2)"}},children:(0,re.jsx)(q.A,{})})]}),(0,re.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[(0,re.jsxs)(h.A,{size:"small",sx:{minWidth:160,bgcolor:"rgba(255,255,255,0.15)",borderRadius:1},children:[(0,re.jsx)(m.A,{sx:{color:"rgba(255,255,255,0.9) !important","&.Mui-focused":{color:"white !important"}},children:"Change Status"}),(0,re.jsxs)(y.A,{value:"",onChange:e=>{e.target.value&&Ge(e.target.value)},label:"Change Status",sx:{color:"white","& .MuiSelect-select":{color:"white"},"& .MuiSelect-icon":{color:"white"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.3)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.5)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"& .MuiInputLabel-root":{color:"rgba(255,255,255,0.9)"},"& .MuiInputLabel-root.Mui-focused":{color:"white"}},children:[(0,re.jsx)(x.A,{value:"active",children:"Active"}),(0,re.jsx)(x.A,{value:"under_loi",children:"Under LOI"}),(0,re.jsx)(x.A,{value:"off_market",children:"Off Market"}),(0,re.jsx)(x.A,{value:"sold_leased",children:"Sold / Leased"})]})]}),(0,re.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,re.jsx)(N.A,{sx:{color:"white",fontSize:20}}),(0,re.jsxs)(h.A,{size:"small",sx:{minWidth:180,bgcolor:"rgba(255,255,255,0.15)",borderRadius:1},children:[(0,re.jsx)(m.A,{sx:{color:"rgba(255,255,255,0.9) !important","&.Mui-focused":{color:"white !important"}},children:"Assign Broker"}),(0,re.jsxs)(y.A,{value:"",onChange:e=>{if(e.target.value){const t="current_user"===e.target.value?{id:null===ie||void 0===ie?void 0:ie.id,email:null===ie||void 0===ie?void 0:ie.email,name:ie?"".concat(ie.firstName||""," ").concat(ie.lastName||"").trim():"You"}:{name:e.target.value};Qe(t)}},label:"Assign Broker",sx:{color:"white","& .MuiSelect-select":{color:"white"},"& .MuiSelect-icon":{color:"white"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.3)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.5)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"& .MuiInputLabel-root":{color:"rgba(255,255,255,0.9)"},"& .MuiInputLabel-root.Mui-focused":{color:"white"}},children:[(0,re.jsx)(x.A,{value:"current_user",children:"Assign to Me"}),(null===ie||void 0===ie?void 0:ie.email)&&"admin@demo.com"!==ie.email&&(0,re.jsx)(x.A,{value:ie.email,children:ie.firstName||ie.email})]})]})]})]})]})}),(0,re.jsx)(c.A,{elevation:2,sx:{py:2,px:2.5,mb:t.spacing(3),borderRadius:3,animation:"fadeInUp 0.6s ease-out",animationDelay:"0.1s",animationFillMode:"both"},children:(0,re.jsxs)(f.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,re.jsx)(f.Ay,{item:!0,xs:12,md:5,children:(0,re.jsx)(A.A,{fullWidth:!0,size:"small",placeholder:"Search properties...",value:ge,onChange:e=>ue(e.target.value),InputProps:{startAdornment:(0,re.jsx)(S.A,{position:"start",children:(0,re.jsx)(H.A,{color:"action"})}),endAdornment:ge&&(0,re.jsx)(S.A,{position:"end",children:(0,re.jsx)(g.A,{size:"small",onClick:Ye,children:(0,re.jsx)(U.A,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:3,"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderWidth:"2px",borderImage:"".concat(t.palette.gradient.primary," 1")}}}})}),(0,re.jsx)(f.Ay,{item:!0,xs:12,md:4,children:(0,re.jsxs)(o.A,{sx:{display:"flex",gap:t.spacing(1),flexWrap:"wrap",alignItems:"center"},children:[(0,re.jsx)(w.A,{icon:(0,re.jsx)(V.A,{}),label:"All Types",onClick:()=>xe(""),color:ye?"default":"primary",sx:{height:28,fontSize:"0.8125rem"}}),(0,re.jsx)(w.A,{label:"Office",onClick:()=>xe("office"===ye?"":"office"),color:"office"===ye?"primary":"default",sx:{height:28,fontSize:"0.8125rem"}}),(0,re.jsx)(w.A,{label:"Retail",onClick:()=>xe("retail"===ye?"":"retail"),color:"retail"===ye?"primary":"default",sx:{height:28,fontSize:"0.8125rem"}}),(0,re.jsx)(w.A,{label:"Industrial",onClick:()=>xe("industrial"===ye?"":"industrial"),color:"industrial"===ye?"primary":"default",sx:{height:28,fontSize:"0.8125rem"}}),ot>0&&(0,re.jsxs)(u.A,{size:"small",onClick:Je,startIcon:(0,re.jsx)(U.A,{}),sx:{ml:1},children:["Clear (",ot,")"]})]})}),(0,re.jsx)(f.Ay,{item:!0,xs:12,md:3,children:(0,re.jsxs)(h.A,{fullWidth:!0,size:"small",children:[(0,re.jsx)(m.A,{children:"Sort By"}),(0,re.jsxs)(y.A,{value:Se,onChange:e=>we(e.target.value),label:"Sort By",startAdornment:(0,re.jsx)(S.A,{position:"start",children:(0,re.jsx)(Y.A,{})}),sx:{borderRadius:3},children:[(0,re.jsx)(x.A,{value:"name-asc",children:"Name (A-Z)"}),(0,re.jsx)(x.A,{value:"name-desc",children:"Name (Z-A)"}),(0,re.jsx)(x.A,{value:"price-asc",children:"Price (Low to High)"}),(0,re.jsx)(x.A,{value:"price-desc",children:"Price (High to Low)"}),(0,re.jsx)(x.A,{value:"size-asc",children:"Size (Small to Large)"}),(0,re.jsx)(x.A,{value:"size-desc",children:"Size (Large to Small)"}),(0,re.jsx)(x.A,{value:"status-asc",children:"Status (A-Z)"}),(0,re.jsx)(x.A,{value:"status-desc",children:"Status (Z-A)"}),(0,re.jsx)(x.A,{value:"date-asc",children:"Oldest First"}),(0,re.jsx)(x.A,{value:"date-desc",children:"Newest First"})]})]})})]})}),0===tt.length?(0,re.jsx)(ee.A,{icon:J.A,title:0===le.length?"No properties yet":"No matching properties",message:0===le.length?"Add your first property to get started.":"No properties match your current filters. Try adjusting your search or filters.",actionLabel:0===le.length?"Add Property":"Clear Filters",onAction:0===le.length?Ue:Je}):(0,re.jsxs)(re.Fragment,{children:[it.length>0&&(0,re.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,re.jsx)(v.A,{checked:Me.size>0&&Me.size===it.length,indeterminate:Me.size>0&&Me.size<it.length,onChange:at,size:"small",sx:{p:.5}}),(0,re.jsx)(d.A,{variant:"body2",color:"text.secondary",children:Me.size>0?"".concat(Me.size," of ").concat(it.length," selected"):"Select all"})]}),(0,re.jsx)(b.A,{component:c.A,elevation:2,sx:{borderRadius:2},children:(0,re.jsxs)(j.A,{sx:{minWidth:650},children:[(0,re.jsx)(C.A,{children:(0,re.jsxs)(k.A,{sx:{bgcolor:"grey.50"},children:[(0,re.jsx)(I.A,{padding:"checkbox",sx:{width:48}}),(0,re.jsx)(I.A,{sx:{fontWeight:600},children:"Property Name"}),(0,re.jsx)(I.A,{sx:{fontWeight:600},children:"City / State"}),(0,re.jsx)(I.A,{sx:{fontWeight:600},children:"Property Type"}),(0,re.jsx)(I.A,{sx:{fontWeight:600},children:"Listing Type"}),(0,re.jsx)(I.A,{sx:{fontWeight:600},children:"Marketing Status"}),(0,re.jsx)(I.A,{align:"right",sx:{fontWeight:600},children:"Actions"})]})}),(0,re.jsx)(P.A,{children:it.map((e,i)=>{const a=Me.has(e.id);return(0,re.jsxs)(k.A,{hover:!0,selected:a,onClick:t=>{t.target.closest(".property-checkbox")||t.target.closest("button")||t.target.closest(".MuiSelect-root")||Ne(e,t)},sx:{cursor:"pointer","&:hover":{bgcolor:"action.hover"},"&.Mui-selected":{bgcolor:"primary.light","&:hover":{bgcolor:"primary.light"}}},children:[(0,re.jsx)(I.A,{padding:"checkbox",sx:{py:1.5},children:(0,re.jsx)(v.A,{checked:a,onChange:t=>Ze(e.id,t),onClick:e=>e.stopPropagation(),className:"property-checkbox"})}),(0,re.jsx)(I.A,{sx:{py:1.5},children:(0,re.jsx)(d.A,{variant:"body2",sx:{fontWeight:500},children:e.name||"Unnamed Property"})}),(0,re.jsx)(I.A,{sx:{py:1.5},children:(0,re.jsx)(d.A,{variant:"body2",color:"text.secondary",children:e.city&&e.state?"".concat(e.city,", ").concat(e.state):e.city||e.state||"\u2014"})}),(0,re.jsx)(I.A,{sx:{py:1.5},children:e.propertyType?(0,re.jsx)(w.A,{label:(r=e.propertyType,{office:"Office",retail:"Retail",industrial:"Industrial"}[r]||r),size:"small",sx:{fontWeight:600,fontSize:"0.75rem",height:22,background:lt(e.propertyType),color:"white"}}):(0,re.jsx)(d.A,{variant:"body2",color:"text.secondary",children:"\u2014"})}),(0,re.jsx)(I.A,{sx:{py:1.5},children:e.listingType?(0,re.jsx)(w.A,{label:"sale"===e.listingType?"For Sale":"For Lease",size:"small",variant:"outlined",sx:{fontSize:"0.75rem",height:22}}):(0,re.jsx)(d.A,{variant:"body2",color:"text.secondary",children:"\u2014"})}),(0,re.jsx)(I.A,{sx:{py:1.5},children:e.marketingStatus?(0,re.jsx)(w.A,{label:e.marketingStatus.charAt(0).toUpperCase()+e.marketingStatus.slice(1).replace(/_/g," "),size:"small",color:"active"===e.marketingStatus?"success":"pending"===e.marketingStatus?"warning":"inactive"===e.marketingStatus?"default":"info",sx:{fontSize:"0.75rem",height:22}}):(0,re.jsx)(d.A,{variant:"body2",color:"text.secondary",children:"\u2014"})}),(0,re.jsx)(I.A,{align:"right",sx:{py:1.5},children:(0,re.jsxs)(o.A,{sx:{display:"flex",gap:.5,justifyContent:"flex-end"},children:[(0,re.jsx)(h.A,{size:"small",sx:{minWidth:130,"& .MuiOutlinedInput-root":{height:28,fontSize:"0.75rem"}},onClick:e=>e.stopPropagation(),children:(0,re.jsxs)(y.A,{value:e.propertyStatus||"active",onChange:t=>Ke(e.id,t.target.value,t),onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),sx:{height:28},MenuProps:{PaperProps:{sx:{mt:.5,minWidth:140,boxShadow:"0 8px 24px rgba(0,0,0,0.15)"}}},children:[(0,re.jsx)(x.A,{value:"active",children:(0,re.jsx)(w.A,{label:"Active",size:"small",sx:{height:18,fontSize:"0.7rem",background:t.palette.gradient.success,color:"white",fontWeight:600}})}),(0,re.jsx)(x.A,{value:"under_loi",children:(0,re.jsx)(w.A,{label:"Under LOI",size:"small",sx:{height:18,fontSize:"0.7rem",background:t.palette.gradient.warning,color:"white",fontWeight:600}})}),(0,re.jsx)(x.A,{value:"off_market",children:(0,re.jsx)(w.A,{label:"Off Market",size:"small",sx:{height:18,fontSize:"0.7rem",background:t.palette.gradient.secondary,color:"white",fontWeight:600}})}),(0,re.jsx)(x.A,{value:"sold_leased",children:(0,re.jsx)(w.A,{label:"Sold / Leased",size:"small",sx:{height:18,fontSize:"0.7rem",background:t.palette.gradient.info,color:"white",fontWeight:600}})})]})}),(0,re.jsx)(p.A,{title:"View Details",children:(0,re.jsx)(g.A,{size:"small",onClick:t=>Ne(e,t),sx:{height:28,width:28},children:(0,re.jsx)(Z.A,{fontSize:"small"})})}),(0,re.jsx)(p.A,{title:"Edit",children:(0,re.jsx)(g.A,{size:"small",onClick:t=>He(e,t),sx:{height:28,width:28},children:(0,re.jsx)(G.A,{fontSize:"small"})})})]})})]},e.id);var r})})]})})]}),tt.length>0&&rt>1&&(0,re.jsx)(o.A,{sx:{display:"flex",justifyContent:"center",mt:3},children:(0,re.jsx)(L.A,{count:rt,page:ke,onChange:et,color:"primary",size:"medium",showFirstButton:!0,showLastButton:!0})}),(0,re.jsxs)(z.A,{open:ve.open,onClose:()=>be({open:!1,property:null}),children:[(0,re.jsx)(D.A,{children:"Delete Property"}),(0,re.jsx)(F.A,{children:(0,re.jsxs)(d.A,{children:["Are you sure you want to delete ",null===(e=ve.property)||void 0===e?void 0:e.name,"? This action cannot be undone."]})}),(0,re.jsxs)(O.A,{children:[(0,re.jsx)(u.A,{onClick:()=>be({open:!1,property:null}),children:"Cancel"}),(0,re.jsx)(u.A,{onClick:()=>qe(ve.property),color:"error",variant:"contained",children:"Delete"})]})]}),(0,re.jsx)(M.A,{open:je.open,autoHideDuration:6e3,onClose:()=>Ce((0,a.A)((0,a.A)({},je),{},{open:!1})),children:(0,re.jsx)(R.A,{onClose:()=>Ce((0,a.A)((0,a.A)({},je),{},{open:!1})),severity:je.severity,sx:{width:"100%"},children:je.message})})]})}},16597:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(65043);const r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{threshold:t=.1,rootMargin:i="0px",triggerOnce:r=!0,initialVisible:s=!1}=e,n=(0,a.useRef)(null),[o,l]=(0,a.useState)(s);return(0,a.useEffect)(()=>{const e=new IntersectionObserver(t=>{let[i]=t;i.isIntersecting?(l(!0),r&&n.current&&e.unobserve(n.current)):r||l(!1)},{threshold:t,rootMargin:i}),a=n.current;return a&&e.observe(a),()=>{a&&e.unobserve(a)}},[t,i,r]),[n,o]}},48309:(e,t,i)=>{i.d(t,{A:()=>l});i(65043);var a=i(96446),r=i(85865),s=i(11906),n=i(26240),o=i(70579);const l=e=>{let{icon:t,title:i,message:l,actionLabel:c,onAction:d}=e;const p=(0,n.A)();return(0,o.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:{xs:"300px",sm:"400px",md:"500px"},padding:p.spacing(4),textAlign:"center",animation:"fadeIn 0.6s ease-out","@keyframes fadeIn":{from:{opacity:0,transform:"translateY(20px)"},to:{opacity:1,transform:"translateY(0)"}}},children:[(0,o.jsx)(a.A,{sx:{position:"relative",mb:p.spacing(4),animation:"scaleIn 0.5s ease-out",animationDelay:"0.2s",animationFillMode:"both","@keyframes scaleIn":{from:{transform:"scale(0.8)",opacity:0},to:{transform:"scale(1)",opacity:1}}},children:(0,o.jsx)(a.A,{sx:{width:{xs:80,sm:100,md:120},height:{xs:80,sm:100,md:120},borderRadius:"50%",background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative","&::before":{content:'""',position:"absolute",top:-2,left:-2,right:-2,bottom:-2,background:p.palette.gradient.primary,borderRadius:"50%",zIndex:-1,opacity:.2}},children:t&&(0,o.jsx)(a.A,{sx:{background:p.palette.gradient.primary,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,o.jsx)(t,{sx:{fontSize:{xs:40,sm:50,md:60},opacity:1,filter:"drop-shadow(0 2px 4px rgba(102, 126, 234, 0.2))"}})})})}),(0,o.jsxs)(a.A,{sx:{maxWidth:{xs:"100%",sm:500,md:600},mb:p.spacing(2),animation:"fadeInUp 0.6s ease-out",animationDelay:"0.3s",animationFillMode:"both","@keyframes fadeInUp":{from:{opacity:0,transform:"translateY(20px)"},to:{opacity:1,transform:"translateY(0)"}}},children:[(0,o.jsx)(r.A,{variant:"h4",sx:{fontWeight:700,mb:p.spacing(2),background:p.palette.gradient.primary,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",fontSize:{xs:"1.5rem",sm:"1.875rem",md:"2.125rem"},letterSpacing:"-0.01em"},children:i}),(0,o.jsx)(r.A,{variant:"body1",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"},lineHeight:1.6,px:{xs:2,sm:0}},children:l})]}),c&&d&&(0,o.jsx)(a.A,{sx:{animation:"fadeInUp 0.6s ease-out",animationDelay:"0.4s",animationFillMode:"both"},children:(0,o.jsx)(s.A,{variant:"contained",onClick:d,sx:{background:p.palette.gradient.primary,color:"white",padding:{xs:"10px 24px",sm:"12px 32px"},fontSize:{xs:"0.875rem",sm:"1rem"},fontWeight:600,borderRadius:3,textTransform:"none",boxShadow:"0 8px 24px rgba(102, 126, 234, 0.3)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{background:"linear-gradient(135deg, #5568d3 0%, #653a8b 100%)",boxShadow:"0 12px 32px rgba(102, 126, 234, 0.4)",transform:"translateY(-2px)"},"&:active":{transform:"translateY(0)",boxShadow:"0 6px 16px rgba(102, 126, 234, 0.3)"}},children:c})})]})}},53831:(e,t,i)=>{i.d(t,{Qv:()=>g,x_:()=>p});i(65043);var a=i(28076),r=i(10039),s=i(78185),n=i(96446),o=i(68903),l=i(12110),c=i(26494),d=i(70579);const p=e=>{let{rows:t=5}=e;return(0,d.jsx)(d.Fragment,{children:[...Array(t)].map((e,t)=>(0,d.jsxs)(a.A,{children:[(0,d.jsx)(r.A,{children:(0,d.jsx)(s.A,{variant:"text",width:"80%",height:24,animation:"wave"})}),(0,d.jsx)(r.A,{children:(0,d.jsx)(s.A,{variant:"text",width:"90%",height:24,animation:"wave"})}),(0,d.jsx)(r.A,{children:(0,d.jsx)(s.A,{variant:"text",width:"70%",height:24,animation:"wave"})}),(0,d.jsx)(r.A,{children:(0,d.jsx)(s.A,{variant:"text",width:"60%",height:24,animation:"wave"})}),(0,d.jsx)(r.A,{align:"right",children:(0,d.jsxs)(n.A,{sx:{display:"flex",gap:1,justifyContent:"flex-end"},children:[(0,d.jsx)(s.A,{variant:"circular",width:32,height:32,animation:"wave"}),(0,d.jsx)(s.A,{variant:"circular",width:32,height:32,animation:"wave"})]})})]},t))})},g=e=>{let{count:t=6}=e;return(0,d.jsx)(o.Ay,{container:!0,spacing:3,children:[...Array(t)].map((e,t)=>(0,d.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,d.jsx)(l.A,{sx:{height:"100%",borderRadius:3,boxShadow:"0 4px 6px rgba(0,0,0,0.07)"},children:(0,d.jsxs)(c.A,{sx:{p:3},children:[(0,d.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,d.jsx)(s.A,{variant:"circular",width:48,height:48,animation:"wave",sx:{mr:2}}),(0,d.jsxs)(n.A,{sx:{flex:1},children:[(0,d.jsx)(s.A,{variant:"text",width:"70%",height:28,animation:"wave",sx:{mb:.5}}),(0,d.jsx)(s.A,{variant:"text",width:"50%",height:20,animation:"wave"})]})]}),(0,d.jsxs)(n.A,{sx:{mb:2},children:[(0,d.jsx)(s.A,{variant:"text",width:"100%",height:20,animation:"wave",sx:{mb:1}}),(0,d.jsx)(s.A,{variant:"text",width:"90%",height:20,animation:"wave",sx:{mb:1}}),(0,d.jsx)(s.A,{variant:"text",width:"80%",height:20,animation:"wave"})]}),(0,d.jsxs)(n.A,{sx:{display:"flex",gap:1,mb:2},children:[(0,d.jsx)(s.A,{variant:"rounded",width:80,height:28,animation:"wave",sx:{borderRadius:2}}),(0,d.jsx)(s.A,{variant:"rounded",width:70,height:28,animation:"wave",sx:{borderRadius:2}})]}),(0,d.jsxs)(n.A,{sx:{display:"flex",gap:1.5,pt:2,mt:2,borderTop:1,borderColor:"divider"},children:[(0,d.jsx)(s.A,{variant:"rounded",width:"48%",height:40,animation:"wave",sx:{borderRadius:2.5}}),(0,d.jsx)(s.A,{variant:"rounded",width:"48%",height:40,animation:"wave",sx:{borderRadius:2.5}})]})]})})},t))})}},85006:(e,t,i)=>{i.d(t,{Up:()=>s});var a=i(89379),r=i(94505);const s={getProperties:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams(e).toString(),i="/properties".concat(t?"?".concat(t):"");return(await r.Ay.get(i)).data}catch(t){throw console.error("Error fetching properties:",t),t}},getProperty:async e=>{try{return(await r.Ay.get("/properties/".concat(e))).data}catch(t){throw console.error("Error fetching property:",t),t}},createProperty:async e=>{try{return(await r.Ay.post("/properties",e)).data}catch(t){throw console.error("Error creating property:",t),t}},updateProperty:async(e,t)=>{try{return(await r.Ay.put("/properties/".concat(e),t)).data}catch(i){throw console.error("Error updating property:",i),i}},deleteProperty:async e=>{try{return(await r.Ay.delete("/properties/".concat(e))).data}catch(t){throw console.error("Error deleting property:",t),t}},uploadImages:async(e,t)=>{try{const i=new FormData;t.forEach(e=>{i.append("images",e)});return(await r.Ay.post("/properties/".concat(e,"/images"),i,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(i){throw console.error("Error uploading images:",i),i}},uploadDocuments:async(e,t)=>{try{const i=new FormData;t.forEach(e=>{i.append("documents",e)});return(await r.Ay.post("/properties/".concat(e,"/documents"),i,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(i){throw console.error("Error uploading documents:",i),i}},removeImage:async(e,t)=>{try{return(await r.Ay.delete("/properties/".concat(e,"/images/").concat(t))).data}catch(i){throw console.error("Error removing image:",i),i}},removeDocument:async(e,t)=>{try{return(await r.Ay.delete("/properties/".concat(e,"/documents/").concat(t))).data}catch(i){throw console.error("Error removing document:",i),i}},importProperties:async e=>{try{const t=new FormData;t.append("file",e);return(await r.Ay.post("/properties/import",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("Error importing properties:",t),t}},exportProperties:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams(e).toString(),i="/properties/export".concat(t?"?".concat(t):"");return(await r.Ay.get(i,{responseType:"blob"})).data}catch(t){throw console.error("Error exporting properties:",t),t}},getTemplate:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"csv";try{return(await r.Ay.get("/properties/template?format=".concat(e),{responseType:"blob"})).data}catch(t){throw console.error("Error getting template:",t),t}},getMapProperties:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const i=(0,a.A)({bounds:e},t),s=new URLSearchParams(i).toString();return(await r.Ay.get("/properties/search/map?".concat(s))).data}catch(i){throw console.error("Error fetching map properties:",i),i}},logInquiry:async(e,t)=>{try{return(await r.Ay.post("/properties/".concat(e,"/inquire"),t)).data}catch(i){throw console.error("Error logging inquiry:",i),i}}}}}]);
//# sourceMappingURL=693.036cc303.chunk.js.map
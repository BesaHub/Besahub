{"version":3,"file":"static/js/693.036cc303.chunk.js","mappings":"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","sources":["components/Properties/SavedViews.js","pages/Properties/Properties.js","utils/useScrollReveal.js","components/Common/EmptyState.js","components/Common/LoadingSkeletons.js","services/propertyApi.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef, useMemo } from 'react';\nimport {\n  Box,\n  Select,\n  MenuItem,\n  FormControl,\n  InputLabel,\n  IconButton,\n  Tooltip,\n  Chip,\n  Tabs,\n  Tab\n} from '@mui/material';\nimport {\n  ViewList,\n  Tune\n} from '@mui/icons-material';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst VIEW_STORAGE_KEY = 'properties_saved_views';\n\n// Default views configuration\nconst getDefaultViews = (currentUser) => [\n  {\n    id: 'all',\n    name: 'All Properties',\n    filters: {\n      type: '',\n      propertyStatus: '',\n      search: ''\n    },\n    isDefault: true,\n    isSystem: true\n  },\n  {\n    id: 'my-properties',\n    name: 'My Properties',\n    filters: {\n      type: '',\n      propertyStatus: '',\n      search: '',\n      listingAgentId: currentUser?.id,\n      listingAgentEmail: currentUser?.email,\n      listingAgentName: currentUser ? `${currentUser.firstName || ''} ${currentUser.lastName || ''}`.trim() : ''\n    },\n    isDefault: false,\n    isSystem: true\n  },\n  {\n    id: 'active-listings',\n    name: 'Active Listings',\n    filters: {\n      type: '',\n      propertyStatus: 'active',\n      search: '',\n      marketingStatus: 'published'\n    },\n    isDefault: false,\n    isSystem: true\n  },\n  {\n    id: 'under-loi',\n    name: 'Under LOI',\n    filters: {\n      type: '',\n      propertyStatus: 'under_loi',\n      search: ''\n    },\n    isDefault: false,\n    isSystem: true\n  },\n  {\n    id: 'off-market',\n    name: 'Off Market',\n    filters: {\n      type: '',\n      propertyStatus: 'off_market',\n      search: ''\n    },\n    isDefault: false,\n    isSystem: true\n  },\n  {\n    id: 'sold-leased',\n    name: 'Sold / Leased',\n    filters: {\n      type: '',\n      propertyStatus: 'sold_leased',\n      search: ''\n    },\n    isDefault: false,\n    isSystem: true\n  }\n];\n\nconst SavedViews = ({ \n  selectedViewId, \n  onViewChange, \n  filters, \n  onFiltersChange,\n  properties = [], // Properties array for counting\n  variant = 'tabs' // 'tabs' or 'dropdown'\n}) => {\n  const { user } = useAuth();\n  const [views, setViews] = useState([]);\n  const [localSelectedViewId, setLocalSelectedViewId] = useState(selectedViewId || 'all');\n  const lastAppliedFiltersRef = useRef(null);\n\n  // Function to count properties matching a view's filters\n  const countMatchingProperties = useCallback((view, propertiesList, currentUser) => {\n    if (!propertiesList || propertiesList.length === 0) return 0;\n\n    return propertiesList.filter(property => {\n      // Apply type filter\n      if (view.filters.type && property.propertyType !== view.filters.type) {\n        return false;\n      }\n\n      // Apply propertyStatus filter\n      if (view.filters.propertyStatus) {\n        if (Array.isArray(view.filters.propertyStatus)) {\n          if (!view.filters.propertyStatus.includes(property.propertyStatus)) {\n            return false;\n          }\n        } else {\n          if (property.propertyStatus !== view.filters.propertyStatus) {\n            return false;\n          }\n        }\n      }\n\n      // Apply search filter\n      if (view.filters.search) {\n        const searchLower = view.filters.search.toLowerCase();\n        const matchesSearch = \n          property.name?.toLowerCase().includes(searchLower) ||\n          property.address?.toLowerCase().includes(searchLower) ||\n          property.city?.toLowerCase().includes(searchLower);\n        if (!matchesSearch) {\n          return false;\n        }\n      }\n\n      // Apply listing agent filter (for \"My Properties\" view)\n      // Priority: 1. Primary broker assignment (listingAgentId, listingAgentEmail, listingAgent)\n      //           2. If broker assignment is missing, default to creator (createdBy)\n      if (view.filters.listingAgentId || view.filters.listingAgentEmail || view.filters.listingAgentName) {\n        const currentUserId = view.filters.listingAgentId || currentUser?.id;\n        const currentUserEmail = view.filters.listingAgentEmail || currentUser?.email;\n        \n        // Check if property has any broker assignment\n        const hasBrokerAssignment = !!(\n          property.listingAgentId || \n          property.listingAgentEmail || \n          property.listingAgent\n        );\n        \n        let matchesListingAgent = false;\n        let brokerMatches = false;\n        \n        if (hasBrokerAssignment) {\n          // Check primary broker assignment first\n          // 1. Check listingAgentId (primary broker ID)\n          if (currentUserId && property.listingAgentId) {\n            brokerMatches = String(property.listingAgentId) === String(currentUserId);\n          }\n          \n          // 2. Check listingAgentEmail (primary broker email)\n          if (!brokerMatches && currentUserEmail && property.listingAgentEmail) {\n            brokerMatches = property.listingAgentEmail.toLowerCase() === currentUserEmail.toLowerCase();\n          }\n          \n          // 3. Check listingAgent object or string\n          if (!brokerMatches && property.listingAgent) {\n            if (typeof property.listingAgent === 'object') {\n              // Match by ID in listingAgent object\n              if (currentUserId && property.listingAgent.id) {\n                brokerMatches = String(property.listingAgent.id) === String(currentUserId);\n              }\n              // Match by email in listingAgent object\n              if (!brokerMatches && currentUserEmail && property.listingAgent.email) {\n                brokerMatches = property.listingAgent.email.toLowerCase() === currentUserEmail.toLowerCase();\n              }\n              // Match by name in listingAgent object\n              if (!brokerMatches && view.filters.listingAgentName) {\n                const agentName = `${property.listingAgent.firstName || ''} ${property.listingAgent.lastName || ''}`.trim();\n                brokerMatches = agentName.toLowerCase() === view.filters.listingAgentName.toLowerCase();\n              }\n            } else if (typeof property.listingAgent === 'string') {\n              // String might contain email or name\n              if (currentUserEmail) {\n                brokerMatches = property.listingAgent.toLowerCase().includes(currentUserEmail.toLowerCase());\n              }\n              if (!brokerMatches && view.filters.listingAgentName) {\n                brokerMatches = property.listingAgent.toLowerCase().includes(view.filters.listingAgentName.toLowerCase());\n              }\n            }\n          }\n          \n          // If broker is assigned, use broker match result\n          matchesListingAgent = brokerMatches;\n        } else {\n          // No broker assignment - default to creator (createdBy)\n          if (currentUserId && property.createdBy) {\n            matchesListingAgent = String(property.createdBy) === String(currentUserId);\n          }\n        }\n        \n        if (!matchesListingAgent) {\n          return false;\n        }\n      }\n\n      // Apply marketing status filter\n      if (view.filters.marketingStatus && property.marketingStatus !== view.filters.marketingStatus) {\n        return false;\n      }\n\n      // Apply transaction status filter\n      if (view.filters.transactionStatus && property.transactionStatus !== view.filters.transactionStatus) {\n        return false;\n      }\n\n      return true;\n    }).length;\n  }, []);\n\n  // Calculate counts for each view\n  const viewCounts = useMemo(() => {\n    const counts = {};\n    views.forEach(view => {\n      counts[view.id] = countMatchingProperties(view, properties, user);\n    });\n    return counts;\n  }, [views, properties, user, countMatchingProperties]);\n\n  // Load views from localStorage or create defaults\n  useEffect(() => {\n    const loadViews = () => {\n      try {\n        const savedViewsStr = localStorage.getItem(VIEW_STORAGE_KEY);\n        let savedViews = [];\n        \n        if (savedViewsStr) {\n          savedViews = JSON.parse(savedViewsStr);\n        }\n\n        const defaultViews = getDefaultViews(user);\n        \n        // Merge saved views with defaults, keeping defaults and adding custom views\n        const systemViewIds = new Set(defaultViews.map(v => v.id));\n        const customViews = savedViews.filter(v => !systemViewIds.has(v.id));\n        \n        setViews([...defaultViews, ...customViews]);\n      } catch (error) {\n        console.error('Error loading saved views:', error);\n        setViews(getDefaultViews(user));\n      }\n    };\n\n    if (user !== undefined) {\n      loadViews();\n    }\n  }, [user]);\n\n  // Save views to localStorage whenever they change\n  useEffect(() => {\n    if (views.length > 0) {\n      try {\n        localStorage.setItem(VIEW_STORAGE_KEY, JSON.stringify(views));\n      } catch (error) {\n        console.error('Error saving views:', error);\n      }\n    }\n  }, [views]);\n\n  // Apply view filters when view changes\n  useEffect(() => {\n    if (selectedViewId !== localSelectedViewId) {\n      setLocalSelectedViewId(selectedViewId);\n    }\n  }, [selectedViewId]);\n\n  useEffect(() => {\n    if (localSelectedViewId && views.length > 0 && onFiltersChange) {\n      const selectedView = views.find(v => v.id === localSelectedViewId);\n      if (selectedView) {\n        // Apply the view's filters\n        const filtersToApply = { ...selectedView.filters };\n        const filtersKey = JSON.stringify(filtersToApply);\n        // Only apply if filters have changed to avoid infinite loops\n        if (lastAppliedFiltersRef.current !== filtersKey) {\n          lastAppliedFiltersRef.current = filtersKey;\n          onFiltersChange(filtersToApply);\n        }\n      }\n    }\n  }, [localSelectedViewId, views, onFiltersChange]);\n\n  const handleViewChange = useCallback((event, newValue) => {\n    const viewId = variant === 'tabs' ? newValue : event.target.value;\n    setLocalSelectedViewId(viewId);\n    if (onViewChange) {\n      onViewChange(viewId);\n    }\n  }, [variant, onViewChange]);\n\n  const selectedView = views.find(v => v.id === localSelectedViewId);\n\n  if (variant === 'dropdown') {\n    return (\n      <FormControl size=\"small\" sx={{ minWidth: 200 }}>\n        <InputLabel>View</InputLabel>\n        <Select\n          value={localSelectedViewId}\n          onChange={handleViewChange}\n          label=\"View\"\n          startAdornment={\n            <ViewList sx={{ mr: 1, color: 'text.secondary' }} />\n          }\n        >\n          {views.map((view) => {\n            const count = viewCounts[view.id] || 0;\n            return (\n              <MenuItem key={view.id} value={view.id}>\n                {view.name} ({count})\n                {view.isDefault && (\n                  <Chip \n                    label=\"Default\" \n                    size=\"small\" \n                    sx={{ ml: 1, height: 18, fontSize: '0.65rem' }} \n                  />\n                )}\n              </MenuItem>\n            );\n          })}\n        </Select>\n      </FormControl>\n    );\n  }\n\n  // Tabs variant\n  return (\n    <Box sx={{ borderBottom: 1, borderColor: 'divider', mb: 2 }}>\n      <Tabs\n        value={localSelectedViewId || 'all'}\n        onChange={handleViewChange}\n        variant=\"scrollable\"\n        scrollButtons=\"auto\"\n        sx={{\n          '& .MuiTab-root': {\n            textTransform: 'none',\n            fontWeight: 500,\n            minHeight: 48,\n            '&.Mui-selected': {\n              fontWeight: 600\n            }\n          }\n        }}\n      >\n        {views.map((view) => {\n          const count = viewCounts[view.id] || 0;\n          return (\n            <Tab\n              key={view.id}\n              value={view.id}\n              label={\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 0.5 }}>\n                  <span>{view.name}</span>\n                  <Chip\n                    label={count}\n                    size=\"small\"\n                    sx={{\n                      height: 18,\n                      minWidth: 18,\n                      fontSize: '0.7rem',\n                      fontWeight: 600,\n                      '& .MuiChip-label': {\n                        px: 0.75,\n                        py: 0\n                      }\n                    }}\n                  />\n                </Box>\n              }\n            />\n          );\n        })}\n      </Tabs>\n    </Box>\n  );\n};\n\nexport default SavedViews;\n","import React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport {\n  Box,\n  Container,\n  Typography,\n  Card,\n  CardContent,\n  Grid,\n  Chip,\n  Button,\n  Paper,\n  TextField,\n  InputAdornment,\n  Alert,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Snackbar,\n  IconButton,\n  MenuItem,\n  Select,\n  FormControl,\n  InputLabel,\n  Skeleton,\n  Tooltip,\n  useTheme,\n  Pagination,\n  Checkbox,\n  AppBar,\n  Toolbar,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow\n} from '@mui/material';\nimport {\n  Search,\n  Add,\n  Upload,\n  LocationOn,\n  Edit,\n  Refresh,\n  SquareFoot,\n  Clear,\n  Sort,\n  FilterList,\n  Share,\n  Star,\n  TrendingUp,\n  AccessTime,\n  Visibility,\n  FavoriteBorder,\n  ViewModule,\n  ViewList,\n  HomeWork,\n  Business,\n  CheckBox,\n  CheckBoxOutlineBlank,\n  Person,\n  Close\n} from '@mui/icons-material';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { propertyApi } from '../../services/propertyApi';\nimport useScrollReveal from '../../utils/useScrollReveal';\nimport { CardSkeleton, TableSkeleton } from '../../components/Common/LoadingSkeletons';\nimport EmptyState from '../../components/Common/EmptyState';\nimport SavedViews from '../../components/Properties/SavedViews';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst Properties = () => {\n  const theme = useTheme();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [cardGridRef, cardGridVisible] = useScrollReveal({ threshold: 0.05, initialVisible: true });\n  const [properties, setProperties] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [debouncedSearch, setDebouncedSearch] = useState('');\n  const [selectedType, setSelectedType] = useState('');\n  const [selectedStatus, setSelectedStatus] = useState('');\n  const [sortBy, setSortBy] = useState('name-asc');\n  const [deleteDialog, setDeleteDialog] = useState({ open: false, property: null });\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'success' });\n  const [page, setPage] = useState(1);\n  const [viewMode, setViewMode] = useState('grid');\n  const [selectedViewId, setSelectedViewId] = useState('all');\n  const [viewFilters, setViewFilters] = useState({});\n  const [selectedProperties, setSelectedProperties] = useState(new Set());\n  const itemsPerPage = 12;\n\n  const LOCAL_KEY = 'dev_properties_cache';\n\n  // Clear cache in development mode to avoid conflicts with sample data\n  useEffect(() => {\n    if (process.env.NODE_ENV === 'development') {\n      localStorage.removeItem(LOCAL_KEY);\n    }\n  }, []);\n\n  const readLocalCache = () => {\n    try {\n      const raw = localStorage.getItem(LOCAL_KEY);\n      return raw ? JSON.parse(raw) : [];\n    } catch (_) {\n      return [];\n    }\n  };\n\n  const writeLocalCache = (list) => {\n    try {\n      localStorage.setItem(LOCAL_KEY, JSON.stringify(list));\n    } catch (_) {}\n  };\n\n  const mergeServerAndLocal = (serverList) => {\n    // In development mode, just use server data to avoid cache conflicts\n    if (process.env.NODE_ENV === 'development') {\n      return serverList;\n    }\n    \n    const localList = readLocalCache();\n    const byId = new Map(serverList.map(p => [String(p.id), p]));\n    for (const lp of localList) {\n      if (!byId.has(String(lp.id))) byId.set(String(lp.id), lp);\n    }\n    return Array.from(byId.values())\n      .sort((a, b) => (new Date(b.updatedAt || b.createdAt || 0)) - (new Date(a.updatedAt || a.createdAt || 0)));\n  };\n\n  useEffect(() => {\n    const fetchProperties = async () => {\n      try {\n        setLoading(true);\n        const response = await propertyApi.getProperties({\n          page: 1,\n          limit: 100\n        });\n        \n        const list = response?.properties || [];\n        let merged = mergeServerAndLocal(list);\n        \n        // ========================================\n        // TESTING ONLY: Hardcoded sample properties\n        // TODO: Remove this seed data before production\n        // ========================================\n        const sampleProperties = [\n          // 1. Fully complete office property - Active lease listing\n          {\n            id: 'sample-property-001',\n            name: 'Downtown Financial Plaza',\n            propertyType: 'office',\n            city: 'Los Angeles',\n            state: 'CA',\n            listingType: 'lease',\n            propertyStatus: 'active',\n            marketingStatus: 'actively_marketing',\n            address: '1200 Wilshire Boulevard',\n            zipCode: '90017',\n            county: 'Los Angeles',\n            totalSquareFootage: 45000,\n            availableSquareFootage: 12000,\n            buildingClass: 'A',\n            yearBuilt: 2018,\n            floors: 12,\n            parkingSpaces: 180,\n            parkingRatio: 4,\n            leaseRate: 42.50,\n            leaseRateUnit: 'per_sqft_annual',\n            description: 'Premium Class A office building in the heart of downtown LA. Modern amenities, stunning views, and excellent accessibility.',\n            highlights: 'Floor-to-ceiling windows, state-of-the-art HVAC, on-site parking garage, rooftop terrace',\n            amenities: ['Concierge', 'Fitness Center', 'Conference Rooms', 'Rooftop Deck', 'EV Charging'],\n            keyFeatures: ['LEED Certified', '24/7 Security', 'High-Speed Elevators', 'Fiber Internet Ready'],\n            images: [\n              'https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&auto=format&fit=crop&q=80',\n              'https://images.unsplash.com/photo-1497366754035-f200968a6e72?w=800&auto=format&fit=crop&q=80'\n            ],\n            documents: [\n              { name: 'Property Flyer.pdf', url: 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf', filename: 'Property Flyer.pdf' },\n              { name: 'Floor Plans.pdf', url: 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf', filename: 'Floor Plans.pdf' }\n            ],\n            keyHighlights: [],\n            createdAt: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date().toISOString()\n          },\n          // 2. Retail property - For sale, actively marketing\n          {\n            id: 'sample-property-002',\n            name: 'Coastal Shopping Center',\n            propertyType: 'retail',\n            city: 'San Diego',\n            state: 'CA',\n            listingType: 'sale',\n            propertyStatus: 'active',\n            marketingStatus: 'actively_marketing',\n            address: '2450 Pacific Coast Highway',\n            zipCode: '92101',\n            totalSquareFootage: 28000,\n            availableSquareFootage: 28000,\n            buildingClass: 'B',\n            yearBuilt: 2005,\n            parkingSpaces: 120,\n            listPrice: 8500000,\n            capRate: 0.065,\n            netOperatingIncome: 552500,\n            description: 'Prime retail center with excellent visibility and high foot traffic. Fully leased with strong tenant mix.',\n            amenities: ['Parking Lot', 'Loading Docks', 'Signage Rights'],\n            keyFeatures: ['High Traffic Location', 'Long-Term Tenants', 'Triple Net Lease'],\n            images: [\n              'https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800&auto=format&fit=crop&q=80'\n            ],\n            documents: [\n              { name: 'Offering Memorandum.pdf', url: 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf', filename: 'Offering Memorandum.pdf' }\n            ],\n            keyHighlights: [],\n            createdAt: new Date(Date.now() - 15 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date().toISOString()\n          },\n          // 3. Industrial warehouse - Under LOI\n          {\n            id: 'sample-property-003',\n            name: 'Riverside Distribution Center',\n            propertyType: 'industrial',\n            city: 'Riverside',\n            state: 'CA',\n            listingType: 'lease',\n            propertyStatus: 'under_loi',\n            marketingStatus: 'under_loi',\n            address: '1850 Industrial Way',\n            zipCode: '92507',\n            totalSquareFootage: 125000,\n            availableSquareFootage: 125000,\n            buildingClass: 'A',\n            yearBuilt: 2020,\n            ceilingHeight: 32,\n            clearHeight: 30,\n            loadingDocks: 12,\n            driveInDoors: 4,\n            parkingSpaces: 50,\n            leaseRate: 0.85,\n            leaseRateUnit: 'per_sqft_monthly',\n            description: 'State-of-the-art distribution facility with high ceilings, multiple loading docks, and excellent freeway access.',\n            highlights: 'Rail access available, ESFR sprinkler system, 50-foot truck courts',\n            amenities: ['Rail Access', 'ESFR Sprinklers', 'Office Space', 'Employee Parking'],\n            keyFeatures: ['Cross-Dock Configuration', 'High Clearance', 'Truck Courts'],\n            images: [\n              'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&auto=format&fit=crop&q=80'\n            ],\n            documents: [],\n            keyHighlights: [],\n            createdAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date().toISOString()\n          },\n          // 4. Office building - Draft status (minimal data)\n          {\n            id: 'sample-property-004',\n            name: 'Midtown Business Center',\n            propertyType: 'office',\n            city: 'San Francisco',\n            state: 'CA',\n            listingType: 'lease',\n            propertyStatus: 'active',\n            marketingStatus: 'draft',\n            address: '500 Market Street',\n            zipCode: '94102',\n            totalSquareFootage: 25000,\n            amenities: [],\n            keyFeatures: [],\n            keyHighlights: [],\n            createdAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date().toISOString()\n          },\n          // 5. Retail strip mall - Off market\n          {\n            id: 'sample-property-005',\n            name: 'Sunset Strip Plaza',\n            propertyType: 'retail',\n            city: 'Los Angeles',\n            state: 'CA',\n            listingType: 'lease',\n            propertyStatus: 'off_market',\n            marketingStatus: 'off_market',\n            address: '7800 Sunset Boulevard',\n            zipCode: '90046',\n            totalSquareFootage: 15000,\n            availableSquareFootage: 3500,\n            buildingClass: 'C',\n            yearBuilt: 1995,\n            parkingSpaces: 45,\n            leaseRate: 28.00,\n            leaseRateUnit: 'per_sqft_annual',\n            description: 'Well-located strip center with established tenants. One unit available for lease.',\n            amenities: [],\n            keyFeatures: [],\n            keyHighlights: [],\n            images: [\n              'https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800&auto=format&fit=crop&q=80'\n            ],\n            documents: [],\n            createdAt: new Date(Date.now() - 60 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString()\n          },\n          // 6. Industrial flex space - Sold/Leased\n          {\n            id: 'sample-property-006',\n            name: 'Commerce Industrial Park',\n            propertyType: 'industrial',\n            city: 'Commerce',\n            state: 'CA',\n            listingType: 'sale',\n            propertyStatus: 'sold_leased',\n            marketingStatus: 'closed',\n            transactionStatus: 'closed',\n            address: '5900 Eastern Avenue',\n            zipCode: '90040',\n            totalSquareFootage: 75000,\n            buildingClass: 'B',\n            yearBuilt: 2010,\n            ceilingHeight: 24,\n            loadingDocks: 6,\n            parkingSpaces: 30,\n            finalSalePrice: 11250000,\n            dateSoldLeased: new Date(Date.now() - 45 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\n            buyerTenantName: 'ABC Logistics Inc.',\n            description: 'Modern industrial facility sold to logistics company. Transaction closed successfully.',\n            amenities: [],\n            keyFeatures: [],\n            keyHighlights: [],\n            images: [\n              'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&auto=format&fit=crop&q=80'\n            ],\n            documents: [],\n            createdAt: new Date(Date.now() - 90 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date(Date.now() - 45 * 24 * 60 * 60 * 1000).toISOString()\n          },\n          // 7. Office building - Partial data\n          {\n            id: 'sample-property-007',\n            name: 'Tech Campus Building 3',\n            propertyType: 'office',\n            city: 'Palo Alto',\n            state: 'CA',\n            listingType: 'lease',\n            propertyStatus: 'active',\n            marketingStatus: 'actively_marketing',\n            address: '3200 Hillview Avenue',\n            zipCode: '94304',\n            totalSquareFootage: 85000,\n            availableSquareFootage: 20000,\n            buildingClass: 'A',\n            yearBuilt: 2015,\n            floors: 8,\n            parkingSpaces: 300,\n            leaseRate: 55.00,\n            leaseRateUnit: 'per_sqft_annual',\n            description: 'Premium tech campus building with modern amenities and flexible floor plans.',\n            amenities: ['Cafeteria', 'Gym', 'Bike Storage', 'Showers'],\n            keyFeatures: ['Tech-Ready', 'Fiber Internet', 'Conference Facilities'],\n            images: [\n              'https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&auto=format&fit=crop&q=80'\n            ],\n            documents: [\n              { name: 'Building Specifications.pdf', url: 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf', filename: 'Building Specifications.pdf' }\n            ],\n            keyHighlights: [],\n            createdAt: new Date(Date.now() - 20 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date().toISOString()\n          },\n          // 8. Retail property - Minimal data, draft\n          {\n            id: 'sample-property-008',\n            name: 'Corner Retail Space',\n            propertyType: 'retail',\n            city: 'Santa Monica',\n            state: 'CA',\n            listingType: 'lease',\n            propertyStatus: 'active',\n            marketingStatus: 'draft',\n            address: '1400 3rd Street Promenade',\n            zipCode: '90401',\n            totalSquareFootage: 2500,\n            amenities: [],\n            keyFeatures: [],\n            keyHighlights: [],\n            createdAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date().toISOString()\n          },\n          // 9. Industrial warehouse - Complete data, active\n          {\n            id: 'sample-property-009',\n            name: 'Long Beach Port Warehouse',\n            propertyType: 'industrial',\n            city: 'Long Beach',\n            state: 'CA',\n            listingType: 'lease',\n            propertyStatus: 'active',\n            marketingStatus: 'actively_marketing',\n            address: '2200 Pier A Avenue',\n            zipCode: '90802',\n            totalSquareFootage: 200000,\n            availableSquareFootage: 50000,\n            buildingClass: 'A',\n            yearBuilt: 2018,\n            ceilingHeight: 36,\n            clearHeight: 34,\n            loadingDocks: 20,\n            driveInDoors: 8,\n            parkingSpaces: 100,\n            leaseRate: 0.95,\n            leaseRateUnit: 'per_sqft_monthly',\n            description: 'Port-adjacent warehouse facility with direct access to shipping terminals. Ideal for import/export operations.',\n            highlights: 'Port access, container yard, customs bonded area available',\n            amenities: ['Port Access', 'Container Yard', 'Office Space', 'Security Fencing'],\n            keyFeatures: ['Port Proximity', 'High Clearance', 'Multiple Docks', 'Rail Access'],\n            images: [\n              'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&auto=format&fit=crop&q=80',\n              'https://images.unsplash.com/photo-1600298881974-6be191ceeda1?w=800&auto=format&fit=crop&q=80'\n            ],\n            documents: [\n              { name: 'Site Plan.pdf', url: 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf', filename: 'Site Plan.pdf' },\n              { name: 'Lease Terms.pdf', url: 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf', filename: 'Lease Terms.pdf' }\n            ],\n            keyHighlights: [],\n            createdAt: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date().toISOString()\n          },\n          // 10. Office building - Under LOI, partial data\n          {\n            id: 'sample-property-010',\n            name: 'Beverly Hills Executive Suites',\n            propertyType: 'office',\n            city: 'Beverly Hills',\n            state: 'CA',\n            listingType: 'sale',\n            propertyStatus: 'under_loi',\n            marketingStatus: 'under_loi',\n            address: '9500 Wilshire Boulevard',\n            zipCode: '90212',\n            totalSquareFootage: 18000,\n            buildingClass: 'A',\n            yearBuilt: 2012,\n            floors: 5,\n            listPrice: 12500000,\n            capRate: 0.055,\n            description: 'Luxury office building in prestigious Beverly Hills location. Currently under LOI.',\n            amenities: ['Valet Parking', 'Concierge', 'Private Elevators'],\n            keyFeatures: ['Prime Location', 'Luxury Finish', 'High-End Tenants'],\n            images: [\n              'https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&auto=format&fit=crop&q=80'\n            ],\n            documents: [\n              { name: 'LOI.pdf', url: 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf', filename: 'LOI.pdf' }\n            ],\n            keyHighlights: [],\n            createdAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date().toISOString()\n          }\n        ];\n        \n        // Add sample properties that don't already exist\n        const existingSampleIds = new Set(merged.map(p => String(p.id)));\n        const newSamples = sampleProperties.filter(sp => !existingSampleIds.has(String(sp.id)));\n        if (newSamples.length > 0) {\n          merged = [...newSamples, ...merged];\n          // Save sample properties to cache so they can be loaded in PropertyDetail and PropertyForm\n          writeLocalCache(merged);\n        }\n        \n        // If navigated from create/edit with a property, upsert it\n        const maybeNew = location.state?.newProperty;\n        if (maybeNew) {\n          const existingIdx = merged.findIndex(p => String(p.id) === String(maybeNew.id));\n          if (existingIdx >= 0) {\n            merged[existingIdx] = { ...merged[existingIdx], ...maybeNew };\n          } else {\n            merged = [maybeNew, ...merged];\n          }\n          writeLocalCache(merged);\n        }\n        setProperties(merged);\n      } catch (err) {\n        console.error('Failed to fetch properties:', err);\n        setProperties([]);\n        setSnackbar({\n          open: true,\n          message: 'Failed to load properties. Please try again.',\n          severity: 'error'\n        });\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProperties();\n  }, [location.state]);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedSearch(searchTerm);\n    }, 300);\n\n    return () => clearTimeout(timer);\n  }, [searchTerm]);\n\n  const refreshProperties = async () => {\n    setLoading(true);\n    try {\n      const response = await propertyApi.getProperties({\n        page: 1,\n        limit: 100\n      });\n      const merged = mergeServerAndLocal(response.properties || []);\n      setProperties(merged);\n      setSnackbar({\n        open: true,\n        message: 'Properties updated successfully',\n        severity: 'success'\n      });\n    } catch (err) {\n      console.error('Failed to refresh properties:', err);\n      setProperties([]);\n      setSnackbar({\n        open: true,\n        message: 'Failed to refresh properties. Please try again.',\n        severity: 'error'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteProperty = useCallback(async (property) => {\n    try {\n      try {\n        await propertyApi.deleteProperty(property.id);\n      } catch (apiError) {\n        // API delete failed, removing from local state\n      }\n      \n      setProperties(prev => prev.filter(p => p.id !== property.id));\n      // also remove from cache\n      writeLocalCache(readLocalCache().filter(p => String(p.id) !== String(property.id)));\n      setSnackbar({\n        open: true,\n        message: 'Property deleted successfully',\n        severity: 'success'\n      });\n    } catch (err) {\n      setSnackbar({\n        open: true,\n        message: 'Failed to delete property',\n        severity: 'error'\n      });\n    } finally {\n      setDeleteDialog({ open: false, property: null });\n    }\n  }, []);\n\n  const handleViewDetails = useCallback((property, event) => {\n    event?.stopPropagation();\n    navigate(`/properties/${property.id}`);\n  }, [navigate]);\n\n  const handleEditProperty = useCallback((property, event) => {\n    event?.stopPropagation();\n    navigate(`/properties/${property.id}/edit`);\n  }, [navigate]);\n\n  const handleShareProperty = useCallback(async (property, event) => {\n    event?.stopPropagation();\n    try {\n      const url = `${window.location.origin}/properties/${property.id}`;\n      await navigator.clipboard.writeText(url);\n      setSnackbar({\n        open: true,\n        message: 'Property link copied to clipboard!',\n        severity: 'success'\n      });\n    } catch (err) {\n      setSnackbar({\n        open: true,\n        message: 'Failed to copy link',\n        severity: 'error'\n      });\n    }\n  }, []);\n\n  const handleAddProperty = useCallback(() => {\n    navigate('/properties/new');\n  }, [navigate]);\n\n  const handleImportProperty = useCallback(() => {\n    navigate('/properties/import');\n  }, [navigate]);\n\n  const handleClearSearch = useCallback(() => {\n    setSearchTerm('');\n  }, []);\n\n  const handleClearFilters = useCallback(() => {\n    setSelectedType('');\n    setSelectedStatus('');\n    setSearchTerm('');\n    setViewFilters({});\n    setSelectedViewId('all');\n  }, []);\n\n  const handleSelectProperty = useCallback((propertyId, event) => {\n    event?.stopPropagation();\n    setSelectedProperties(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(propertyId)) {\n        newSet.delete(propertyId);\n      } else {\n        newSet.add(propertyId);\n      }\n      return newSet;\n    });\n  }, []);\n\n\n  const handleBulkStatusChange = useCallback(async (newStatus) => {\n    const propertyIds = Array.from(selectedProperties);\n    if (propertyIds.length === 0) return;\n\n    try {\n      // Update properties in state\n      setProperties(prev => prev.map(property => \n        selectedProperties.has(property.id)\n          ? { ...property, propertyStatus: newStatus }\n          : property\n      ));\n\n      // Update local cache\n      const cached = readLocalCache();\n      const updatedCache = cached.map(property =>\n        selectedProperties.has(property.id)\n          ? { ...property, propertyStatus: newStatus, updatedAt: new Date().toISOString() }\n          : property\n      );\n      writeLocalCache(updatedCache);\n\n      // Try to update via API (fail silently if API not available)\n      try {\n        await Promise.all(propertyIds.map(id => \n          propertyApi.updateProperty(id, { propertyStatus: newStatus })\n        ));\n      } catch (apiError) {\n        console.log('Bulk status update - API not available, using local update');\n      }\n\n      const statusLabels = {\n        active: 'Active',\n        under_loi: 'Under LOI',\n        off_market: 'Off Market',\n        sold_leased: 'Sold / Leased'\n      };\n      const statusLabel = statusLabels[newStatus] || newStatus;\n      setSnackbar({\n        open: true,\n        message: `Updated ${propertyIds.length} ${propertyIds.length === 1 ? 'property' : 'properties'} to ${statusLabel}`,\n        severity: 'success'\n      });\n\n      setSelectedProperties(new Set());\n    } catch (error) {\n      setSnackbar({\n        open: true,\n        message: 'Failed to update properties',\n        severity: 'error'\n      });\n    }\n  }, [selectedProperties]);\n\n  const handleBulkBrokerAssignment = useCallback(async (brokerInfo) => {\n    const propertyIds = Array.from(selectedProperties);\n    if (propertyIds.length === 0) return;\n\n    try {\n      // Update properties in state\n      setProperties(prev => prev.map(property => \n        selectedProperties.has(property.id)\n          ? { \n              ...property, \n              listingAgent: brokerInfo.name || brokerInfo.email || user?.email || '',\n              listingAgentId: brokerInfo.id || user?.id || null,\n              listingAgentEmail: brokerInfo.email || user?.email || '',\n              updatedAt: new Date().toISOString()\n            }\n          : property\n      ));\n\n      // Update local cache\n      const cached = readLocalCache();\n      const updatedCache = cached.map(property =>\n        selectedProperties.has(property.id)\n          ? { \n              ...property, \n              listingAgent: brokerInfo.name || brokerInfo.email || user?.email || '',\n              listingAgentId: brokerInfo.id || user?.id || null,\n              listingAgentEmail: brokerInfo.email || user?.email || '',\n              updatedAt: new Date().toISOString()\n            }\n          : property\n      );\n      writeLocalCache(updatedCache);\n\n      // Try to update via API (fail silently if API not available)\n      try {\n        await Promise.all(propertyIds.map(id => \n          propertyApi.updateProperty(id, { \n            listingAgent: brokerInfo.name || brokerInfo.email || user?.email || '',\n            listingAgentId: brokerInfo.id || user?.id || null\n          })\n        ));\n      } catch (apiError) {\n        console.log('Bulk broker assignment - API not available, using local update');\n      }\n\n      const brokerName = brokerInfo.name || brokerInfo.email || user?.email || 'you';\n      setSnackbar({\n        open: true,\n        message: `Assigned ${propertyIds.length} ${propertyIds.length === 1 ? 'property' : 'properties'} to ${brokerName}`,\n        severity: 'success'\n      });\n\n      setSelectedProperties(new Set());\n    } catch (error) {\n      setSnackbar({\n        open: true,\n        message: 'Failed to assign broker',\n        severity: 'error'\n      });\n    }\n  }, [selectedProperties, user]);\n\n  const handleInlineStatusChange = useCallback(async (propertyId, newStatus, event) => {\n    event?.stopPropagation();\n    \n    try {\n      // Update properties in state\n      setProperties(prev => prev.map(property => \n        property.id === propertyId\n          ? { ...property, propertyStatus: newStatus, updatedAt: new Date().toISOString() }\n          : property\n      ));\n\n      // Update local cache\n      const cached = readLocalCache();\n      const updatedCache = cached.map(property =>\n        String(property.id) === String(propertyId)\n          ? { ...property, propertyStatus: newStatus, updatedAt: new Date().toISOString() }\n          : property\n      );\n      writeLocalCache(updatedCache);\n\n      // Try to update via API (fail silently if API not available)\n      try {\n        await propertyApi.updateProperty(propertyId, { propertyStatus: newStatus });\n      } catch (apiError) {\n        console.log('Inline status update - API not available, using local update');\n      }\n\n      const statusLabels = {\n        active: 'Active',\n        under_loi: 'Under LOI',\n        off_market: 'Off Market',\n        sold_leased: 'Sold / Leased'\n      };\n      const statusLabel = statusLabels[newStatus] || newStatus;\n      setSnackbar({\n        open: true,\n        message: `Property status updated to ${statusLabel}`,\n        severity: 'success'\n      });\n    } catch (error) {\n      setSnackbar({\n        open: true,\n        message: 'Failed to update property status',\n        severity: 'error'\n      });\n    }\n  }, []);\n\n  const handleViewChange = useCallback((viewId) => {\n    setSelectedViewId(viewId);\n    setPage(1); // Reset to first page when changing views\n  }, []);\n\n  const handleFiltersChange = useCallback((filters) => {\n    setViewFilters(filters);\n    // Apply filters to state\n    if (filters.type !== undefined) {\n      setSelectedType(filters.type || '');\n    }\n    if (filters.propertyStatus !== undefined) {\n      // If propertyStatus is an array, don't set dropdown\n      if (Array.isArray(filters.propertyStatus)) {\n        setSelectedStatus(''); // Clear dropdown when multiple statuses\n      } else {\n        // Map propertyStatus values to legacy status for compatibility if needed\n        setSelectedStatus(''); // Clear selectedStatus since we're using propertyStatus now\n      }\n    } else if (filters.status !== undefined) {\n      // Legacy support for old status field\n      if (Array.isArray(filters.status)) {\n        setSelectedStatus('');\n      } else {\n        setSelectedStatus('');\n      }\n    } else {\n      setSelectedStatus(''); // Clear if no status filter\n    }\n    if (filters.search !== undefined) {\n      setSearchTerm(filters.search || '');\n    }\n  }, []);\n\n  const handlePageChange = useCallback((event, value) => {\n    setPage(value);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }, []);\n\n  const filteredAndSortedProperties = useMemo(() => {\n    let filtered = properties.filter(property => {\n      const matchesSearch = !debouncedSearch ||\n        property.name?.toLowerCase().includes(debouncedSearch.toLowerCase()) ||\n        property.address?.toLowerCase().includes(debouncedSearch.toLowerCase()) ||\n        property.city?.toLowerCase().includes(debouncedSearch.toLowerCase());\n\n      const matchesType = !selectedType || property.propertyType === selectedType;\n      \n      // Handle propertyStatus matching - can be string or array\n      let matchesPropertyStatus = true;\n      \n      // Check if a saved view has a propertyStatus filter\n      if (viewFilters.propertyStatus) {\n        if (Array.isArray(viewFilters.propertyStatus)) {\n          matchesPropertyStatus = viewFilters.propertyStatus.includes(property.propertyStatus);\n        } else {\n          matchesPropertyStatus = property.propertyStatus === viewFilters.propertyStatus;\n        }\n      } else {\n        // If no filter, show all (matchesPropertyStatus remains true)\n        matchesPropertyStatus = true;\n      }\n\n      // Filter by listing agent (for \"My Properties\" view)\n      // Priority: 1. Primary broker assignment (listingAgentId, listingAgentEmail, listingAgent)\n      //           2. If broker assignment is missing, default to creator (createdBy)\n      let matchesListingAgent = true;\n      if (viewFilters.listingAgentId || viewFilters.listingAgentEmail || viewFilters.listingAgentName) {\n        const currentUserId = viewFilters.listingAgentId || user?.id;\n        const currentUserEmail = viewFilters.listingAgentEmail || user?.email;\n        \n        // Check if property has any broker assignment\n        const hasBrokerAssignment = !!(\n          property.listingAgentId || \n          property.listingAgentEmail || \n          property.listingAgent\n        );\n        \n        let brokerMatches = false;\n        \n        if (hasBrokerAssignment) {\n          // Check primary broker assignment first\n          // 1. Check listingAgentId (primary broker ID)\n          if (currentUserId && property.listingAgentId) {\n            brokerMatches = String(property.listingAgentId) === String(currentUserId);\n          }\n          \n          // 2. Check listingAgentEmail (primary broker email)\n          if (!brokerMatches && currentUserEmail && property.listingAgentEmail) {\n            brokerMatches = property.listingAgentEmail.toLowerCase() === currentUserEmail.toLowerCase();\n          }\n          \n          // 3. Check listingAgent object or string\n          if (!brokerMatches && property.listingAgent) {\n            if (typeof property.listingAgent === 'object') {\n              // Match by ID in listingAgent object\n              if (currentUserId && property.listingAgent.id) {\n                brokerMatches = String(property.listingAgent.id) === String(currentUserId);\n              }\n              // Match by email in listingAgent object\n              if (!brokerMatches && currentUserEmail && property.listingAgent.email) {\n                brokerMatches = property.listingAgent.email.toLowerCase() === currentUserEmail.toLowerCase();\n              }\n              // Match by name in listingAgent object\n              if (!brokerMatches && viewFilters.listingAgentName) {\n                const agentName = `${property.listingAgent.firstName || ''} ${property.listingAgent.lastName || ''}`.trim();\n                brokerMatches = agentName.toLowerCase() === viewFilters.listingAgentName.toLowerCase();\n              }\n            } else if (typeof property.listingAgent === 'string') {\n              // String might contain email or name\n              if (currentUserEmail) {\n                brokerMatches = property.listingAgent.toLowerCase().includes(currentUserEmail.toLowerCase());\n              }\n              if (!brokerMatches && viewFilters.listingAgentName) {\n                brokerMatches = property.listingAgent.toLowerCase().includes(viewFilters.listingAgentName.toLowerCase());\n              }\n            }\n          }\n          \n          // If broker is assigned, use broker match result\n          matchesListingAgent = brokerMatches;\n        } else {\n          // No broker assignment - default to creator (createdBy)\n          if (currentUserId && property.createdBy) {\n            matchesListingAgent = String(property.createdBy) === String(currentUserId);\n          } else {\n            matchesListingAgent = false;\n          }\n        }\n      }\n\n      // Filter by marketing status (for \"Active Listings\" view)\n      let matchesMarketingStatus = true;\n      if (viewFilters.marketingStatus) {\n        matchesMarketingStatus = property.marketingStatus === viewFilters.marketingStatus;\n      }\n\n      // Filter by transaction status (for \"Under LOI\" view)\n      let matchesTransactionStatus = true;\n      if (viewFilters.transactionStatus) {\n        matchesTransactionStatus = property.transactionStatus === viewFilters.transactionStatus;\n      }\n\n      return matchesSearch && matchesType && matchesPropertyStatus && matchesListingAgent && matchesMarketingStatus && matchesTransactionStatus;\n    });\n\n    const [field, direction] = sortBy.split('-');\n    \n    filtered.sort((a, b) => {\n      let aVal, bVal;\n      \n      switch (field) {\n        case 'price':\n          aVal = a.listPrice || a.leaseRate || 0;\n          bVal = b.listPrice || b.leaseRate || 0;\n          break;\n        case 'size':\n          aVal = a.totalSquareFootage || 0;\n          bVal = b.totalSquareFootage || 0;\n          break;\n        case 'date':\n          aVal = a.daysOnMarket || 0;\n          bVal = b.daysOnMarket || 0;\n          break;\n        case 'status':\n          aVal = a.propertyStatus || '';\n          bVal = b.propertyStatus || '';\n          break;\n        case 'name':\n        default:\n          aVal = a.name?.toLowerCase() || '';\n          bVal = b.name?.toLowerCase() || '';\n          break;\n      }\n      \n      if (direction === 'asc') {\n        return aVal > bVal ? 1 : -1;\n      } else {\n        return aVal < bVal ? 1 : -1;\n      }\n    });\n\n    return filtered;\n  }, [properties, debouncedSearch, selectedType, selectedStatus, sortBy, viewFilters, user]);\n\n  const paginatedProperties = useMemo(() => {\n    const startIndex = (page - 1) * itemsPerPage;\n    const endIndex = startIndex + itemsPerPage;\n    return filteredAndSortedProperties.slice(startIndex, endIndex);\n  }, [filteredAndSortedProperties, page, itemsPerPage]);\n\n  const handleSelectAll = useCallback(() => {\n    if (selectedProperties.size === paginatedProperties.length) {\n      setSelectedProperties(new Set());\n    } else {\n      setSelectedProperties(new Set(paginatedProperties.map(p => p.id)));\n    }\n  }, [paginatedProperties, selectedProperties.size]);\n\n  const totalPages = Math.ceil(filteredAndSortedProperties.length / itemsPerPage);\n  const startItem = filteredAndSortedProperties.length === 0 ? 0 : (page - 1) * itemsPerPage + 1;\n  const endItem = Math.min(page * itemsPerPage, filteredAndSortedProperties.length);\n\n  const activeFilterCount = [selectedType].filter(Boolean).length;\n\n  useEffect(() => {\n    if (page > totalPages && totalPages > 0) {\n      setPage(1);\n    }\n  }, [page, totalPages]);\n\n  const getStatusGradient = (status) => {\n    const gradients = {\n      available: theme.palette.gradient.success,\n      under_contract: theme.palette.gradient.warning,\n      sold: theme.palette.gradient.secondary,\n      leased: theme.palette.gradient.info,\n      off_market: theme.palette.gradient.secondary\n    };\n    return gradients[status] || theme.palette.gradient.primary;\n  };\n\n  const getStatusLabel = (status) => {\n    const labels = {\n      available: 'For Sale',\n      under_contract: 'Under Contract',\n      sold: 'Sold',\n      leased: 'For Lease',\n      off_market: 'Off Market'\n    };\n    return labels[status] || status;\n  };\n\n  const getPropertyStatusLabel = (propertyStatus) => {\n    const labels = {\n      active: 'Active',\n      under_loi: 'Under LOI',\n      off_market: 'Off Market',\n      sold_leased: 'Sold / Leased'\n    };\n    return labels[propertyStatus] || propertyStatus || 'Not Set';\n  };\n\n  const getPropertyStatusGradient = (propertyStatus) => {\n    const gradients = {\n      active: theme.palette.gradient.success,\n      under_loi: theme.palette.gradient.warning,\n      off_market: theme.palette.gradient.secondary,\n      sold_leased: theme.palette.gradient.info\n    };\n    return gradients[propertyStatus] || theme.palette.gradient.primary;\n  };\n\n  const getPropertyTypeLabel = (propertyType) => {\n    const labels = {\n      office: 'Office',\n      retail: 'Retail',\n      industrial: 'Industrial'\n    };\n    return labels[propertyType] || propertyType;\n  };\n\n  const getPropertyTypeGradient = (propertyType) => {\n    const gradients = {\n      office: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n      retail: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',\n      industrial: 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)'\n    };\n    return gradients[propertyType] || theme.palette.gradient.primary;\n  };\n\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(price);\n  };\n\n  const formatNumber = (num) => {\n    return new Intl.NumberFormat('en-US').format(num);\n  };\n\n  if (loading) {\n    return (\n      <Container maxWidth=\"xl\" sx={{ py: theme.spacing(2) }}>\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\n          <Skeleton variant=\"text\" width={200} height={40} />\n          <Skeleton variant=\"rectangular\" width={300} height={36} />\n        </Box>\n        <Paper sx={{ p: 2, mb: 2 }}>\n          <Skeleton variant=\"rectangular\" height={48} />\n        </Paper>\n        {viewMode === 'grid' ? (\n          <CardSkeleton count={12} />\n        ) : (\n          <TableSkeleton rows={12} />\n        )}\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"xl\" sx={{ py: theme.spacing(3) }}>\n      <Box sx={{ \n        display: 'flex', \n        justifyContent: 'space-between', \n        alignItems: 'center', \n        mb: theme.spacing(3),\n        animation: 'fadeInScale 0.5s ease-out'\n      }}>\n        <Box>\n          <Typography variant=\"h5\" sx={{ fontWeight: 700, mb: theme.spacing(0.5) }}>\n            Properties\n          </Typography>\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ fontSize: '0.875rem' }}>\n            {filteredAndSortedProperties.length > 0 \n              ? `Showing ${startItem}-${endItem} of ${filteredAndSortedProperties.length} ${filteredAndSortedProperties.length === 1 ? 'property' : 'properties'}`\n              : 'No properties found'\n            }\n          </Typography>\n        </Box>\n        <Box sx={{ display: 'flex', gap: theme.spacing(0.75), alignItems: 'center' }}>\n          <Box sx={{ display: 'flex', gap: 0.5, mr: 1 }}>\n            <Tooltip title=\"Grid View\">\n              <IconButton\n                size=\"small\"\n                onClick={() => setViewMode('grid')}\n                sx={{\n                  bgcolor: viewMode === 'grid' ? 'primary.main' : 'transparent',\n                  color: viewMode === 'grid' ? 'white' : 'text.secondary',\n                  '&:hover': {\n                    bgcolor: viewMode === 'grid' ? 'primary.dark' : 'action.hover'\n                  }\n                }}\n              >\n                <ViewModule />\n              </IconButton>\n            </Tooltip>\n            <Tooltip title=\"List View\">\n              <IconButton\n                size=\"small\"\n                onClick={() => setViewMode('list')}\n                sx={{\n                  bgcolor: viewMode === 'list' ? 'primary.main' : 'transparent',\n                  color: viewMode === 'list' ? 'white' : 'text.secondary',\n                  '&:hover': {\n                    bgcolor: viewMode === 'list' ? 'primary.dark' : 'action.hover'\n                  }\n                }}\n              >\n                <ViewList />\n              </IconButton>\n            </Tooltip>\n          </Box>\n          <Button\n            size=\"small\"\n            variant=\"outlined\"\n            startIcon={<Refresh />}\n            onClick={refreshProperties}\n            disabled={loading}\n            sx={{ \n              borderRadius: 3,\n              transition: 'all 0.3s ease',\n              '&:hover': {\n                transform: 'translateY(-2px)',\n                boxShadow: theme.shadows[15]\n              },\n              '&:active': {\n                transform: 'scale(0.95)'\n              },\n              '& .MuiButton-startIcon': {\n                transition: 'transform 0.3s ease'\n              },\n              '&:hover .MuiButton-startIcon': {\n                transform: 'rotate(180deg)'\n              }\n            }}\n          >\n            Refresh\n          </Button>\n          <Button\n            size=\"small\"\n            variant=\"outlined\"\n            startIcon={<Upload />}\n            onClick={handleImportProperty}\n            sx={{ \n              borderRadius: 3,\n              transition: 'all 0.3s ease',\n              '&:hover': {\n                transform: 'translateY(-2px)',\n                boxShadow: theme.shadows[15]\n              },\n              '&:active': {\n                transform: 'scale(0.95)'\n              }\n            }}\n          >\n            Import\n          </Button>\n          <Button\n            size=\"small\"\n            variant=\"contained\"\n            startIcon={<Add />}\n            onClick={handleAddProperty}\n            sx={{ \n              borderRadius: 3,\n              transition: 'all 0.3s ease',\n              '&:hover': {\n                transform: 'translateY(-2px)',\n                boxShadow: theme.shadows[15]\n              },\n              '&:active': {\n                transform: 'scale(0.95)'\n              }\n            }}\n          >\n            Add Property\n          </Button>\n        </Box>\n      </Box>\n\n      {/* Saved Views */}\n      <SavedViews\n        selectedViewId={selectedViewId}\n        onViewChange={handleViewChange}\n        filters={viewFilters}\n        onFiltersChange={handleFiltersChange}\n        properties={properties}\n        variant=\"tabs\"\n      />\n\n      {/* Bulk Actions Bar */}\n      {selectedProperties.size > 0 && (\n        <Paper \n          elevation={4}\n          sx={{ \n            position: 'sticky',\n            top: 0,\n            zIndex: 10,\n            mb: 2,\n            py: 1.5,\n            px: 2,\n            borderRadius: 2,\n            background: theme.palette.gradient.primary,\n            color: 'white'\n          }}\n        >\n          <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', flexWrap: 'wrap', gap: 2 }}>\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\n              <Typography variant=\"body1\" sx={{ fontWeight: 600 }}>\n                {selectedProperties.size} {selectedProperties.size === 1 ? 'property' : 'properties'} selected\n              </Typography>\n              <IconButton\n                size=\"small\"\n                onClick={() => setSelectedProperties(new Set())}\n                sx={{ color: 'white', '&:hover': { bgcolor: 'rgba(255,255,255,0.2)' } }}\n              >\n                <Close />\n              </IconButton>\n            </Box>\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, flexWrap: 'wrap' }}>\n              <FormControl size=\"small\" sx={{ minWidth: 160, bgcolor: 'rgba(255,255,255,0.15)', borderRadius: 1 }}>\n                <InputLabel \n                  sx={{ \n                    color: 'rgba(255,255,255,0.9) !important',\n                    '&.Mui-focused': { color: 'white !important' }\n                  }}\n                >\n                  Change Status\n                </InputLabel>\n                <Select\n                  value=\"\"\n                  onChange={(e) => {\n                    if (e.target.value) {\n                      handleBulkStatusChange(e.target.value);\n                    }\n                  }}\n                  label=\"Change Status\"\n                  sx={{ \n                    color: 'white',\n                    '& .MuiSelect-select': { color: 'white' },\n                    '& .MuiSelect-icon': { color: 'white' },\n                    '& .MuiOutlinedInput-notchedOutline': { borderColor: 'rgba(255,255,255,0.3)' },\n                    '&:hover .MuiOutlinedInput-notchedOutline': { borderColor: 'rgba(255,255,255,0.5)' },\n                    '&.Mui-focused .MuiOutlinedInput-notchedOutline': { borderColor: 'white' },\n                    '& .MuiInputLabel-root': { color: 'rgba(255,255,255,0.9)' },\n                    '& .MuiInputLabel-root.Mui-focused': { color: 'white' }\n                  }}\n                >\n                  <MenuItem value=\"active\">Active</MenuItem>\n                  <MenuItem value=\"under_loi\">Under LOI</MenuItem>\n                  <MenuItem value=\"off_market\">Off Market</MenuItem>\n                  <MenuItem value=\"sold_leased\">Sold / Leased</MenuItem>\n                </Select>\n              </FormControl>\n              \n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                <Person sx={{ color: 'white', fontSize: 20 }} />\n                <FormControl size=\"small\" sx={{ minWidth: 180, bgcolor: 'rgba(255,255,255,0.15)', borderRadius: 1 }}>\n                  <InputLabel \n                    sx={{ \n                      color: 'rgba(255,255,255,0.9) !important',\n                      '&.Mui-focused': { color: 'white !important' }\n                    }}\n                  >\n                    Assign Broker\n                  </InputLabel>\n                  <Select\n                    value=\"\"\n                    onChange={(e) => {\n                      if (e.target.value) {\n                        const brokerInfo = e.target.value === 'current_user' \n                          ? { id: user?.id, email: user?.email, name: user ? `${user.firstName || ''} ${user.lastName || ''}`.trim() : 'You' }\n                          : { name: e.target.value };\n                        handleBulkBrokerAssignment(brokerInfo);\n                      }\n                    }}\n                    label=\"Assign Broker\"\n                    sx={{ \n                      color: 'white',\n                      '& .MuiSelect-select': { color: 'white' },\n                      '& .MuiSelect-icon': { color: 'white' },\n                      '& .MuiOutlinedInput-notchedOutline': { borderColor: 'rgba(255,255,255,0.3)' },\n                      '&:hover .MuiOutlinedInput-notchedOutline': { borderColor: 'rgba(255,255,255,0.5)' },\n                      '&.Mui-focused .MuiOutlinedInput-notchedOutline': { borderColor: 'white' },\n                      '& .MuiInputLabel-root': { color: 'rgba(255,255,255,0.9)' },\n                      '& .MuiInputLabel-root.Mui-focused': { color: 'white' }\n                    }}\n                  >\n                    <MenuItem value=\"current_user\">\n                      Assign to Me\n                    </MenuItem>\n                    {user?.email && user.email !== 'admin@demo.com' && (\n                      <MenuItem value={user.email}>{user.firstName || user.email}</MenuItem>\n                    )}\n                  </Select>\n                </FormControl>\n              </Box>\n            </Box>\n          </Box>\n        </Paper>\n      )}\n\n      <Paper elevation={2} sx={{ \n        py: 2,\n        px: 2.5, \n        mb: theme.spacing(3), \n        borderRadius: 3,\n        animation: 'fadeInUp 0.6s ease-out',\n        animationDelay: '0.1s',\n        animationFillMode: 'both'\n      }}>\n        <Grid container spacing={2} alignItems=\"center\">\n          <Grid item xs={12} md={5}>\n            <TextField\n              fullWidth\n              size=\"small\"\n              placeholder=\"Search properties...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <Search color=\"action\" />\n                  </InputAdornment>\n                ),\n                endAdornment: searchTerm && (\n                  <InputAdornment position=\"end\">\n                    <IconButton size=\"small\" onClick={handleClearSearch}>\n                      <Clear />\n                    </IconButton>\n                  </InputAdornment>\n                ),\n              }}\n              sx={{ \n                '& .MuiOutlinedInput-root': { \n                  borderRadius: 3,\n                  '&.Mui-focused .MuiOutlinedInput-notchedOutline': {\n                    borderWidth: '2px',\n                    borderImage: `${theme.palette.gradient.primary} 1`,\n                  }\n                } \n              }}\n            />\n          </Grid>\n          \n          <Grid item xs={12} md={4}>\n            <Box sx={{ display: 'flex', gap: theme.spacing(1), flexWrap: 'wrap', alignItems: 'center' }}>\n              <Chip\n                icon={<FilterList />}\n                label=\"All Types\"\n                onClick={() => setSelectedType('')}\n                color={!selectedType ? 'primary' : 'default'}\n                sx={{ height: 28, fontSize: '0.8125rem' }}\n              />\n              <Chip\n                label=\"Office\"\n                onClick={() => setSelectedType(selectedType === 'office' ? '' : 'office')}\n                color={selectedType === 'office' ? 'primary' : 'default'}\n                sx={{ height: 28, fontSize: '0.8125rem' }}\n              />\n              <Chip\n                label=\"Retail\"\n                onClick={() => setSelectedType(selectedType === 'retail' ? '' : 'retail')}\n                color={selectedType === 'retail' ? 'primary' : 'default'}\n                sx={{ height: 28, fontSize: '0.8125rem' }}\n              />\n              <Chip\n                label=\"Industrial\"\n                onClick={() => setSelectedType(selectedType === 'industrial' ? '' : 'industrial')}\n                color={selectedType === 'industrial' ? 'primary' : 'default'}\n                sx={{ height: 28, fontSize: '0.8125rem' }}\n              />\n              {activeFilterCount > 0 && (\n                <Button\n                  size=\"small\"\n                  onClick={handleClearFilters}\n                  startIcon={<Clear />}\n                  sx={{ ml: 1 }}\n                >\n                  Clear ({activeFilterCount})\n                </Button>\n              )}\n            </Box>\n          </Grid>\n\n          <Grid item xs={12} md={3}>\n            <FormControl fullWidth size=\"small\">\n              <InputLabel>Sort By</InputLabel>\n              <Select\n                value={sortBy}\n                onChange={(e) => setSortBy(e.target.value)}\n                label=\"Sort By\"\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                    <Sort />\n                  </InputAdornment>\n                }\n                sx={{ borderRadius: 3 }}\n              >\n                <MenuItem value=\"name-asc\">Name (A-Z)</MenuItem>\n                <MenuItem value=\"name-desc\">Name (Z-A)</MenuItem>\n                <MenuItem value=\"price-asc\">Price (Low to High)</MenuItem>\n                <MenuItem value=\"price-desc\">Price (High to Low)</MenuItem>\n                <MenuItem value=\"size-asc\">Size (Small to Large)</MenuItem>\n                <MenuItem value=\"size-desc\">Size (Large to Small)</MenuItem>\n                <MenuItem value=\"status-asc\">Status (A-Z)</MenuItem>\n                <MenuItem value=\"status-desc\">Status (Z-A)</MenuItem>\n                <MenuItem value=\"date-asc\">Oldest First</MenuItem>\n                <MenuItem value=\"date-desc\">Newest First</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n        </Grid>\n      </Paper>\n\n      {filteredAndSortedProperties.length === 0 ? (\n        <EmptyState\n          icon={Business}\n          title={properties.length === 0 ? \"No properties yet\" : \"No matching properties\"}\n          message={properties.length === 0 \n            ? \"Add your first property to get started.\"\n            : \"No properties match your current filters. Try adjusting your search or filters.\"\n          }\n          actionLabel={properties.length === 0 ? \"Add Property\" : \"Clear Filters\"}\n          onAction={properties.length === 0 ? handleAddProperty : handleClearFilters}\n        />\n      ) : (\n        <>\n          {paginatedProperties.length > 0 && (\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 1 }}>\n              <Checkbox\n                checked={selectedProperties.size > 0 && selectedProperties.size === paginatedProperties.length}\n                indeterminate={selectedProperties.size > 0 && selectedProperties.size < paginatedProperties.length}\n                onChange={handleSelectAll}\n                size=\"small\"\n                sx={{ p: 0.5 }}\n              />\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                {selectedProperties.size > 0 \n                  ? `${selectedProperties.size} of ${paginatedProperties.length} selected`\n                  : 'Select all'\n                }\n              </Typography>\n            </Box>\n          )}\n          \n          {/* Table View */}\n          <TableContainer component={Paper} elevation={2} sx={{ borderRadius: 2 }}>\n            <Table sx={{ minWidth: 650 }}>\n              <TableHead>\n                <TableRow sx={{ bgcolor: 'grey.50' }}>\n                  <TableCell padding=\"checkbox\" sx={{ width: 48 }}>\n                    {/* Checkbox column header */}\n                  </TableCell>\n                  <TableCell sx={{ fontWeight: 600 }}>Property Name</TableCell>\n                  <TableCell sx={{ fontWeight: 600 }}>City / State</TableCell>\n                  <TableCell sx={{ fontWeight: 600 }}>Property Type</TableCell>\n                  <TableCell sx={{ fontWeight: 600 }}>Listing Type</TableCell>\n                  <TableCell sx={{ fontWeight: 600 }}>Marketing Status</TableCell>\n                  <TableCell align=\"right\" sx={{ fontWeight: 600 }}>Actions</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {paginatedProperties.map((property, index) => {\n                  const isSelected = selectedProperties.has(property.id);\n                  return (\n                    <TableRow\n                      key={property.id}\n                      hover\n                      selected={isSelected}\n                      onClick={(e) => {\n                        if (!e.target.closest('.property-checkbox') && !e.target.closest('button') && !e.target.closest('.MuiSelect-root')) {\n                          handleViewDetails(property, e);\n                        }\n                      }}\n                      sx={{\n                        cursor: 'pointer',\n                        '&:hover': {\n                          bgcolor: 'action.hover'\n                        },\n                        '&.Mui-selected': {\n                          bgcolor: 'primary.light',\n                          '&:hover': {\n                            bgcolor: 'primary.light'\n                          }\n                        }\n                      }}\n                    >\n                      <TableCell padding=\"checkbox\" sx={{ py: 1.5 }}>\n                        <Checkbox\n                          checked={isSelected}\n                          onChange={(e) => handleSelectProperty(property.id, e)}\n                          onClick={(e) => e.stopPropagation()}\n                          className=\"property-checkbox\"\n                        />\n                      </TableCell>\n                      <TableCell sx={{ py: 1.5 }}>\n                        <Typography variant=\"body2\" sx={{ fontWeight: 500 }}>\n                          {property.name || 'Unnamed Property'}\n                        </Typography>\n                      </TableCell>\n                      <TableCell sx={{ py: 1.5 }}>\n                        <Typography variant=\"body2\" color=\"text.secondary\">\n                          {property.city && property.state \n                            ? `${property.city}, ${property.state}`\n                            : property.city || property.state || ''\n                          }\n                        </Typography>\n                      </TableCell>\n                      <TableCell sx={{ py: 1.5 }}>\n                        {property.propertyType ? (\n                          <Chip\n                            label={getPropertyTypeLabel(property.propertyType)}\n                            size=\"small\"\n                            sx={{\n                              fontWeight: 600,\n                              fontSize: '0.75rem',\n                              height: 22,\n                              background: getPropertyTypeGradient(property.propertyType),\n                              color: 'white'\n                            }}\n                          />\n                        ) : (\n                          <Typography variant=\"body2\" color=\"text.secondary\"></Typography>\n                        )}\n                      </TableCell>\n                      <TableCell sx={{ py: 1.5 }}>\n                        {property.listingType ? (\n                          <Chip\n                            label={property.listingType === 'sale' ? 'For Sale' : 'For Lease'}\n                            size=\"small\"\n                            variant=\"outlined\"\n                            sx={{ fontSize: '0.75rem', height: 22 }}\n                          />\n                        ) : (\n                          <Typography variant=\"body2\" color=\"text.secondary\"></Typography>\n                        )}\n                      </TableCell>\n                      <TableCell sx={{ py: 1.5 }}>\n                        {property.marketingStatus ? (\n                          <Chip\n                            label={property.marketingStatus.charAt(0).toUpperCase() + property.marketingStatus.slice(1).replace(/_/g, ' ')}\n                            size=\"small\"\n                            color={\n                              property.marketingStatus === 'active' ? 'success' :\n                              property.marketingStatus === 'pending' ? 'warning' :\n                              property.marketingStatus === 'inactive' ? 'default' : 'info'\n                            }\n                            sx={{ fontSize: '0.75rem', height: 22 }}\n                          />\n                        ) : (\n                          <Typography variant=\"body2\" color=\"text.secondary\"></Typography>\n                        )}\n                      </TableCell>\n                      <TableCell align=\"right\" sx={{ py: 1.5 }}>\n                        <Box sx={{ display: 'flex', gap: 0.5, justifyContent: 'flex-end' }}>\n                          <FormControl \n                            size=\"small\" \n                            sx={{ \n                              minWidth: 130,\n                              '& .MuiOutlinedInput-root': {\n                                height: 28,\n                                fontSize: '0.75rem'\n                              }\n                            }}\n                            onClick={(e) => e.stopPropagation()}\n                          >\n                            <Select\n                              value={property.propertyStatus || 'active'}\n                              onChange={(e) => handleInlineStatusChange(property.id, e.target.value, e)}\n                              onClick={(e) => e.stopPropagation()}\n                              onMouseDown={(e) => e.stopPropagation()}\n                              sx={{ height: 28 }}\n                              MenuProps={{\n                                PaperProps: {\n                                  sx: {\n                                    mt: 0.5,\n                                    minWidth: 140,\n                                    boxShadow: '0 8px 24px rgba(0,0,0,0.15)'\n                                  }\n                                }\n                              }}\n                            >\n                              <MenuItem value=\"active\">\n                                <Chip\n                                  label=\"Active\"\n                                  size=\"small\"\n                                  sx={{\n                                    height: 18,\n                                    fontSize: '0.7rem',\n                                    background: theme.palette.gradient.success,\n                                    color: 'white',\n                                    fontWeight: 600\n                                  }}\n                                />\n                              </MenuItem>\n                              <MenuItem value=\"under_loi\">\n                                <Chip\n                                  label=\"Under LOI\"\n                                  size=\"small\"\n                                  sx={{\n                                    height: 18,\n                                    fontSize: '0.7rem',\n                                    background: theme.palette.gradient.warning,\n                                    color: 'white',\n                                    fontWeight: 600\n                                  }}\n                                />\n                              </MenuItem>\n                              <MenuItem value=\"off_market\">\n                                <Chip\n                                  label=\"Off Market\"\n                                  size=\"small\"\n                                  sx={{\n                                    height: 18,\n                                    fontSize: '0.7rem',\n                                    background: theme.palette.gradient.secondary,\n                                    color: 'white',\n                                    fontWeight: 600\n                                  }}\n                                />\n                              </MenuItem>\n                              <MenuItem value=\"sold_leased\">\n                                <Chip\n                                  label=\"Sold / Leased\"\n                                  size=\"small\"\n                                  sx={{\n                                    height: 18,\n                                    fontSize: '0.7rem',\n                                    background: theme.palette.gradient.info,\n                                    color: 'white',\n                                    fontWeight: 600\n                                  }}\n                                />\n                              </MenuItem>\n                            </Select>\n                          </FormControl>\n                          <Tooltip title=\"View Details\">\n                            <IconButton\n                              size=\"small\"\n                              onClick={(e) => handleViewDetails(property, e)}\n                              sx={{ height: 28, width: 28 }}\n                            >\n                              <Visibility fontSize=\"small\" />\n                            </IconButton>\n                          </Tooltip>\n                          <Tooltip title=\"Edit\">\n                            <IconButton\n                              size=\"small\"\n                              onClick={(e) => handleEditProperty(property, e)}\n                              sx={{ height: 28, width: 28 }}\n                            >\n                              <Edit fontSize=\"small\" />\n                            </IconButton>\n                          </Tooltip>\n                        </Box>\n                      </TableCell>\n                    </TableRow>\n                  );\n                })}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </>\n      )}\n\n      {filteredAndSortedProperties.length > 0 && totalPages > 1 && (\n        <Box sx={{ display: 'flex', justifyContent: 'center', mt: 3 }}>\n          <Pagination\n            count={totalPages}\n            page={page}\n            onChange={handlePageChange}\n            color=\"primary\"\n            size=\"medium\"\n            showFirstButton\n            showLastButton\n          />\n        </Box>\n      )}\n\n      <Dialog open={deleteDialog.open} onClose={() => setDeleteDialog({ open: false, property: null })}>\n        <DialogTitle>Delete Property</DialogTitle>\n        <DialogContent>\n          <Typography>\n            Are you sure you want to delete {deleteDialog.property?.name}?\n            This action cannot be undone.\n          </Typography>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setDeleteDialog({ open: false, property: null })}>\n            Cancel\n          </Button>\n          <Button onClick={() => handleDeleteProperty(deleteDialog.property)} color=\"error\" variant=\"contained\">\n            Delete\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <Snackbar\n        open={snackbar.open}\n        autoHideDuration={6000}\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\n      >\n        <Alert\n          onClose={() => setSnackbar({ ...snackbar, open: false })}\n          severity={snackbar.severity}\n          sx={{ width: '100%' }}\n        >\n          {snackbar.message}\n        </Alert>\n      </Snackbar>\n    </Container>\n  );\n};\n\nexport default Properties;\n","import { useEffect, useRef, useState } from 'react';\n\nconst useScrollReveal = (options = {}) => {\n  const {\n    threshold = 0.1,\n    rootMargin = '0px',\n    triggerOnce = true,\n    initialVisible = false\n  } = options;\n\n  const elementRef = useRef(null);\n  const [isVisible, setIsVisible] = useState(initialVisible);\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          setIsVisible(true);\n          if (triggerOnce && elementRef.current) {\n            observer.unobserve(elementRef.current);\n          }\n        } else if (!triggerOnce) {\n          setIsVisible(false);\n        }\n      },\n      {\n        threshold,\n        rootMargin\n      }\n    );\n\n    const currentElement = elementRef.current;\n    if (currentElement) {\n      observer.observe(currentElement);\n    }\n\n    return () => {\n      if (currentElement) {\n        observer.unobserve(currentElement);\n      }\n    };\n  }, [threshold, rootMargin, triggerOnce]);\n\n  return [elementRef, isVisible];\n};\n\nexport default useScrollReveal;\n","import React from 'react';\nimport { Box, Typography, Button, useTheme } from '@mui/material';\n\nconst EmptyState = ({ \n  icon: Icon, \n  title, \n  message, \n  actionLabel, \n  onAction \n}) => {\n  const theme = useTheme();\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        minHeight: { xs: '300px', sm: '400px', md: '500px' },\n        padding: theme.spacing(4),\n        textAlign: 'center',\n        animation: 'fadeIn 0.6s ease-out',\n        '@keyframes fadeIn': {\n          from: {\n            opacity: 0,\n            transform: 'translateY(20px)',\n          },\n          to: {\n            opacity: 1,\n            transform: 'translateY(0)',\n          },\n        },\n      }}\n    >\n      <Box\n        sx={{\n          position: 'relative',\n          mb: theme.spacing(4),\n          animation: 'scaleIn 0.5s ease-out',\n          animationDelay: '0.2s',\n          animationFillMode: 'both',\n          '@keyframes scaleIn': {\n            from: {\n              transform: 'scale(0.8)',\n              opacity: 0,\n            },\n            to: {\n              transform: 'scale(1)',\n              opacity: 1,\n            },\n          },\n        }}\n      >\n        <Box\n          sx={{\n            width: { xs: 80, sm: 100, md: 120 },\n            height: { xs: 80, sm: 100, md: 120 },\n            borderRadius: '50%',\n            background: 'rgba(255, 255, 255, 0.5)',\n            backdropFilter: 'blur(20px)',\n            border: '1px solid rgba(255, 255, 255, 0.3)',\n            boxShadow: '0 8px 32px rgba(0, 0, 0, 0.1)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            position: 'relative',\n            '&::before': {\n              content: '\"\"',\n              position: 'absolute',\n              top: -2,\n              left: -2,\n              right: -2,\n              bottom: -2,\n              background: theme.palette.gradient.primary,\n              borderRadius: '50%',\n              zIndex: -1,\n              opacity: 0.2,\n            },\n          }}\n        >\n          {Icon && (\n            <Box\n              sx={{\n                background: theme.palette.gradient.primary,\n                WebkitBackgroundClip: 'text',\n                WebkitTextFillColor: 'transparent',\n                backgroundClip: 'text',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n              }}\n            >\n              <Icon \n                sx={{ \n                  fontSize: { xs: 40, sm: 50, md: 60 },\n                  opacity: 1,\n                  filter: 'drop-shadow(0 2px 4px rgba(102, 126, 234, 0.2))',\n                }} \n              />\n            </Box>\n          )}\n        </Box>\n      </Box>\n\n      <Box\n        sx={{\n          maxWidth: { xs: '100%', sm: 500, md: 600 },\n          mb: theme.spacing(2),\n          animation: 'fadeInUp 0.6s ease-out',\n          animationDelay: '0.3s',\n          animationFillMode: 'both',\n          '@keyframes fadeInUp': {\n            from: {\n              opacity: 0,\n              transform: 'translateY(20px)',\n            },\n            to: {\n              opacity: 1,\n              transform: 'translateY(0)',\n            },\n          },\n        }}\n      >\n        <Typography\n          variant=\"h4\"\n          sx={{\n            fontWeight: 700,\n            mb: theme.spacing(2),\n            background: theme.palette.gradient.primary,\n            WebkitBackgroundClip: 'text',\n            WebkitTextFillColor: 'transparent',\n            backgroundClip: 'text',\n            fontSize: { xs: '1.5rem', sm: '1.875rem', md: '2.125rem' },\n            letterSpacing: '-0.01em',\n          }}\n        >\n          {title}\n        </Typography>\n\n        <Typography\n          variant=\"body1\"\n          color=\"text.secondary\"\n          sx={{\n            fontSize: { xs: '0.875rem', sm: '1rem' },\n            lineHeight: 1.6,\n            px: { xs: 2, sm: 0 },\n          }}\n        >\n          {message}\n        </Typography>\n      </Box>\n\n      {actionLabel && onAction && (\n        <Box\n          sx={{\n            animation: 'fadeInUp 0.6s ease-out',\n            animationDelay: '0.4s',\n            animationFillMode: 'both',\n          }}\n        >\n          <Button\n            variant=\"contained\"\n            onClick={onAction}\n            sx={{\n              background: theme.palette.gradient.primary,\n              color: 'white',\n              padding: { xs: '10px 24px', sm: '12px 32px' },\n              fontSize: { xs: '0.875rem', sm: '1rem' },\n              fontWeight: 600,\n              borderRadius: 3,\n              textTransform: 'none',\n              boxShadow: '0 8px 24px rgba(102, 126, 234, 0.3)',\n              transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\n              '&:hover': {\n                background: 'linear-gradient(135deg, #5568d3 0%, #653a8b 100%)',\n                boxShadow: '0 12px 32px rgba(102, 126, 234, 0.4)',\n                transform: 'translateY(-2px)',\n              },\n              '&:active': {\n                transform: 'translateY(0)',\n                boxShadow: '0 6px 16px rgba(102, 126, 234, 0.3)',\n              },\n            }}\n          >\n            {actionLabel}\n          </Button>\n        </Box>\n      )}\n    </Box>\n  );\n};\n\nexport default EmptyState;\n","import React from 'react';\nimport {\n  Box,\n  Card,\n  CardContent,\n  Grid,\n  Skeleton,\n  TableCell,\n  TableRow,\n  Paper,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  Divider\n} from '@mui/material';\n\nexport const TableSkeleton = ({ rows = 5 }) => {\n  return (\n    <>\n      {[...Array(rows)].map((_, index) => (\n        <TableRow key={index}>\n          <TableCell>\n            <Skeleton variant=\"text\" width=\"80%\" height={24} animation=\"wave\" />\n          </TableCell>\n          <TableCell>\n            <Skeleton variant=\"text\" width=\"90%\" height={24} animation=\"wave\" />\n          </TableCell>\n          <TableCell>\n            <Skeleton variant=\"text\" width=\"70%\" height={24} animation=\"wave\" />\n          </TableCell>\n          <TableCell>\n            <Skeleton variant=\"text\" width=\"60%\" height={24} animation=\"wave\" />\n          </TableCell>\n          <TableCell align=\"right\">\n            <Box sx={{ display: 'flex', gap: 1, justifyContent: 'flex-end' }}>\n              <Skeleton variant=\"circular\" width={32} height={32} animation=\"wave\" />\n              <Skeleton variant=\"circular\" width={32} height={32} animation=\"wave\" />\n            </Box>\n          </TableCell>\n        </TableRow>\n      ))}\n    </>\n  );\n};\n\nexport const CardSkeleton = ({ count = 6 }) => {\n  return (\n    <Grid container spacing={3}>\n      {[...Array(count)].map((_, index) => (\n        <Grid item xs={12} sm={6} md={4} key={index}>\n          <Card \n            sx={{ \n              height: '100%',\n              borderRadius: 3,\n              boxShadow: '0 4px 6px rgba(0,0,0,0.07)',\n            }}\n          >\n            <CardContent sx={{ p: 3 }}>\n              <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                <Skeleton \n                  variant=\"circular\" \n                  width={48} \n                  height={48} \n                  animation=\"wave\"\n                  sx={{ mr: 2 }} \n                />\n                <Box sx={{ flex: 1 }}>\n                  <Skeleton \n                    variant=\"text\" \n                    width=\"70%\" \n                    height={28} \n                    animation=\"wave\"\n                    sx={{ mb: 0.5 }} \n                  />\n                  <Skeleton \n                    variant=\"text\" \n                    width=\"50%\" \n                    height={20} \n                    animation=\"wave\" \n                  />\n                </Box>\n              </Box>\n\n              <Box sx={{ mb: 2 }}>\n                <Skeleton \n                  variant=\"text\" \n                  width=\"100%\" \n                  height={20} \n                  animation=\"wave\"\n                  sx={{ mb: 1 }} \n                />\n                <Skeleton \n                  variant=\"text\" \n                  width=\"90%\" \n                  height={20} \n                  animation=\"wave\"\n                  sx={{ mb: 1 }} \n                />\n                <Skeleton \n                  variant=\"text\" \n                  width=\"80%\" \n                  height={20} \n                  animation=\"wave\" \n                />\n              </Box>\n\n              <Box sx={{ display: 'flex', gap: 1, mb: 2 }}>\n                <Skeleton \n                  variant=\"rounded\" \n                  width={80} \n                  height={28} \n                  animation=\"wave\"\n                  sx={{ borderRadius: 2 }} \n                />\n                <Skeleton \n                  variant=\"rounded\" \n                  width={70} \n                  height={28} \n                  animation=\"wave\"\n                  sx={{ borderRadius: 2 }} \n                />\n              </Box>\n\n              <Box \n                sx={{ \n                  display: 'flex', \n                  gap: 1.5, \n                  pt: 2, \n                  mt: 2,\n                  borderTop: 1, \n                  borderColor: 'divider' \n                }}\n              >\n                <Skeleton \n                  variant=\"rounded\" \n                  width=\"48%\" \n                  height={40} \n                  animation=\"wave\"\n                  sx={{ borderRadius: 2.5 }} \n                />\n                <Skeleton \n                  variant=\"rounded\" \n                  width=\"48%\" \n                  height={40} \n                  animation=\"wave\"\n                  sx={{ borderRadius: 2.5 }} \n                />\n              </Box>\n            </CardContent>\n          </Card>\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n\nexport const ListSkeleton = ({ count = 8 }) => {\n  return (\n    <Paper \n      sx={{ \n        borderRadius: 3,\n        boxShadow: '0 4px 6px rgba(0,0,0,0.07)',\n        overflow: 'hidden'\n      }}\n    >\n      {[...Array(count)].map((_, index) => (\n        <React.Fragment key={index}>\n          <ListItem \n            sx={{ \n              py: 2,\n              px: 3,\n              '&:hover': {\n                backgroundColor: 'rgba(0, 0, 0, 0.02)'\n              }\n            }}\n          >\n            <ListItemAvatar>\n              <Skeleton \n                variant=\"circular\" \n                width={48} \n                height={48} \n                animation=\"wave\" \n              />\n            </ListItemAvatar>\n            <ListItemText\n              primary={\n                <Skeleton \n                  variant=\"text\" \n                  width=\"60%\" \n                  height={24} \n                  animation=\"wave\"\n                  sx={{ mb: 0.5 }} \n                />\n              }\n              secondary={\n                <Box>\n                  <Skeleton \n                    variant=\"text\" \n                    width=\"80%\" \n                    height={20} \n                    animation=\"wave\"\n                    sx={{ mb: 0.5 }} \n                  />\n                  <Skeleton \n                    variant=\"text\" \n                    width=\"40%\" \n                    height={16} \n                    animation=\"wave\" \n                  />\n                </Box>\n              }\n            />\n            <Box sx={{ display: 'flex', gap: 1, ml: 2 }}>\n              <Skeleton \n                variant=\"rounded\" \n                width={80} \n                height={32} \n                animation=\"wave\"\n                sx={{ borderRadius: 2 }} \n              />\n              <Skeleton \n                variant=\"circular\" \n                width={32} \n                height={32} \n                animation=\"wave\" \n              />\n            </Box>\n          </ListItem>\n          {index < count - 1 && <Divider />}\n        </React.Fragment>\n      ))}\n    </Paper>\n  );\n};\n","import api from './api';\n\n// Property API endpoints\nexport const propertyApi = {\n  // Get all properties with filtering and pagination\n  getProperties: async (params = {}) => {\n    try {\n      const queryString = new URLSearchParams(params).toString();\n      const url = `/properties${queryString ? `?${queryString}` : ''}`;\n      const response = await api.get(url);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching properties:', error);\n      throw error;\n    }\n  },\n\n  // Get single property by ID\n  getProperty: async (id) => {\n    try {\n      const response = await api.get(`/properties/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching property:', error);\n      throw error;\n    }\n  },\n\n  // Create new property\n  createProperty: async (propertyData) => {\n    try {\n      const response = await api.post('/properties', propertyData);\n      return response.data;\n    } catch (error) {\n      console.error('Error creating property:', error);\n      throw error;\n    }\n  },\n\n  // Update existing property\n  updateProperty: async (id, propertyData) => {\n    try {\n      const response = await api.put(`/properties/${id}`, propertyData);\n      return response.data;\n    } catch (error) {\n      console.error('Error updating property:', error);\n      throw error;\n    }\n  },\n\n  // Delete property\n  deleteProperty: async (id) => {\n    try {\n      const response = await api.delete(`/properties/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error('Error deleting property:', error);\n      throw error;\n    }\n  },\n\n  // Upload property images\n  uploadImages: async (id, imageFiles) => {\n    try {\n      const formData = new FormData();\n      imageFiles.forEach((file) => {\n        formData.append('images', file);\n      });\n\n      const response = await api.post(`/properties/${id}/images`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error uploading images:', error);\n      throw error;\n    }\n  },\n\n  // Upload property documents\n  uploadDocuments: async (id, documentFiles) => {\n    try {\n      const formData = new FormData();\n      documentFiles.forEach((file) => {\n        formData.append('documents', file);\n      });\n\n      const response = await api.post(`/properties/${id}/documents`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error uploading documents:', error);\n      throw error;\n    }\n  },\n\n  // Remove property image\n  removeImage: async (id, imageIndex) => {\n    try {\n      const response = await api.delete(`/properties/${id}/images/${imageIndex}`);\n      return response.data;\n    } catch (error) {\n      console.error('Error removing image:', error);\n      throw error;\n    }\n  },\n\n  // Remove property document\n  removeDocument: async (id, documentIndex) => {\n    try {\n      const response = await api.delete(`/properties/${id}/documents/${documentIndex}`);\n      return response.data;\n    } catch (error) {\n      console.error('Error removing document:', error);\n      throw error;\n    }\n  },\n\n  // Import properties from CSV/Excel\n  importProperties: async (file) => {\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n\n      const response = await api.post('/properties/import', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error importing properties:', error);\n      throw error;\n    }\n  },\n\n  // Export properties to CSV/Excel\n  exportProperties: async (params = {}) => {\n    try {\n      const queryString = new URLSearchParams(params).toString();\n      const url = `/properties/export${queryString ? `?${queryString}` : ''}`;\n      \n      const response = await api.get(url, {\n        responseType: 'blob', // Important for file download\n      });\n      \n      return response.data;\n    } catch (error) {\n      console.error('Error exporting properties:', error);\n      throw error;\n    }\n  },\n\n  // Get import template\n  getTemplate: async (format = 'csv') => {\n    try {\n      const response = await api.get(`/properties/template?format=${format}`, {\n        responseType: 'blob',\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error getting template:', error);\n      throw error;\n    }\n  },\n\n  // Search properties for map view\n  getMapProperties: async (bounds, filters = {}) => {\n    try {\n      const params = { bounds, ...filters };\n      const queryString = new URLSearchParams(params).toString();\n      const response = await api.get(`/properties/search/map?${queryString}`);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching map properties:', error);\n      throw error;\n    }\n  },\n\n  // Log property inquiry\n  logInquiry: async (id, inquiryData) => {\n    try {\n      const response = await api.post(`/properties/${id}/inquire`, inquiryData);\n      return response.data;\n    } catch (error) {\n      console.error('Error logging inquiry:', error);\n      throw error;\n    }\n  }\n};\n\n// Listings API endpoints (extends properties)\nexport const listingsApi = {\n  // Get all listings with enhanced filtering\n  getListings: async (params = {}) => {\n    try {\n      const queryString = new URLSearchParams(params).toString();\n      const url = `/listings${queryString ? `?${queryString}` : ''}`;\n      const response = await api.get(url);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching listings:', error);\n      throw error;\n    }\n  },\n\n  // Get availability tracking data\n  getAvailability: async (params = {}) => {\n    try {\n      const queryString = new URLSearchParams(params).toString();\n      const url = `/listings/availability${queryString ? `?${queryString}` : ''}`;\n      const response = await api.get(url);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching availability data:', error);\n      throw error;\n    }\n  },\n\n  // Update marketing status\n  updateMarketingStatus: async (id, status, notes = '') => {\n    try {\n      const response = await api.put(`/listings/${id}/marketing-status`, {\n        marketingStatus: status,\n        notes\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error updating marketing status:', error);\n      throw error;\n    }\n  },\n\n  // Syndicate listing to portals\n  syndicateListing: async (id, portals, customMessage = '') => {\n    try {\n      const response = await api.post(`/listings/${id}/syndicate`, {\n        portals,\n        customMessage\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error syndicating listing:', error);\n      throw error;\n    }\n  },\n\n  // Get listing performance metrics\n  getPerformance: async (id, timeframe = '30') => {\n    try {\n      const response = await api.get(`/listings/${id}/performance?timeframe=${timeframe}`);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching performance data:', error);\n      throw error;\n    }\n  }\n};\n\nexport default propertyApi;"],"names":["VIEW_STORAGE_KEY","getDefaultViews","currentUser","id","name","filters","type","propertyStatus","search","isDefault","isSystem","listingAgentId","listingAgentEmail","email","listingAgentName","concat","firstName","lastName","trim","marketingStatus","_ref","selectedViewId","onViewChange","onFiltersChange","properties","variant","user","useAuth","views","setViews","useState","localSelectedViewId","setLocalSelectedViewId","lastAppliedFiltersRef","useRef","countMatchingProperties","useCallback","view","propertiesList","length","filter","property","propertyType","Array","isArray","includes","_property$name","_property$address","_property$city","searchLower","toLowerCase","address","city","currentUserId","currentUserEmail","matchesListingAgent","brokerMatches","listingAgent","String","createdBy","transactionStatus","viewCounts","useMemo","counts","forEach","useEffect","undefined","loadViews","savedViewsStr","localStorage","getItem","savedViews","JSON","parse","defaultViews","systemViewIds","Set","map","v","customViews","has","error","console","setItem","stringify","selectedView","find","filtersToApply","_objectSpread","filtersKey","current","handleViewChange","event","newValue","viewId","target","value","_jsxs","FormControl","size","sx","minWidth","children","_jsx","InputLabel","Select","onChange","label","startAdornment","ViewList","mr","color","count","MenuItem","Chip","ml","height","fontSize","Box","borderBottom","borderColor","mb","Tabs","scrollButtons","textTransform","fontWeight","minHeight","Tab","display","alignItems","gap","px","py","Properties","_deleteDialog$propert","theme","useTheme","location","useLocation","navigate","useNavigate","cardGridRef","cardGridVisible","useScrollReveal","threshold","initialVisible","setProperties","loading","setLoading","searchTerm","setSearchTerm","debouncedSearch","setDebouncedSearch","selectedType","setSelectedType","selectedStatus","setSelectedStatus","sortBy","setSortBy","deleteDialog","setDeleteDialog","open","snackbar","setSnackbar","message","severity","page","setPage","viewMode","setViewMode","setSelectedViewId","viewFilters","setViewFilters","selectedProperties","setSelectedProperties","itemsPerPage","LOCAL_KEY","process","readLocalCache","raw","_","writeLocalCache","list","mergeServerAndLocal","serverList","localList","byId","Map","p","lp","set","from","values","sort","a","b","Date","updatedAt","createdAt","async","_location$state","response","propertyApi","getProperties","limit","merged","sampleProperties","state","listingType","zipCode","county","totalSquareFootage","availableSquareFootage","buildingClass","yearBuilt","floors","parkingSpaces","parkingRatio","leaseRate","leaseRateUnit","description","highlights","amenities","keyFeatures","images","documents","url","filename","keyHighlights","now","toISOString","listPrice","capRate","netOperatingIncome","ceilingHeight","clearHeight","loadingDocks","driveInDoors","finalSalePrice","dateSoldLeased","split","buyerTenantName","existingSampleIds","newSamples","sp","maybeNew","newProperty","existingIdx","findIndex","err","fetchProperties","timer","setTimeout","clearTimeout","handleDeleteProperty","deleteProperty","apiError","prev","handleViewDetails","stopPropagation","handleEditProperty","handleAddProperty","window","origin","navigator","clipboard","writeText","handleImportProperty","handleClearSearch","handleClearFilters","handleSelectProperty","propertyId","newSet","delete","add","handleBulkStatusChange","propertyIds","newStatus","updatedCache","Promise","all","updateProperty","log","statusLabel","active","under_loi","off_market","sold_leased","handleBulkBrokerAssignment","brokerInfo","brokerName","handleInlineStatusChange","handleFiltersChange","status","handlePageChange","scrollTo","top","behavior","filteredAndSortedProperties","filtered","matchesSearch","matchesType","matchesPropertyStatus","matchesMarketingStatus","matchesTransactionStatus","field","direction","_a$name","_b$name","aVal","bVal","daysOnMarket","paginatedProperties","startIndex","endIndex","slice","handleSelectAll","totalPages","Math","ceil","startItem","endItem","min","activeFilterCount","Boolean","getPropertyTypeGradient","office","retail","industrial","palette","gradient","primary","Container","maxWidth","spacing","justifyContent","Skeleton","width","Paper","CardSkeleton","TableSkeleton","rows","animation","Typography","Tooltip","title","IconButton","onClick","bgcolor","ViewModule","Button","startIcon","Refresh","disabled","borderRadius","transition","transform","boxShadow","shadows","Upload","Add","SavedViews","elevation","position","zIndex","background","flexWrap","Close","e","Person","animationDelay","animationFillMode","Grid","container","item","xs","md","TextField","fullWidth","placeholder","InputProps","InputAdornment","Search","endAdornment","Clear","borderWidth","borderImage","icon","FilterList","Sort","EmptyState","Business","actionLabel","onAction","_Fragment","Checkbox","checked","indeterminate","TableContainer","component","Table","TableHead","TableRow","TableCell","padding","align","TableBody","index","isSelected","hover","selected","closest","cursor","className","charAt","toUpperCase","replace","onMouseDown","MenuProps","PaperProps","mt","success","warning","secondary","info","Visibility","Edit","Pagination","showFirstButton","showLastButton","Dialog","onClose","DialogTitle","DialogContent","DialogActions","Snackbar","autoHideDuration","Alert","options","arguments","rootMargin","triggerOnce","elementRef","isVisible","setIsVisible","observer","IntersectionObserver","entry","isIntersecting","unobserve","currentElement","observe","Icon","flexDirection","sm","textAlign","opacity","to","backdropFilter","border","content","left","right","bottom","WebkitBackgroundClip","WebkitTextFillColor","backgroundClip","letterSpacing","lineHeight","_ref2","Card","CardContent","flex","pt","borderTop","params","queryString","URLSearchParams","toString","api","get","data","getProperty","createProperty","post","propertyData","put","uploadImages","imageFiles","formData","FormData","file","append","headers","uploadDocuments","documentFiles","removeImage","imageIndex","removeDocument","documentIndex","importProperties","exportProperties","responseType","getTemplate","format","getMapProperties","bounds","logInquiry","inquiryData"],"sourceRoot":""}
{"level":"warn","message":"‚ö†Ô∏è  Redis URL not configured - caching disabled","service":"cre-crm-app","timestamp":"2026-01-15 00:28:20"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"9d1d7354-0e53-4b9c-82fd-941822e896c9","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"c496cd87-dbb1-4942-ab52-0dbca231c322","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"6dad14e0-b511-4363-a7df-eb6ff47a1cff","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"880f973f-ce85-46ba-8a15-0eb32b86a767","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"1c5ebf91-f3c5-4f92-9b63-1bc329010091","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26","user":"anonymous"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:43:26","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:43:26","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:43:26","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:43:26","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:43:26","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:43:26","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:43:26","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:43:26","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"6e9036f9-3bd3-4324-a042-897679b89a69","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"aff83434-0168-4152-9717-9329dc0b5bce","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"a7da09b1-f6f9-481a-bd5d-07172e212a7f","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["b741f82d-6733-4fb8-9fcc-6c57ee713a96","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:43:26.575 +00:00","2026-01-15 05:43:26.575 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["b741f82d-6733-4fb8-9fcc-6c57ee713a96","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:43:26.575 +00:00","2026-01-15 05:43:26.575 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["b741f82d-6733-4fb8-9fcc-6c57ee713a96","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:43:26.575 +00:00","2026-01-15 05:43:26.575 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:43:26"}
{"category":"database","errorCount":1,"errorId":"446433c8-ace9-4bce-be3b-cf978e963507","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:43:26","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["5ec7002c-6de9-4dba-bed7-e3d57c02d456","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:43:26.587 +00:00","2026-01-15 05:43:26.587 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["5ec7002c-6de9-4dba-bed7-e3d57c02d456","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:43:26.587 +00:00","2026-01-15 05:43:26.587 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["5ec7002c-6de9-4dba-bed7-e3d57c02d456","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:43:26.587 +00:00","2026-01-15 05:43:26.587 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:43:26"}
{"category":"database","errorCount":2,"errorId":"8e49b09d-f0f7-4326-b68c-ef36d4775a0f","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:43:26","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"35dae5c9-5efd-4475-a7f2-0a86fb1b219c","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"09528d92-54bb-43c9-9716-ff37800546bf","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["59085225-01d1-4d41-aeb0-9412f6c97149","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:43:26.596 +00:00","2026-01-15 05:43:26.596 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["59085225-01d1-4d41-aeb0-9412f6c97149","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:43:26.596 +00:00","2026-01-15 05:43:26.596 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["59085225-01d1-4d41-aeb0-9412f6c97149","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:43:26.596 +00:00","2026-01-15 05:43:26.596 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:43:26"}
{"category":"database","errorCount":3,"errorId":"a0262f6a-ff71-43df-9042-1fe1732ad3e4","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:43:26","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"693bdd53-485d-4a1e-8cc2-35bc97b4d10f","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"ec4b123d-8881-4b53-88ff-e5e2ad80cfb0","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"d44494a9-1ed5-4961-8a0b-76ed35c60886","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"4e4ccf02-9dad-430f-9a4f-59899bf5b64a","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"42cae7f7-b6ac-40e0-b480-6241944c421a","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"d7e438d6-397d-4586-9050-92f124992edb","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"ba4b1d33-24cb-4939-a1cd-9f690029b996","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"2bac1506-f5f5-4d88-a45a-3d62185a3f7b","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:43:26"}
{"category":"database","errorCount":1,"errorId":"88c747a3-2e54-46a8-b302-4da2d05ea858","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:43:26","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"88c747a3-2e54-46a8-b302-4da2d05ea858","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:43:26.627Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:43:26"}
{"category":"database","errorCount":2,"errorId":"a2da20e6-742a-441f-ad56-d003eb5d2d22","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:43:26","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"a2da20e6-742a-441f-ad56-d003eb5d2d22","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:43:26.637Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Update user error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE (\"User\".\"deleted_at\" IS NULL AND \"User\".\"id\" = '00000000-0000-0000-0000-000000000003');"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE (\"User\".\"deleted_at\" IS NULL AND \"User\".\"id\" = '00000000-0000-0000-0000-000000000003');"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE (\"User\".\"deleted_at\" IS NULL AND \"User\".\"id\" = '00000000-0000-0000-0000-000000000003');","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1955:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:218:18","timestamp":"2026-01-15 00:43:26"}
{"category":"database","errorCount":1,"errorId":"043f2bcd-5894-4d4e-9b0b-317ef27d3107","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"PUT","path":"/api/users/00000000-0000-0000-0000-000000000003","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1955:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:218:18","statusCode":500,"timestamp":"2026-01-15 00:43:26","type":"database_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"category":"database","errorId":"043f2bcd-5894-4d4e-9b0b-317ef27d3107","level":"error","message":"Database operation failed","method":"PUT","path":"/api/users/00000000-0000-0000-0000-000000000003","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1955:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:218:18","timestamp":"2026-01-15T05:43:26.649Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"ec5fdeb1-a95c-4986-a8c0-28e709cd9ca9","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"0c0dc1be-3a7e-450b-b631-30cde0137e53","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"39e06415-4cf2-4674-baa2-e738b0580d40","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"3d7f1ff6-be3b-4b4d-b869-76f0acee3d3f","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"527ce2bf-ec17-42d6-85e0-17ec60e64346","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"8a7d3286-2f5b-4bb7-be53-3f8b8fb77fe0","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"f862477d-284c-417d-b891-6b364343b359","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"b4ea559d-b8ab-4812-b38d-97681e937d2d","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"02ea00d6-cea5-4eaa-9280-a2811728270c","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":1,"timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":1,"timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":3,"timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":4,"timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":5,"timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":5,"timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":6,"timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":9,"timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":10,"timestamp":"2026-01-15 00:43:26"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26","user":"anonymous"}
{"details":{},"error":"Validation failed","errorId":"30aab668-08fa-4965-9fcb-2b13242c2877","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"details":{},"error":"Validation failed","errorId":"b9eb5113-680b-4f72-aa40-d35b846a889f","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:43:26"}
{"level":"warn","message":"‚ö†Ô∏è  Redis URL not configured - caching disabled","service":"cre-crm-app","timestamp":"2026-01-15 00:51:19"}
{"level":"warn","message":"‚ö†Ô∏è  Redis URL not configured - caching disabled","service":"cre-crm-app","timestamp":"2026-01-15 00:51:53"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"bc7eb613-9f06-4813-bbd8-197bb1a157ef","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"f3ea21b4-a84a-4a11-97be-7f7645d2dc17","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"fe51cdfc-939f-4f4d-b8e5-330f484fc01e","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"6df8b433-a506-4007-9252-2921c6a70452","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"db3979a2-b8e4-4ee2-8471-da94a5494a51","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54","user":"anonymous"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:51:54","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:51:54","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:51:54","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:51:54","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:51:54","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:51:54","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:51:54","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:51:54","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"d67a6c7d-077d-471e-ae4d-68abdf6b02b6","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"bbc53fc4-bc43-4a8f-8260-c30c7b15a71a","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"282496fc-dbbd-4090-8861-21bb9f4dc3c2","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["f85c326c-7448-4d50-852e-fa500e586db2","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:54.545 +00:00","2026-01-15 05:51:54.545 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["f85c326c-7448-4d50-852e-fa500e586db2","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:54.545 +00:00","2026-01-15 05:51:54.545 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["f85c326c-7448-4d50-852e-fa500e586db2","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:54.545 +00:00","2026-01-15 05:51:54.545 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:51:54"}
{"category":"database","errorCount":1,"errorId":"765c0401-3f6b-4298-8e28-2cd4c6255eac","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:51:54","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["5d954dcb-67d7-43c0-8d58-c3cbd6cb50e2","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:54.560 +00:00","2026-01-15 05:51:54.560 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["5d954dcb-67d7-43c0-8d58-c3cbd6cb50e2","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:54.560 +00:00","2026-01-15 05:51:54.560 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["5d954dcb-67d7-43c0-8d58-c3cbd6cb50e2","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:54.560 +00:00","2026-01-15 05:51:54.560 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:51:54"}
{"category":"database","errorCount":2,"errorId":"73f649c8-0734-4725-a774-1525e3ed904d","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:51:54","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"e856fe32-f894-455b-a7b3-dfdca2a9ba3b","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"28e6ad2a-350c-41ee-8fec-709a92223b06","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["59285741-c98d-47a2-9ac5-e25e81536d9b","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:54.569 +00:00","2026-01-15 05:51:54.569 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["59285741-c98d-47a2-9ac5-e25e81536d9b","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:54.569 +00:00","2026-01-15 05:51:54.569 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["59285741-c98d-47a2-9ac5-e25e81536d9b","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:54.569 +00:00","2026-01-15 05:51:54.569 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:51:54"}
{"category":"database","errorCount":3,"errorId":"94006876-043e-4323-bcb9-00cbcf189371","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:51:54","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"f894f03c-14d7-484a-ae1b-56630e899a57","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"3a377704-10e7-4875-a4a2-6998a990cd97","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"6d0668f0-b0df-42ab-9e26-698c6363af43","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"8d2d5938-e98d-4ba8-98ae-dd2c9b87959b","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"c981b9a6-d755-4985-9630-a0d9cc776700","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"e2b49b46-3aad-40a4-84d5-db5ea550435f","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"e151d97c-3953-4252-a712-04e927b065a0","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"02b5e1af-c72b-40df-a0a1-b105318a22ac","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:51:54"}
{"category":"database","errorCount":1,"errorId":"e8d2edec-c7d2-4894-ac07-7cce3ed0fb1e","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:51:54","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"e8d2edec-c7d2-4894-ac07-7cce3ed0fb1e","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:51:54.600Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:51:54"}
{"category":"database","errorCount":2,"errorId":"ad516590-89a6-41e4-8bbb-bd6ca93ee656","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:51:54","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"ad516590-89a6-41e4-8bbb-bd6ca93ee656","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:51:54.608Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"details":{},"error":"Validation failed","errorId":"adcbfb88-180b-4b03-904e-fe01ac91e140","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"301ceb02-893e-4eba-8704-7d54189d2b68","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"46f40278-1403-493f-a3bf-205e5fbe7325","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"e9192eb9-18c7-4af9-88ec-f38b2261668d","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"4aa6103d-c7bb-4b2a-8136-08a9b2e7b841","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"aee5d1ac-c54a-4a45-9dea-6ddfed04539b","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"9a257c5b-e061-465f-a0e7-bc7d802145de","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"d624170f-b421-4625-84f1-e810f1823239","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"96b7ee07-e28d-4ef5-a09f-7bc8639e3977","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":0,"timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":2,"timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":3,"timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":4,"timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":5,"timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":6,"timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":7,"timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":8,"timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":11,"timestamp":"2026-01-15 00:51:54"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54","user":"anonymous"}
{"details":{},"error":"Validation failed","errorId":"e434ae3f-15da-427f-be5b-a590f4b67da9","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"details":{},"error":"Validation failed","errorId":"9c7ff54c-59ba-4d68-ba06-453450b32c2f","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:54"}
{"level":"warn","message":"‚ö†Ô∏è  Redis URL not configured - caching disabled","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"539fd02e-52df-4356-8880-646cc11b65ef","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"82ec53ad-e65d-4752-a554-4854d5c4413c","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"d5f24796-5128-472a-9553-17c0cfd59b60","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"b3fd0793-248e-446e-abf4-54ffbed63600","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"4dc3d984-7906-4cb3-8688-57262d1ab899","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59","user":"anonymous"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:51:59","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:51:59","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:51:59","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:51:59","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:51:59","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:51:59","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:51:59","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:51:59","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"d969c10d-914d-4f16-9437-f6604e83451a","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"8c4ea398-0f7f-45cb-81fd-a193dd756d29","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"d58e4830-8fd3-4892-831d-939ac11c11d8","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["490035a6-e8a1-405e-99f7-f48a37d0d6b8","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:59.686 +00:00","2026-01-15 05:51:59.686 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["490035a6-e8a1-405e-99f7-f48a37d0d6b8","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:59.686 +00:00","2026-01-15 05:51:59.686 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["490035a6-e8a1-405e-99f7-f48a37d0d6b8","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:59.686 +00:00","2026-01-15 05:51:59.686 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:51:59"}
{"category":"database","errorCount":1,"errorId":"7e5cd073-e3dc-4d41-8405-ddf898232e25","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:51:59","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["c7e5095c-b610-4204-8933-2275fcf1f3f0","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:59.695 +00:00","2026-01-15 05:51:59.695 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["c7e5095c-b610-4204-8933-2275fcf1f3f0","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:59.695 +00:00","2026-01-15 05:51:59.695 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["c7e5095c-b610-4204-8933-2275fcf1f3f0","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:59.695 +00:00","2026-01-15 05:51:59.695 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:51:59"}
{"category":"database","errorCount":2,"errorId":"ac5a7de9-b31c-44eb-b5cb-2c51030fa7e6","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:51:59","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"24f18fd2-f11e-4976-9cd3-b88dea5921a4","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"6725dbaf-9fc3-4b4f-867c-bbd0df94d5d7","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["8b07e24f-1182-41c8-9283-9bc9f40e311b","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:59.704 +00:00","2026-01-15 05:51:59.704 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["8b07e24f-1182-41c8-9283-9bc9f40e311b","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:59.704 +00:00","2026-01-15 05:51:59.704 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["8b07e24f-1182-41c8-9283-9bc9f40e311b","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:59.704 +00:00","2026-01-15 05:51:59.704 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:51:59"}
{"category":"database","errorCount":3,"errorId":"64e8cae1-02b5-4956-a17c-36bd6dfac951","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:51:59","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"351b8150-bb68-4717-9edf-b9f4d736dbf6","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"8fe605fa-776f-4711-a5c0-bda8045c797c","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"054e1705-5ac7-40e6-882e-e44ea59c31c9","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"acb296fd-4260-4e94-b77f-7e5c8d6f91e8","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"5a0e8e2b-f9a3-411a-bdb0-60343af81eda","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"6158eae8-9ddb-4f15-9410-41c7b59ec761","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"a83077fb-b201-4776-920f-84f174ffa35a","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"82fe10a5-39a5-4bbd-b34a-11f2db3c511b","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:51:59"}
{"category":"database","errorCount":1,"errorId":"8960b57e-ca70-4905-8f5a-4828ec4c4914","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:51:59","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"8960b57e-ca70-4905-8f5a-4828ec4c4914","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:51:59.736Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:51:59"}
{"category":"database","errorCount":2,"errorId":"aecd9a10-0f77-4915-b2b9-45d89d0868aa","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:51:59","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"aecd9a10-0f77-4915-b2b9-45d89d0868aa","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:51:59.745Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"details":{},"error":"Validation failed","errorId":"a1f3aa3e-086d-444a-a4f3-233b0ce3dbbe","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"a7308735-5fd2-42e3-8ea7-b394deb60229","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"1e30d47c-170c-413e-be4b-7798cc7a97a2","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"92db9ca8-91af-4f87-a547-f74050c89692","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"e18274df-5a6c-4c8b-9324-82e154594b00","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"da009be7-70e8-49ae-98ac-cb59b496e166","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"455e97ba-4de4-481f-9c15-f17b8a9525f8","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"5a68aa22-bb2f-4bb9-a3e8-efa729a281f2","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"60c0f668-2552-4435-b3e3-81f7f399f071","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":0,"timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":1,"timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":3,"timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":4,"timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":5,"timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":6,"timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":7,"timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":8,"timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":10,"timestamp":"2026-01-15 00:51:59"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59","user":"anonymous"}
{"details":{},"error":"Validation failed","errorId":"4a7a951e-ef3d-40ab-9d83-952fab80eb3f","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"details":{},"error":"Validation failed","errorId":"48c92740-6389-45e8-bc50-305bd5ad6d46","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:51:59"}
{"level":"warn","message":"‚ö†Ô∏è  Redis URL not configured - caching disabled","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"3d57205f-7f67-4953-a054-9167749d026a","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"e21faea4-24d3-47ec-b66a-45e2a0e80cd7","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"2f79acc4-ef31-4f53-90fc-ed9b7e3920b8","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"1e9683c3-49be-409d-ad9f-4f6a864e9018","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"6efab581-cede-4ec2-9223-99e0bb42426a","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04","user":"anonymous"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:52:04","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:52:04","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:52:04","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:52:04","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:52:04","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:52:04","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:52:04","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:52:04","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"ce01f3cb-ccd4-43b5-b30d-89e04b0dc21d","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"9a4e053b-35c5-4e14-92c8-58301fc757bf","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"643421c6-5baa-46fe-ae50-d9a5a94fccdc","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["a2321f1f-3c16-4019-a1a9-e9b3eebe4828","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:04.673 +00:00","2026-01-15 05:52:04.673 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["a2321f1f-3c16-4019-a1a9-e9b3eebe4828","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:04.673 +00:00","2026-01-15 05:52:04.673 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["a2321f1f-3c16-4019-a1a9-e9b3eebe4828","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:04.673 +00:00","2026-01-15 05:52:04.673 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:52:04"}
{"category":"database","errorCount":1,"errorId":"4dbc29b1-bc4a-4303-bbae-a39ac81803cb","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:52:04","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["044f646c-6b8b-466c-aafb-ae426d4bf51f","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:04.683 +00:00","2026-01-15 05:52:04.683 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["044f646c-6b8b-466c-aafb-ae426d4bf51f","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:04.683 +00:00","2026-01-15 05:52:04.683 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["044f646c-6b8b-466c-aafb-ae426d4bf51f","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:04.683 +00:00","2026-01-15 05:52:04.683 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:52:04"}
{"category":"database","errorCount":2,"errorId":"257af0c1-2dad-4083-8b68-5eed7b7f8ae3","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:52:04","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"ae556074-2806-48d7-bbf0-eb64d4ed2389","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"9203bfdb-f1c3-4794-8261-473404b85881","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["2f5cd37f-8039-4d40-a3bf-827a3a52f282","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:04.692 +00:00","2026-01-15 05:52:04.692 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["2f5cd37f-8039-4d40-a3bf-827a3a52f282","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:04.692 +00:00","2026-01-15 05:52:04.692 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["2f5cd37f-8039-4d40-a3bf-827a3a52f282","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:04.692 +00:00","2026-01-15 05:52:04.692 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:52:04"}
{"category":"database","errorCount":3,"errorId":"95587439-d410-4f56-b182-705424eb6242","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:52:04","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"675f274f-2905-44ac-8d0b-739f915dfe73","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"ab0efab1-c1e3-41e6-9180-ee58ce0060a2","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"401e9a13-e6f1-436f-8139-fe208262e6fc","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"70ba2b38-563c-4ee1-8d82-9f903d128666","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"c9715d09-791b-4552-8ea7-9dd49785f7c7","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"51df2ba0-b9fc-422d-95c2-7618b73cfa35","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"97040dec-b259-4266-8135-2b9c93a9b5b3","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"ce4baf74-fa81-4546-9149-7a9221c91675","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:52:04"}
{"category":"database","errorCount":1,"errorId":"cd18ee95-bb1d-4d25-b4e1-34a8fc56cea0","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:52:04","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"cd18ee95-bb1d-4d25-b4e1-34a8fc56cea0","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:52:04.723Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:52:04"}
{"category":"database","errorCount":2,"errorId":"91c50996-5d25-4d56-b676-d34907e0aaa2","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:52:04","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"91c50996-5d25-4d56-b676-d34907e0aaa2","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:52:04.731Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"details":{},"error":"Validation failed","errorId":"20ecd719-3b8c-4629-ab41-77177b3b68cf","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"0bb7534b-7a30-412d-a8bf-3835606a5ba4","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"ada09914-4575-4c49-b5f2-f8c9f69e5978","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"85d9ff31-3cdc-47ea-abb5-629f0f28fcc2","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"fc39d6a6-9de6-4a35-9e71-ba8caa6e6223","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"85475c5b-51f9-4d7d-9e81-268e6cd89ac7","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"d6e1ce4e-4ec6-4528-981b-79bdfe54778a","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"2786ccd1-e81f-41dd-92ef-fb0636c4c217","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"a7249c4d-8abf-4e7b-9cc8-d1525262f607","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":0,"timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":1,"timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":2,"timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":3,"timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":4,"timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":9,"timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":10,"timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":12,"timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":13,"timestamp":"2026-01-15 00:52:04"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04","user":"anonymous"}
{"details":{},"error":"Validation failed","errorId":"09432b2b-ccab-4c47-992f-ab33d8d9e761","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"details":{},"error":"Validation failed","errorId":"4a773b75-4f50-40a1-bfc5-cd1e51f1d3e0","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:04"}
{"level":"warn","message":"‚ö†Ô∏è  Redis URL not configured - caching disabled","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"8135d835-9934-4952-b27a-e3c6275ea2cc","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"95c23d5f-bb8b-45e5-bbd4-7f77e42ac8d6","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"90bc2f87-4dff-42b9-b87f-4e5e3c1b4ae3","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"dc5465ff-e6b4-4687-8dcc-19b930b70b3f","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"f9292912-2006-4b2e-86e5-1b4b9f28760d","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25","user":"anonymous"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:52:25","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:52:25","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:52:25","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:52:25","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:52:25","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:52:25","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:52:25","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:52:25","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"8787fdad-3da1-40d0-85ce-8df4d5f55309","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"ac85d361-94b2-474f-abd2-2bfcfe062170","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"b7b98311-5929-47d7-999a-69516ab0a2fa","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["bd708acb-d7fa-4f39-a92b-5c6ebe2c1f6b","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:25.885 +00:00","2026-01-15 05:52:25.885 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["bd708acb-d7fa-4f39-a92b-5c6ebe2c1f6b","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:25.885 +00:00","2026-01-15 05:52:25.885 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["bd708acb-d7fa-4f39-a92b-5c6ebe2c1f6b","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:25.885 +00:00","2026-01-15 05:52:25.885 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:52:25"}
{"category":"database","errorCount":1,"errorId":"30305f98-63fa-4913-8161-00c3012a4af0","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:52:25","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["61e0d5bd-371d-49db-a423-0859aca16bb4","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:25.895 +00:00","2026-01-15 05:52:25.895 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["61e0d5bd-371d-49db-a423-0859aca16bb4","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:25.895 +00:00","2026-01-15 05:52:25.895 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["61e0d5bd-371d-49db-a423-0859aca16bb4","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:25.895 +00:00","2026-01-15 05:52:25.895 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:52:25"}
{"category":"database","errorCount":2,"errorId":"00be4c03-b7b0-4442-97be-3b6d2ecf99d9","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:52:25","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"bc9c535c-7918-4305-a6f3-a260d4cc64c9","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"9fddb298-5b8d-49e8-a712-2b1bea8295c3","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["537f6f34-e314-4fef-8c85-2711343fa1bd","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:25.904 +00:00","2026-01-15 05:52:25.904 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["537f6f34-e314-4fef-8c85-2711343fa1bd","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:25.904 +00:00","2026-01-15 05:52:25.904 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["537f6f34-e314-4fef-8c85-2711343fa1bd","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:25.904 +00:00","2026-01-15 05:52:25.904 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:52:25"}
{"category":"database","errorCount":3,"errorId":"0099efcb-b6da-4d9b-9c51-834d9e054e90","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:52:25","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"6621bec6-35ae-448f-902b-6881b80c1e7f","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"3765fb45-d771-4cb0-b0ca-7b486efdee6f","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"4e109e6d-2feb-449b-8b86-33b68fe015e3","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"a48296cb-85bf-41fd-aec1-0078e4e3e522","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"fc5cb7bb-ba28-4aa3-ab9a-f514a0ba97a6","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"2172dc6d-3d4f-4767-9878-549be2d53489","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"e0c0417e-83ea-42dd-b318-65749d631c73","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"8bdf1866-4cb9-4b9d-8546-4b534466b93c","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:52:25"}
{"category":"database","errorCount":1,"errorId":"37d122dc-16f1-4665-9e42-9cb56d23c905","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:52:25","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"37d122dc-16f1-4665-9e42-9cb56d23c905","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:52:25.937Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:52:25"}
{"category":"database","errorCount":2,"errorId":"ff036b4b-b7f2-4941-bbf3-3a3a3f95d9e8","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:52:25","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"ff036b4b-b7f2-4941-bbf3-3a3a3f95d9e8","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:52:25.947Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"details":{},"error":"Validation failed","errorId":"ea409ad3-f02b-4736-94da-1dafffa8a57c","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"6474ff76-090f-47af-9a8b-b14728c4e06e","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"088d06a7-0759-4b16-acc6-776036a71d78","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"c2ffa4a6-1f69-4876-921d-aa809984ce2b","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"6ea9581d-6fa4-4d66-9ba4-25be9014a3a3","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"8dfdc157-82e5-4505-8200-2a29e43e33ad","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"9a70bbb8-ab4e-4d78-a64e-6f7b5777585c","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"f07ae1c7-a060-4acc-acbd-009898cf7b39","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"details":{},"error":"Validation failed","errorId":"640f7f99-03db-4003-9311-c3c55b765410","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":1,"timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":1,"timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":3,"timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":4,"timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":5,"timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":6,"timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":7,"timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":9,"timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":10,"timestamp":"2026-01-15 00:52:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:52:25","user":"anonymous"}
{"details":{},"error":"Validation failed","errorId":"d6172354-ee6a-403c-ba1f-ebfc00cb63a2","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:26"}
{"details":{},"error":"Validation failed","errorId":"7541bb3d-2697-4a3e-953c-d87517c6431c","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:52:26"}
{"level":"warn","message":"‚ö†Ô∏è  Redis URL not configured - caching disabled","service":"cre-crm-app","timestamp":"2026-01-15 00:52:33"}
{"level":"warn","message":"‚ö†Ô∏è  Redis URL not configured - caching disabled","service":"cre-crm-app","timestamp":"2026-01-15 00:53:03"}
{"level":"warn","message":"‚ö†Ô∏è  Redis URL not configured - caching disabled","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"c407886c-4957-425a-82d7-70556b419bce","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"fe34ad87-db9a-41d7-84e0-ff8a682f34c5","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"6c913cf9-d59f-4862-90d1-2164ccca12d5","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"ade1e960-f979-4279-82e6-7a8a17d908ed","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"a90c6f9e-877a-495e-b719-936eee6cf355","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24","user":"anonymous"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:53:24","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:53:24","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:53:24","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:53:24","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:53:24","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:53:24","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:53:24","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:53:24","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"3293e865-c892-47a8-a2a4-f26acae6519f","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"7d4a2afb-0f44-4faa-b878-09f93b813965","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"af90fea9-e1aa-4141-812f-33260a70d57e","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["c39d4361-bd79-4bfd-a0b8-ac93d8222a03","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:24.908 +00:00","2026-01-15 05:53:24.908 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["c39d4361-bd79-4bfd-a0b8-ac93d8222a03","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:24.908 +00:00","2026-01-15 05:53:24.908 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["c39d4361-bd79-4bfd-a0b8-ac93d8222a03","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:24.908 +00:00","2026-01-15 05:53:24.908 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:53:24"}
{"category":"database","errorCount":1,"errorId":"af1b9bbf-9cf9-4481-83dc-1053162f28df","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:53:24","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["c472492d-7778-4017-bc1f-b7ee67e6ed55","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:24.920 +00:00","2026-01-15 05:53:24.920 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["c472492d-7778-4017-bc1f-b7ee67e6ed55","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:24.920 +00:00","2026-01-15 05:53:24.920 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["c472492d-7778-4017-bc1f-b7ee67e6ed55","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:24.920 +00:00","2026-01-15 05:53:24.920 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:53:24"}
{"category":"database","errorCount":2,"errorId":"85563086-3fd5-46b8-9bb6-a60235e9f4e0","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:53:24","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"cbc5f001-a988-459a-a95c-e0154319f75b","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"93e73b47-0d1e-4c8f-93eb-794466e78cdf","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["3a90a48b-cd91-4659-8f3c-569d8fa0591a","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:24.929 +00:00","2026-01-15 05:53:24.929 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["3a90a48b-cd91-4659-8f3c-569d8fa0591a","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:24.929 +00:00","2026-01-15 05:53:24.929 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["3a90a48b-cd91-4659-8f3c-569d8fa0591a","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:24.929 +00:00","2026-01-15 05:53:24.929 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:53:24"}
{"category":"database","errorCount":3,"errorId":"22323b8d-22da-48b5-8ad5-b371b6589875","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:53:24","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"e87f8fa0-b1a4-42d9-a579-121cd963ea3f","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"f16f0837-5c2a-4cf4-99ee-11016c5a7800","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"9330a6df-f658-436b-856b-9fa1ee50de45","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"ddbef0e7-b5dc-4391-90c2-59333b04202b","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"937b2070-dfef-4c38-abc5-704e4d3b3771","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"667faa1f-5927-4010-b45a-87a6b1171201","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"982af977-2679-4a39-a0ad-fdd3093bfb50","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"2b974828-bdba-4fa1-bfe0-bd5b151f66ca","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:53:24"}
{"category":"database","errorCount":1,"errorId":"5e524d98-883f-4144-b610-05e3c2c06cf5","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:53:24","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"5e524d98-883f-4144-b610-05e3c2c06cf5","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:53:24.961Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:53:24"}
{"category":"database","errorCount":2,"errorId":"28f75272-b156-4347-8c4e-427e4aa32027","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:53:24","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"28f75272-b156-4347-8c4e-427e4aa32027","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:53:24.969Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"details":{},"error":"Validation failed","errorId":"74e021f9-c072-47c4-b5fb-c075f2304397","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"b2fae8b8-e3dc-4335-84cc-cdc1283af3cc","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"3a8d7282-d9c2-423a-9411-a3899d77e85e","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"18effba1-635b-41d3-93d1-f3535b9f0d62","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"3958ba91-85b6-4901-a96a-f693ff9ea197","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"00167601-d9cf-4e6f-a674-3a0fe04682f5","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"6bab2e24-cf66-4252-bf89-2229031d7415","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"4bde9fee-03d6-4860-ab6c-6adb62e01a15","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:24"}
{"details":{},"error":"Validation failed","errorId":"3fd79157-a245-4d01-b317-ca0f229506c0","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":1,"timestamp":"2026-01-15 00:53:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":2,"timestamp":"2026-01-15 00:53:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":3,"timestamp":"2026-01-15 00:53:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":6,"timestamp":"2026-01-15 00:53:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":7,"timestamp":"2026-01-15 00:53:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":8,"timestamp":"2026-01-15 00:53:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":9,"timestamp":"2026-01-15 00:53:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":10,"timestamp":"2026-01-15 00:53:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":11,"timestamp":"2026-01-15 00:53:25"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25","user":"anonymous"}
{"details":{},"error":"Validation failed","errorId":"28d998eb-e8ce-40e4-9ee4-c3e0873a5453","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25"}
{"details":{},"error":"Validation failed","errorId":"2835edd3-781c-474f-95a9-827adc949ca6","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:25"}
{"level":"warn","message":"‚ö†Ô∏è  Redis URL not configured - caching disabled","service":"cre-crm-app","timestamp":"2026-01-15 00:53:29"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"650c0b63-756d-4413-a69b-b7f9c4b0b092","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"3a528633-4fb0-464d-b42b-9f9755872014","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"ee78f1c9-5a0b-4a95-9cf6-d55101880f41","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"15782b5c-2426-4aa0-8ec9-cd64bcceb2e0","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"7fe03ec1-f3d1-42f2-8bef-1193c4a1bc9e","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30","user":"anonymous"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:53:30","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:53:30","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:53:30","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:53:30","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:53:30","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:53:30","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:53:30","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:53:30","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"1771b475-a94b-4a78-af6c-35499b581763","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"c27b1629-5b0c-45b5-95b7-55bc5c90e151","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"735960a5-fed4-4df9-bc3e-c7b3cf505e49","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["00367483-3afd-4378-97da-1d77a947291d","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:30.434 +00:00","2026-01-15 05:53:30.434 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["00367483-3afd-4378-97da-1d77a947291d","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:30.434 +00:00","2026-01-15 05:53:30.434 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["00367483-3afd-4378-97da-1d77a947291d","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:30.434 +00:00","2026-01-15 05:53:30.434 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:53:30"}
{"category":"database","errorCount":1,"errorId":"9a278394-c52a-474a-8718-6ef1e6e90751","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:53:30","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["5414eafd-5245-4e8f-ae41-999808410b37","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:30.444 +00:00","2026-01-15 05:53:30.444 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["5414eafd-5245-4e8f-ae41-999808410b37","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:30.444 +00:00","2026-01-15 05:53:30.444 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["5414eafd-5245-4e8f-ae41-999808410b37","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:30.444 +00:00","2026-01-15 05:53:30.444 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:53:30"}
{"category":"database","errorCount":2,"errorId":"a21c38af-d79c-4e52-a6c3-dc5309f0e925","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:53:30","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"47f38913-c0e0-40a7-99bb-eb75d38d3780","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"ff0f9a79-fe3e-4bd3-a297-b018e9045997","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["06553148-b7a7-4a6d-aa66-b38a2c60ebf8","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:30.453 +00:00","2026-01-15 05:53:30.453 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["06553148-b7a7-4a6d-aa66-b38a2c60ebf8","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:30.453 +00:00","2026-01-15 05:53:30.453 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["06553148-b7a7-4a6d-aa66-b38a2c60ebf8","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:30.453 +00:00","2026-01-15 05:53:30.453 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:53:30"}
{"category":"database","errorCount":3,"errorId":"af84b804-6527-4ebb-8f49-94cdb3d26d43","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:53:30","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"905fe5a9-c9cc-4472-866a-ef5927b22b7e","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"9b224b59-3103-4dcc-84d4-ddfff0d27429","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"ebcf9dcf-813f-4844-94c4-4272529a5d1d","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"26fa875d-8873-4b0d-b5c6-9ee22438d657","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"f9047f1b-37fc-4f2f-a51b-5de00e2731db","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"29ea565d-812f-4e4e-9279-c5487f9316ba","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"08f3a5b9-89dc-4de8-ab68-566228777383","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"689ecb5e-c7df-485d-8651-5525c3c50d90","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:53:30"}
{"category":"database","errorCount":1,"errorId":"ca839345-d3ee-4eac-a7da-7570597bfe47","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:53:30","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"ca839345-d3ee-4eac-a7da-7570597bfe47","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:53:30.487Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:53:30"}
{"category":"database","errorCount":2,"errorId":"137af324-eac2-43ac-88a5-a2bfafcd2c03","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:53:30","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"137af324-eac2-43ac-88a5-a2bfafcd2c03","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:53:30.495Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"details":{},"error":"Validation failed","errorId":"0f25880f-19ce-45db-9e3e-295ffe683fdb","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"8f08ae6d-41b7-43a0-880f-97891a78ef10","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"ad884ce0-1d8b-488c-b824-f3fec414a924","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"425281cb-cbb0-49a7-ad9e-e7dec176c828","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"efbe4ee9-5da7-448b-9656-90e4e999b999","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"3fb952be-bd79-4c63-b05d-512ef4e4b86b","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"3b7a71f6-1ae1-4adc-9630-bbd19ad55bff","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"b6ed21e7-ee91-4563-88a0-bc2b8b7d2d7a","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"34945c86-c877-4d0c-849c-71fe8d745a8d","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":1,"timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":2,"timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":3,"timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":4,"timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":5,"timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":6,"timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":7,"timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":8,"timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":9,"timestamp":"2026-01-15 00:53:30"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30","user":"anonymous"}
{"details":{},"error":"Validation failed","errorId":"aa7328fb-2265-4bf4-9cd5-dc0b027e54d0","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"details":{},"error":"Validation failed","errorId":"28d9355a-eb93-4fbb-a8d4-5c4a83657156","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:30"}
{"level":"warn","message":"‚ö†Ô∏è  Redis URL not configured - caching disabled","service":"cre-crm-app","timestamp":"2026-01-15 00:53:32"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:53:32"}
{"details":{},"error":"Validation failed","errorId":"0584c1ec-fd77-40ed-8eeb-45fd41575cb9","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:53:32"}
{"level":"warn","message":"‚ö†Ô∏è  Redis URL not configured - caching disabled","service":"cre-crm-app","timestamp":"2026-01-15 00:54:23"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"0b8e9788-112f-4f8f-a1a2-aa4824e118de","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"6d517ee6-3318-4556-8c07-b25be5c1b49c","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"b1c88650-9a54-43ea-b7a1-c7657e4e2e8a","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"8e23fe88-e6a7-4488-a8a2-1f9b21752025","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"b58e6839-c0b8-4b7c-be4b-bdaad3cb55be","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24","user":"anonymous"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:54:24","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:54:24","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:54:24","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:54:24","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:54:24","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:54:24","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:54:24","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:54:24","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"078bb6f4-438b-461c-8f09-45c4b94a2da4","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"c0edf1fd-ae51-42d6-89eb-567ed78b9d93","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"1aa9ee09-3940-401f-aa6f-de481a3d14b9","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["9a776798-b321-48d8-857e-8fcbd2bcd104","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:54:24.703 +00:00","2026-01-15 05:54:24.703 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["9a776798-b321-48d8-857e-8fcbd2bcd104","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:54:24.703 +00:00","2026-01-15 05:54:24.703 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["9a776798-b321-48d8-857e-8fcbd2bcd104","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:54:24.703 +00:00","2026-01-15 05:54:24.703 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:54:24"}
{"category":"database","errorCount":1,"errorId":"066149a3-ba03-4a89-972c-71593d6b41fc","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:54:24","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["bca4a992-80a9-4ab1-a2ea-6aaddfc9b691","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:54:24.729 +00:00","2026-01-15 05:54:24.729 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["bca4a992-80a9-4ab1-a2ea-6aaddfc9b691","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:54:24.729 +00:00","2026-01-15 05:54:24.729 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["bca4a992-80a9-4ab1-a2ea-6aaddfc9b691","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:54:24.729 +00:00","2026-01-15 05:54:24.729 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:54:24"}
{"category":"database","errorCount":2,"errorId":"3fba983c-4291-49e1-9868-dde3e13b3d75","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:54:24","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"485abf91-5633-4502-884d-87e51ed35af8","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"f2c1cfe7-26d8-43ef-bf7b-2d123b762db9","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["fe8206f8-cabb-45e6-959d-2c618faaa6d2","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:54:24.739 +00:00","2026-01-15 05:54:24.739 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["fe8206f8-cabb-45e6-959d-2c618faaa6d2","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:54:24.739 +00:00","2026-01-15 05:54:24.739 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["fe8206f8-cabb-45e6-959d-2c618faaa6d2","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:54:24.739 +00:00","2026-01-15 05:54:24.739 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:54:24"}
{"category":"database","errorCount":3,"errorId":"f52a6b96-7ed1-4858-b395-007d69655bf9","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:54:24","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"1ab210c7-21b9-44cb-81b7-ccf748bcdedd","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"b9cbc46f-64f4-4101-a423-8d81b2694d04","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"a118e5b6-827e-41f0-a2d6-093fc96baabd","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"c8931468-0224-4a18-b706-c708fdbdeb59","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"37e503f9-95e5-4ecb-8281-e9af232981b4","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"6806758b-2031-4cb1-abe2-4b3e04b4a362","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"beb337e7-8d99-49e7-b591-ae14e827798d","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"b613c02a-c8d8-4531-b9b0-cb990649f95e","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:54:24"}
{"category":"database","errorCount":1,"errorId":"2bb30114-20fc-40f6-922f-2b34c75df922","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:54:24","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"2bb30114-20fc-40f6-922f-2b34c75df922","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:54:24.774Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:54:24"}
{"category":"database","errorCount":2,"errorId":"a8fa90ff-383c-4db3-9a47-b26628fa1e99","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:54:24","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"a8fa90ff-383c-4db3-9a47-b26628fa1e99","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:54:24.782Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"details":{},"error":"Validation failed","errorId":"91f209bf-dcc1-4b14-b248-5308ccf59de9","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"cd0f7119-3155-46a8-963e-74785ca43c65","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"416cb9f6-9484-4132-9722-67e8e4e6b2e7","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"22a9b96e-d4fb-4233-a5e0-314e56c18981","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"e9df4997-2632-425e-acf8-d3865229b677","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"d50c3733-1ea3-4f4c-9c09-bb9fc143b06d","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"f5b75595-de3c-43a9-81cf-28686d81adb0","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"adf869f3-9bd5-4b4d-8bdd-a7681f2c0f01","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"19fb96be-ab44-4535-b364-422a5ba2f728","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":1,"timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":2,"timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":3,"timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":4,"timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":5,"timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":7,"timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":8,"timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":9,"timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":12,"timestamp":"2026-01-15 00:54:24"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24","user":"anonymous"}
{"details":{},"error":"Validation failed","errorId":"bce3b16b-f284-4a1a-83f7-a0fc070db0db","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"details":{},"error":"Validation failed","errorId":"a85eb3ff-555f-446a-9655-49221d4b1803","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:24"}
{"level":"warn","message":"‚ö†Ô∏è  Redis URL not configured - caching disabled","service":"cre-crm-app","timestamp":"2026-01-15 00:54:31"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:32"}
{"details":{},"error":"Validation failed","errorId":"b5c73f3b-f942-48b8-95b3-cabb5a26ac0c","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:32"}
{"level":"warn","message":"‚ö†Ô∏è  Redis URL not configured - caching disabled","service":"cre-crm-app","timestamp":"2026-01-15 00:54:35"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:36"}
{"details":{},"error":"Validation failed","errorId":"8fe095ba-86e2-417d-8443-1491cf28420b","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:36"}
{"level":"warn","message":"‚ö†Ô∏è  Redis URL not configured - caching disabled","service":"cre-crm-app","timestamp":"2026-01-15 00:54:48"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:54:48"}
{"details":{},"error":"Validation failed","errorId":"c7d3993f-4897-4616-a5f3-f9a0affa3b20","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:54:48"}
{"level":"warn","message":"‚ö†Ô∏è  Redis URL not configured - caching disabled","service":"cre-crm-app","timestamp":"2026-01-15 00:54:59"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"c29aa594-b56a-4962-9d50-e92bae5db26e","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"90a03696-41a8-4b47-a38e-8174fa27011b","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"d78356c6-a7c4-446a-ad09-e7bf10ccff0e","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"10a13bc4-0872-45df-a05b-5a888e099b8d","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"6fa94c78-ca74-4f87-95ee-2f47b78901b2","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00","user":"anonymous"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:00","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:00","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:00","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:00","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:00","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:00","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:00","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:00","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"a730e8c1-7b75-4d4a-8861-746f020c4c89","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"9f36ee3b-1b7d-4e45-bd6a-132a2ac76ceb","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"ba7f17d2-fadf-4381-8ef9-a9ecc652cfa1","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["b2fbd90e-e498-41c6-b390-677a1d5a0745","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:00.620 +00:00","2026-01-15 05:55:00.620 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["b2fbd90e-e498-41c6-b390-677a1d5a0745","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:00.620 +00:00","2026-01-15 05:55:00.620 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["b2fbd90e-e498-41c6-b390-677a1d5a0745","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:00.620 +00:00","2026-01-15 05:55:00.620 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:00"}
{"category":"database","errorCount":1,"errorId":"7894d165-a8a9-417b-b373-cac6dd9c372c","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:55:00","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["f60b07ce-a4d5-449b-987c-eb3ad6e66a34","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:00.632 +00:00","2026-01-15 05:55:00.632 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["f60b07ce-a4d5-449b-987c-eb3ad6e66a34","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:00.632 +00:00","2026-01-15 05:55:00.632 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["f60b07ce-a4d5-449b-987c-eb3ad6e66a34","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:00.632 +00:00","2026-01-15 05:55:00.632 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:00"}
{"category":"database","errorCount":2,"errorId":"5d558043-9f32-4e3b-9fc7-87e4d389657b","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:55:00","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"e15464ec-8022-4a34-aca1-ee93f5bfc806","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"debbfce3-562b-4c55-a115-f79a1f82c20b","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["d30e8030-1bb1-440c-9609-05fa3a146ae7","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:00.642 +00:00","2026-01-15 05:55:00.642 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["d30e8030-1bb1-440c-9609-05fa3a146ae7","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:00.642 +00:00","2026-01-15 05:55:00.642 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["d30e8030-1bb1-440c-9609-05fa3a146ae7","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:00.642 +00:00","2026-01-15 05:55:00.642 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:00"}
{"category":"database","errorCount":3,"errorId":"9ced03ec-331b-4570-876a-31451d5712c6","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:55:00","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"dcd478c0-96f8-4c54-a42e-9ecb5b475ba5","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"71a8fedb-f202-4fe6-a2fd-93c8c534e3e3","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"a9690a7c-3145-40bb-a5ee-21c10fb3dab9","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"0602d5e9-5b68-4180-87b2-a0af15a045d6","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"984a5f4c-4308-4a5c-b706-8b3d2481b588","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"74fb7671-31d9-47dd-ab48-c6af8f2f2359","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"eca18186-69af-418c-bc0b-d5eb32f6ada1","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"fc2171de-4bed-4738-81a6-8e4576b2a1a9","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:00"}
{"category":"database","errorCount":1,"errorId":"9c77e729-fbf6-45e6-b0dc-4cdce532c907","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:55:00","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"9c77e729-fbf6-45e6-b0dc-4cdce532c907","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:55:00.675Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:00"}
{"category":"database","errorCount":2,"errorId":"fdbdc3e3-55d8-407f-b505-f57f5fee3d6e","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:55:00","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"fdbdc3e3-55d8-407f-b505-f57f5fee3d6e","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:55:00.683Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"details":{},"error":"Validation failed","errorId":"09bc0040-46db-431e-b18a-3751eb9b948e","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"40205418-1a6b-41fc-8794-82f70a5def0d","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"e1755979-c229-42aa-aaf6-26972e060985","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"9122d279-1679-4e2d-887c-bea06e117aef","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"d08e91fe-e766-4772-be0d-b7f9031338b6","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"9a815f42-221e-4005-bf71-103805754ff3","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"1d356ebf-3c9a-41e7-8896-606f7dccc6a3","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"86570fe8-6abd-4478-a4f6-e16c2921cbe7","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"982a5d5b-9a01-4971-b623-85558145eae3","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":1,"timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":2,"timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":3,"timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":4,"timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":5,"timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":6,"timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":7,"timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":9,"timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":10,"timestamp":"2026-01-15 00:55:00"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00","user":"anonymous"}
{"details":{},"error":"Validation failed","errorId":"1ede411e-ab46-4a2f-ac93-18fa25ad902b","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"details":{},"error":"Validation failed","errorId":"42a730fe-1c76-4c32-9789-ed2aa5ed5e22","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:00"}
{"level":"warn","message":"‚ö†Ô∏è  Redis URL not configured - caching disabled","service":"cre-crm-app","timestamp":"2026-01-15 00:55:05"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"cdf325f2-240d-4bc7-ab16-dbf76a1fb686","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"f41632c7-52c7-446c-a08b-9e76bf467030","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"9e4193b8-fd07-4aaf-b7eb-ab972ece9ced","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"5a404750-3e2b-48b3-8ca9-a6d0cf696382","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"c0799733-be93-4e48-96f6-750d9a3f0316","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06","user":"anonymous"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:06","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:06","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:06","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:06","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:06","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:06","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:06","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:06","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"00265c7b-1413-4b2c-9736-dc07351630a5","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"1ae39032-2a7c-4682-bcc0-9952b22cec56","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"d81a7cd6-4f33-4d35-8543-d6eb4b566bb2","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["44525ff4-363b-42d1-9b88-4064759afa57","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:06.520 +00:00","2026-01-15 05:55:06.520 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["44525ff4-363b-42d1-9b88-4064759afa57","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:06.520 +00:00","2026-01-15 05:55:06.520 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["44525ff4-363b-42d1-9b88-4064759afa57","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:06.520 +00:00","2026-01-15 05:55:06.520 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:06"}
{"category":"database","errorCount":1,"errorId":"bb25beee-09f8-46cb-9075-c4677abce2a8","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:55:06","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["32da81ca-aca9-4294-b374-0eeab8bf36ad","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:06.529 +00:00","2026-01-15 05:55:06.529 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["32da81ca-aca9-4294-b374-0eeab8bf36ad","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:06.529 +00:00","2026-01-15 05:55:06.529 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["32da81ca-aca9-4294-b374-0eeab8bf36ad","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:06.529 +00:00","2026-01-15 05:55:06.529 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:06"}
{"category":"database","errorCount":2,"errorId":"6f8d0be2-7016-4826-b2da-559cc155d56b","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:55:06","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"2a14a35e-0ad6-4314-a60e-cccb5b51563b","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"75090ae2-cb52-460e-914f-ad7da6ed0c55","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["1136643d-7878-41e4-bf9e-c2358a1e9a9e","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:06.538 +00:00","2026-01-15 05:55:06.538 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["1136643d-7878-41e4-bf9e-c2358a1e9a9e","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:06.538 +00:00","2026-01-15 05:55:06.538 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["1136643d-7878-41e4-bf9e-c2358a1e9a9e","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:06.538 +00:00","2026-01-15 05:55:06.538 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:06"}
{"category":"database","errorCount":3,"errorId":"09dc70cc-fde4-44f9-b7e7-800bb06978ac","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:55:06","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"0f489eb6-65fd-481c-842b-f4f37c9a4185","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"dbb4dae1-5b76-4908-a16b-84ab5f8fcbec","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"0c15c55b-cf12-4c0f-8661-88759c82daf2","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"a2891792-204f-4719-ac89-ec314cdee31e","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"ee4dfad0-fed6-41ac-bab8-6484bed0a877","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"a1ce0bd2-8817-4f2c-b009-9e9a82a64ad8","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"b6d653bc-a2a0-4c50-a8bd-7fda334edffb","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"2158c345-2570-4fa2-bb70-6d318dfb93ce","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:06"}
{"category":"database","errorCount":1,"errorId":"b3187e6b-f158-41ee-9ed0-59de657f69ea","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:55:06","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"b3187e6b-f158-41ee-9ed0-59de657f69ea","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:55:06.569Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:06"}
{"category":"database","errorCount":2,"errorId":"bd000d15-37d6-496d-aec7-b157f7255abd","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:55:06","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"bd000d15-37d6-496d-aec7-b157f7255abd","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:55:06.577Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"details":{},"error":"Validation failed","errorId":"d311e120-61e6-48d6-8963-a8c58252d34f","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"21e67c35-223b-421c-abe5-e4b8dd20c369","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"a0dc030e-eff6-49f5-aa3d-df024017d4df","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"1143f943-2705-4a0a-88e3-17d8338e7d31","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"a507c6ea-a655-4aa5-9afb-101ac6a46bf6","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"f542a7d3-4d58-4906-b5a1-9714016159d1","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"02a172f1-1275-48ee-86b5-e5951adfe405","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"8e6c051d-1c67-46b3-9610-cd83efac6780","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"41da91d9-1a00-4516-a4d5-85caab987af9","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":1,"timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":2,"timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":3,"timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":4,"timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":5,"timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":6,"timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":7,"timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":8,"timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":12,"timestamp":"2026-01-15 00:55:06"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06","user":"anonymous"}
{"details":{},"error":"Validation failed","errorId":"88a0e97d-4e7b-4525-bec9-0baf848e9c59","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"details":{},"error":"Validation failed","errorId":"e5572cb0-43ac-45b7-b5aa-793e91d2d5ed","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:06"}
{"level":"warn","message":"‚ö†Ô∏è  Redis URL not configured - caching disabled","service":"cre-crm-app","timestamp":"2026-01-15 00:55:16"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"4e5b1e6d-747e-4aa0-bd51-3efdbec414ea","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"3039284a-14a4-475d-9a3a-e969b95cd23e","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"d7565853-ebe5-4174-8bee-08a839178429","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"48fb82ab-d212-426e-b265-9d8579d00e64","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"ce69bda9-e395-481f-b3df-95fab35c394e","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17","user":"anonymous"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:17","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:17","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:17","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:17","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:17","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:17","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:17","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:17","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"5baf207e-61f8-479f-886c-bc31f39d9330","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"3701d6c2-2a88-4002-be19-5566d64b5e72","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"97ab9072-fcd9-4568-9d79-dfd04049a3fa","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["42e50075-e963-43c4-be11-39d4336a113d","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:17.349 +00:00","2026-01-15 05:55:17.349 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["42e50075-e963-43c4-be11-39d4336a113d","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:17.349 +00:00","2026-01-15 05:55:17.349 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["42e50075-e963-43c4-be11-39d4336a113d","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:17.349 +00:00","2026-01-15 05:55:17.349 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:17"}
{"category":"database","errorCount":1,"errorId":"56f2f21e-072c-4186-a327-9e7a040d6746","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:55:17","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["b8ee5c70-02c9-4198-8bc2-5a857e956393","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:17.359 +00:00","2026-01-15 05:55:17.359 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["b8ee5c70-02c9-4198-8bc2-5a857e956393","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:17.359 +00:00","2026-01-15 05:55:17.359 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["b8ee5c70-02c9-4198-8bc2-5a857e956393","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:17.359 +00:00","2026-01-15 05:55:17.359 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:17"}
{"category":"database","errorCount":2,"errorId":"1a66f6b7-08c5-46d8-9b64-4caacfd8cbff","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:55:17","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"e684772e-25d8-4831-b312-07fd83e467c3","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"c12c9297-37fb-490f-b16f-d98a4fe09c51","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["f6a0e4f7-8060-4358-b9c4-27429f7d93cc","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:17.369 +00:00","2026-01-15 05:55:17.369 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["f6a0e4f7-8060-4358-b9c4-27429f7d93cc","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:17.369 +00:00","2026-01-15 05:55:17.369 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["f6a0e4f7-8060-4358-b9c4-27429f7d93cc","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:17.369 +00:00","2026-01-15 05:55:17.369 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:17"}
{"category":"database","errorCount":3,"errorId":"b0188b89-71b4-415b-94f6-5bf4ccb3dfb8","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:55:17","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"f6cb0260-8822-4630-812c-f192d11a46d5","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"a927b069-5e32-4773-8de8-d50d0fd92c25","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"5472e381-5908-413a-9e88-bc63c6b71c9c","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"c2b583a3-cb17-45f9-bd5b-ae775d6f753c","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"fe2c0b0f-6970-480a-b098-a2e070617132","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"b9fdb4f6-77d7-46ba-be58-af75a64a1c35","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"7aab0a7a-0082-4e11-bd8b-47421746533d","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"745f1cf3-d9c6-4614-a778-20fac9087213","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:17"}
{"category":"database","errorCount":1,"errorId":"93a53d19-80d3-413f-a23b-150c02b9c600","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:55:17","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"93a53d19-80d3-413f-a23b-150c02b9c600","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:55:17.406Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:17"}
{"category":"database","errorCount":2,"errorId":"08035d72-fb33-4309-8cd5-b5adbeb2f260","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:55:17","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"08035d72-fb33-4309-8cd5-b5adbeb2f260","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:55:17.413Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"details":{},"error":"Validation failed","errorId":"c3530f76-b5e4-40b1-82ea-cbd45519eeb0","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"c60e3690-ad67-45ce-91ed-76f2c3eb00e1","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"69a736f2-e2f7-4b61-91bf-ae671d8277fa","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"0fda9b30-c2ac-4ff6-8766-d5b6e4e98fe4","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"77221764-e965-4c9d-9a22-2b336b9fb0c9","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"633c22f0-02de-4fec-ae82-582b0f8f8d86","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"6cc300ef-0ad6-4307-a655-fcb1891af3d7","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"3e0ed8a4-4e26-4393-ac30-24c00722a16e","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"bd1a15ce-1a7e-483f-8ca4-cb53371d4bb8","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":1,"timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":1,"timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":4,"timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":5,"timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":6,"timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":7,"timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":8,"timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":9,"timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":10,"timestamp":"2026-01-15 00:55:17"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17","user":"anonymous"}
{"details":{},"error":"Validation failed","errorId":"608221b7-fa6a-4351-aed8-f893e7ded3d7","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"details":{},"error":"Validation failed","errorId":"288ea316-63f4-4dd3-9c71-448be14b85a1","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:17"}
{"level":"warn","message":"‚ö†Ô∏è  Redis URL not configured - caching disabled","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"details":{},"error":"Validation failed","errorId":"54cb0d3f-0d81-4484-b6a3-79d1296aa49e","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"details":{},"error":"Validation failed","errorId":"7b402593-26dc-4e22-a5ab-92e133a6b2b2","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"details":{},"error":"Validation failed","errorId":"4779f74a-2252-424f-adcf-2fc7b0bc8b54","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"details":{},"error":"Validation failed","errorId":"8b70b9a9-e731-4f4c-9ae1-8fe16a8bf19a","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"details":{},"error":"Validation failed","errorId":"351c583c-e0ca-42f4-b7a1-b0819e0e5624","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22","user":"anonymous"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:22","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:22","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:22","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:22","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:22","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:22","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:22","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:55:22","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"details":{},"error":"Validation failed","errorId":"93d7e8bc-7aaa-4712-939e-6a7dd1dcb546","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"details":{},"error":"Validation failed","errorId":"cbb36822-715c-4eb4-a1da-3c210e8880c5","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"details":{},"error":"Validation failed","errorId":"2d829bb0-45dc-47fb-99cd-772be20194d0","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["5eb2bcbb-9f79-4a5c-8fca-4b48a2392e15","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:22.967 +00:00","2026-01-15 05:55:22.967 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["5eb2bcbb-9f79-4a5c-8fca-4b48a2392e15","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:22.967 +00:00","2026-01-15 05:55:22.967 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["5eb2bcbb-9f79-4a5c-8fca-4b48a2392e15","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:22.967 +00:00","2026-01-15 05:55:22.967 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:22"}
{"category":"database","errorCount":1,"errorId":"a7eca381-ccc2-42b2-850f-d70fb20f546d","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:55:22","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["26a82a1c-1848-4aed-a653-0a9ca47b4192","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:22.980 +00:00","2026-01-15 05:55:22.980 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["26a82a1c-1848-4aed-a653-0a9ca47b4192","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:22.980 +00:00","2026-01-15 05:55:22.980 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["26a82a1c-1848-4aed-a653-0a9ca47b4192","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:22.980 +00:00","2026-01-15 05:55:22.980 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:22"}
{"category":"database","errorCount":2,"errorId":"f76d1db4-76eb-451c-badd-f33239f40ff8","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:55:22","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"c98d2ab0-9eff-482f-add8-90e2c565c1d7","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"details":{},"error":"Validation failed","errorId":"9240b107-3683-4d98-9d6e-68366bfe63e3","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["e2d73000-9d3c-42b5-a7ac-8518f64eb661","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:22.992 +00:00","2026-01-15 05:55:22.992 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["e2d73000-9d3c-42b5-a7ac-8518f64eb661","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:22.992 +00:00","2026-01-15 05:55:22.992 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["e2d73000-9d3c-42b5-a7ac-8518f64eb661","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:22.992 +00:00","2026-01-15 05:55:22.992 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:22"}
{"category":"database","errorCount":3,"errorId":"6eb4f983-9602-4723-af54-95002e31ca65","ip":"::ffff:127.0.0.1","level":"warn","message":"Referenced resource does not exist","method":"POST","path":"/api/contacts","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","statusCode":400,"timestamp":"2026-01-15 00:55:22","type":"foreign_key_constraint_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"details":{},"error":"Validation failed","errorId":"a9ac624b-922b-4580-b5f6-5ca300e0e08d","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"details":{},"error":"Validation failed","errorId":"5e16b2ac-d002-49b5-8b69-275d06de0577","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:22"}
{"details":{},"error":"Validation failed","errorId":"c455ad1f-2a9f-4979-9b35-c15c5ff0d9dd","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"details":{},"error":"Validation failed","errorId":"c5c79134-dbd3-42d5-81c4-6b8d29ef15f6","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"details":{},"error":"Validation failed","errorId":"05905751-a2b1-4db6-8599-e4e9f66eb3ba","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"details":{},"error":"Validation failed","errorId":"e339b8b2-2a13-4e74-a6e2-16d09d5ce8db","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"details":{},"error":"Validation failed","errorId":"0d080dcc-00e9-42c0-90f6-a90a5015e59f","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"details":{},"error":"Validation failed","errorId":"2db45e3d-7162-4680-aa92-c7e40c4379ed","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:23"}
{"category":"database","errorCount":1,"errorId":"8c34ad88-9b18-4332-8f4e-f09f0fcfbe36","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:55:23","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"8c34ad88-9b18-4332-8f4e-f09f0fcfbe36","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:55:23.023Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:23"}
{"category":"database","errorCount":2,"errorId":"82a15005-cc65-4694-9abf-cb10e5f97efb","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:55:23","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"82a15005-cc65-4694-9abf-cb10e5f97efb","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:55:23.031Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"details":{},"error":"Validation failed","errorId":"1a5c993c-e48b-49ed-a73b-7e44f63f11f0","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"details":{},"error":"Validation failed","errorId":"40e43831-fa9f-4cc4-ae17-e07d98d51717","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"details":{},"error":"Validation failed","errorId":"c4e384b7-677a-410f-ac95-8fa5b85b1989","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"details":{},"error":"Validation failed","errorId":"b5fe4573-a6ee-408c-a3d1-3e64aaac8fdb","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"details":{},"error":"Validation failed","errorId":"1098f3fc-4568-43ea-ac55-1b811f0b3d9f","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"details":{},"error":"Validation failed","errorId":"72804c16-125f-4c46-a189-0f1dca7a7a6d","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"details":{},"error":"Validation failed","errorId":"053a5e03-58ae-45dd-ae78-32bae7d60da4","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"details":{},"error":"Validation failed","errorId":"98d28e6e-26b9-4a81-90cd-fe5a2e317149","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"details":{},"error":"Validation failed","errorId":"0119fc06-4953-479f-adc4-0ef9ec9a3a77","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":1,"timestamp":"2026-01-15 00:55:23"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":2,"timestamp":"2026-01-15 00:55:23"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":3,"timestamp":"2026-01-15 00:55:23"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":4,"timestamp":"2026-01-15 00:55:23"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":5,"timestamp":"2026-01-15 00:55:23"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":6,"timestamp":"2026-01-15 00:55:23"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":7,"timestamp":"2026-01-15 00:55:23"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":8,"timestamp":"2026-01-15 00:55:23"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":9,"timestamp":"2026-01-15 00:55:23"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23","user":"anonymous"}
{"details":{},"error":"Validation failed","errorId":"b6b868b5-8e3d-40da-9137-9509a86939ad","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"details":{},"error":"Validation failed","errorId":"d9263525-a529-41f5-8199-51842a66c188","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:55:23"}
{"level":"warn","message":"‚ö†Ô∏è  Redis URL not configured - caching disabled","service":"cre-crm-app","timestamp":"2026-01-15 00:56:26"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:56:27"}
{"details":{},"error":"Validation failed","errorId":"97915d33-3f97-453f-b43e-794d22244ea7","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:56:27"}
{"level":"warn","message":"‚ö†Ô∏è  Redis URL not configured - caching disabled","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"0d71312e-91cc-4c46-8f91-a1056c4153cb","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"488357dd-2fd8-419e-8864-ee72cb8e2732","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"07180eaa-876c-4a45-9343-a28ce4bd45b8","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"6c8f4bb8-d63a-412c-a5b3-17b59e8abdfe","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"c4277cf4-c75b-476c-a040-979ad2227628","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42","user":"anonymous"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:58:42","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:58:42","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:58:42","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:58:42","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:58:42","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:58:42","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:58:42","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:58:42","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"ede2fcac-3fc5-492e-bea1-b5e47a27f29c","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"a98c6b3a-503e-4e34-8ee1-e7573f0c5857","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"495a293e-d706-4579-ba72-d816f734d935","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["474f2589-bef6-4e81-a26a-95863cc9392f","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:42.830 +00:00","2026-01-15 05:58:42.830 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["474f2589-bef6-4e81-a26a-95863cc9392f","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:42.830 +00:00","2026-01-15 05:58:42.830 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["474f2589-bef6-4e81-a26a-95863cc9392f","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:42.830 +00:00","2026-01-15 05:58:42.830 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:58:42"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["8dd7fbc8-c6bc-4257-a812-1ef780c38cab","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:42.841 +00:00","2026-01-15 05:58:42.841 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["8dd7fbc8-c6bc-4257-a812-1ef780c38cab","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:42.841 +00:00","2026-01-15 05:58:42.841 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["8dd7fbc8-c6bc-4257-a812-1ef780c38cab","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:42.841 +00:00","2026-01-15 05:58:42.841 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"61e31b31-9954-4e3d-958b-e521ca723cf6","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"281a25eb-c457-4bd8-ae67-ad1652241c0d","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["63972ca3-ec62-429d-987b-488650b2130d","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:42.850 +00:00","2026-01-15 05:58:42.850 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["63972ca3-ec62-429d-987b-488650b2130d","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:42.850 +00:00","2026-01-15 05:58:42.850 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["63972ca3-ec62-429d-987b-488650b2130d","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:42.850 +00:00","2026-01-15 05:58:42.850 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"6926f2f6-c0f6-41a7-87e0-8ba4d9c00e52","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"0dc5888e-cefc-4f2c-be60-195e73897091","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"ef6a00a6-499f-407f-8952-4f071d5687b0","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Password validation failed","errorId":"7ee6e31f-f1b4-42b0-ac85-6c213d073078","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Password validation failed","errorId":"27d16623-747f-4353-920c-92bfdf1f7c00","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Password validation failed","errorId":"f11fe0e9-19bf-4145-8e87-cc8fa7bd93f9","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Password validation failed","errorId":"c43885f3-6674-4805-99b9-6cdfaec9f484","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Password validation failed","errorId":"6ae5e5a7-c04e-41a5-89d0-121a266ff3d2","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:58:42"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"e8c60f24-a977-4a3c-b7dc-34e3b39d8a91","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"991e4224-a897-4a7e-8279-0c414cc20ee3","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"a516814c-9e2b-45c6-9493-a64997a85dfa","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"7c41cd58-4455-4ec1-aefe-257660015070","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"8c8f6eca-c281-4a63-b962-438bda474a1c","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"60d3f927-7724-44ba-95c1-124b907505d8","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"dd2c8eae-fe30-413b-bd50-80f83e0aa778","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"de958556-1871-4a31-a101-98889db1bb82","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"930cc909-10d6-43d4-9ad3-814fe7db6314","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":1,"timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":1,"timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":3,"timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":4,"timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":5,"timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":6,"timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":7,"timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":11,"timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":12,"timestamp":"2026-01-15 00:58:42"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42","user":"anonymous"}
{"details":{},"error":"Validation failed","errorId":"5005c074-8f8a-4cbe-9368-8f15cea31658","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"details":{},"error":"Validation failed","errorId":"e54f0061-3a93-4aa2-a166-95360e197fb9","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:42"}
{"level":"warn","message":"‚ö†Ô∏è  Redis URL not configured - caching disabled","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48"}
{"details":{},"error":"Validation failed","errorId":"7d24f62e-4e4e-471f-a9d7-b662a95f6c56","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48"}
{"details":{},"error":"Validation failed","errorId":"46eab23d-c0af-4c35-821b-8ffd2cbec1cc","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48"}
{"details":{},"error":"Validation failed","errorId":"3ff8d254-278d-469d-bd96-242582972957","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48"}
{"details":{},"error":"Validation failed","errorId":"edc5d218-3abf-4cf7-8771-ed7a14242bc0","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48"}
{"details":{},"error":"Validation failed","errorId":"a2dfb5e5-8d40-43f5-833b-2e82625e5599","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:48","user":"anonymous"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:58:49","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:58:49","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:58:49","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:58:49","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:58:49","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:58:49","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:58:49","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"error":"relation \"deals\" does not exist","level":"warn","message":"Database operation failed: fetch deals","service":"cre-crm-app","timeout":5000,"timestamp":"2026-01-15 00:58:49","usingFallback":true}
{"level":"info","message":"Using fallback data for: fetch deals","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Validation failed","errorId":"b572ab69-881f-4eb2-a50b-82397b578c2b","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Validation failed","errorId":"4a9056c3-5c6b-47fa-b484-ca33ac44afd4","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Validation failed","errorId":"a7ccef55-85fa-4240-9a38-cd1130857d3b","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["3adbdca6-f1a7-4f44-8237-64d4d73306f6","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:49.100 +00:00","2026-01-15 05:58:49.100 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["3adbdca6-f1a7-4f44-8237-64d4d73306f6","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:49.100 +00:00","2026-01-15 05:58:49.100 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["3adbdca6-f1a7-4f44-8237-64d4d73306f6","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:49.100 +00:00","2026-01-15 05:58:49.100 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:58:49"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["c5b6301e-c328-4422-ba80-3b0e47ad20ba","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:49.110 +00:00","2026-01-15 05:58:49.110 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["c5b6301e-c328-4422-ba80-3b0e47ad20ba","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:49.110 +00:00","2026-01-15 05:58:49.110 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["c5b6301e-c328-4422-ba80-3b0e47ad20ba","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:49.110 +00:00","2026-01-15 05:58:49.110 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Validation failed","errorId":"664f2b09-8572-4da6-a967-59b4ad8d7c12","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Validation failed","errorId":"56943312-1803-403f-b1eb-6830f17539c9","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["1fc7e63a-af3d-470f-83d8-b5a19eec4c9d","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:49.118 +00:00","2026-01-15 05:58:49.118 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["1fc7e63a-af3d-470f-83d8-b5a19eec4c9d","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:49.118 +00:00","2026-01-15 05:58:49.118 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["1fc7e63a-af3d-470f-83d8-b5a19eec4c9d","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:49.118 +00:00","2026-01-15 05:58:49.118 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Validation failed","errorId":"a1bb4261-22b3-4fb5-b7a8-97692bb8f94a","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Validation failed","errorId":"d810ef52-6887-472e-95bd-43826edfff9e","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Validation failed","errorId":"d9f3244a-67ec-4221-8030-083d778b4436","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Password validation failed","errorId":"34c0dc33-6421-4ca8-adcc-4681dd1d556d","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Password validation failed","errorId":"8995cb77-1757-4a71-b61d-4cd54a5be3cb","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Password validation failed","errorId":"1a4af4ec-52f3-4176-a5aa-50e976cc4968","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Password validation failed","errorId":"04b17e45-9d71-44cd-8a67-be1e5c618497","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Password validation failed","errorId":"9a2f76c8-dc63-4af6-a818-3da122c4c2f3","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:58:49"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Validation failed","errorId":"bc8ae204-0beb-4972-a92c-bdd4856edcfa","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Validation failed","errorId":"49f31daf-22f1-43ff-ac6b-0565b32c969d","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Validation failed","errorId":"ff7c4fa0-4eec-4f32-9d96-54c3993059ff","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Validation failed","errorId":"22f64933-eef4-47c3-99df-668b14a894f1","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Validation failed","errorId":"84ae553c-045a-4b9e-b53b-5ff0c5a99380","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Validation failed","errorId":"6e3995d5-0b76-4ff3-b789-df4fb4cb7f58","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Validation failed","errorId":"26a0fd36-9031-40c7-954a-291c767c0e4a","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Validation failed","errorId":"9ead6ad0-75b7-4015-aeb9-52d467624566","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Validation failed","errorId":"35b94c81-8f8e-46a2-98a2-854a1234ab6e","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":1,"timestamp":"2026-01-15 00:58:49"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":2,"timestamp":"2026-01-15 00:58:49"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":3,"timestamp":"2026-01-15 00:58:49"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":4,"timestamp":"2026-01-15 00:58:49"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":5,"timestamp":"2026-01-15 00:58:49"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":8,"timestamp":"2026-01-15 00:58:49"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":8,"timestamp":"2026-01-15 00:58:49"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":10,"timestamp":"2026-01-15 00:58:49"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49","user":"anonymous"}
{"level":"info","message":"üîß Captcha verification skipped in development (TURNSTILE_SECRET_KEY not set)","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Duplicate request detected within 1 second","path":"/login","service":"cre-crm-app","signature":"::ffff:127.0.0.1-undefined-f5e5202ae6595ea0","timeSinceLastRequest":11,"timestamp":"2026-01-15 00:58:49"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"‚ö†Ô∏è Rate limit exceeded: auth-limiter","method":"POST","path":"/login","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49","user":"anonymous"}
{"details":{},"error":"Validation failed","errorId":"d5ea88c5-40d0-48bd-bd9a-2958a60383fa","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}
{"details":{},"error":"Validation failed","errorId":"690befd1-c865-4b89-aa47-3eb1f2f329db","level":"warn","message":"Validation error","service":"cre-crm-app","timestamp":"2026-01-15 00:58:49"}

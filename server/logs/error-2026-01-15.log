{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["b741f82d-6733-4fb8-9fcc-6c57ee713a96","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:43:26.575 +00:00","2026-01-15 05:43:26.575 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["b741f82d-6733-4fb8-9fcc-6c57ee713a96","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:43:26.575 +00:00","2026-01-15 05:43:26.575 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["b741f82d-6733-4fb8-9fcc-6c57ee713a96","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:43:26.575 +00:00","2026-01-15 05:43:26.575 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:43:26"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["5ec7002c-6de9-4dba-bed7-e3d57c02d456","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:43:26.587 +00:00","2026-01-15 05:43:26.587 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["5ec7002c-6de9-4dba-bed7-e3d57c02d456","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:43:26.587 +00:00","2026-01-15 05:43:26.587 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["5ec7002c-6de9-4dba-bed7-e3d57c02d456","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:43:26.587 +00:00","2026-01-15 05:43:26.587 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:43:26"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["59085225-01d1-4d41-aeb0-9412f6c97149","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:43:26.596 +00:00","2026-01-15 05:43:26.596 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["59085225-01d1-4d41-aeb0-9412f6c97149","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:43:26.596 +00:00","2026-01-15 05:43:26.596 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["59085225-01d1-4d41-aeb0-9412f6c97149","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:43:26.596 +00:00","2026-01-15 05:43:26.596 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:43:26"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:43:26"}
{"category":"database","errorId":"88c747a3-2e54-46a8-b302-4da2d05ea858","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:43:26","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":1,"errorId":"88c747a3-2e54-46a8-b302-4da2d05ea858","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:43:26","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"88c747a3-2e54-46a8-b302-4da2d05ea858","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:43:26.627Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:43:26"}
{"category":"database","errorId":"a2da20e6-742a-441f-ad56-d003eb5d2d22","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:43:26","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":2,"errorId":"a2da20e6-742a-441f-ad56-d003eb5d2d22","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:43:26","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"a2da20e6-742a-441f-ad56-d003eb5d2d22","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:43:26.637Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Update user error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE (\"User\".\"deleted_at\" IS NULL AND \"User\".\"id\" = '00000000-0000-0000-0000-000000000003');"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE (\"User\".\"deleted_at\" IS NULL AND \"User\".\"id\" = '00000000-0000-0000-0000-000000000003');"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE (\"User\".\"deleted_at\" IS NULL AND \"User\".\"id\" = '00000000-0000-0000-0000-000000000003');","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1955:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:218:18","timestamp":"2026-01-15 00:43:26"}
{"category":"database","errorId":"043f2bcd-5894-4d4e-9b0b-317ef27d3107","level":"error","message":"Database operation failed","method":"PUT","path":"/api/users/00000000-0000-0000-0000-000000000003","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1955:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:218:18","timestamp":"2026-01-15 00:43:26","userId":"00000000-0000-0000-0000-000000000003"}
{"category":"database","errorCount":1,"errorId":"043f2bcd-5894-4d4e-9b0b-317ef27d3107","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"PUT","path":"/api/users/00000000-0000-0000-0000-000000000003","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1955:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:218:18","statusCode":500,"timestamp":"2026-01-15 00:43:26","type":"database_error","userEmail":"agent@test.com","userId":"00000000-0000-0000-0000-000000000003"}
{"category":"database","errorId":"043f2bcd-5894-4d4e-9b0b-317ef27d3107","level":"error","message":"Database operation failed","method":"PUT","path":"/api/users/00000000-0000-0000-0000-000000000003","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1955:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:218:18","timestamp":"2026-01-15T05:43:26.649Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000003"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["f85c326c-7448-4d50-852e-fa500e586db2","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:54.545 +00:00","2026-01-15 05:51:54.545 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["f85c326c-7448-4d50-852e-fa500e586db2","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:54.545 +00:00","2026-01-15 05:51:54.545 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["f85c326c-7448-4d50-852e-fa500e586db2","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:54.545 +00:00","2026-01-15 05:51:54.545 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:51:54"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["5d954dcb-67d7-43c0-8d58-c3cbd6cb50e2","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:54.560 +00:00","2026-01-15 05:51:54.560 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["5d954dcb-67d7-43c0-8d58-c3cbd6cb50e2","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:54.560 +00:00","2026-01-15 05:51:54.560 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["5d954dcb-67d7-43c0-8d58-c3cbd6cb50e2","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:54.560 +00:00","2026-01-15 05:51:54.560 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:51:54"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["59285741-c98d-47a2-9ac5-e25e81536d9b","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:54.569 +00:00","2026-01-15 05:51:54.569 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["59285741-c98d-47a2-9ac5-e25e81536d9b","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:54.569 +00:00","2026-01-15 05:51:54.569 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["59285741-c98d-47a2-9ac5-e25e81536d9b","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:54.569 +00:00","2026-01-15 05:51:54.569 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:51:54"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:51:54"}
{"category":"database","errorId":"e8d2edec-c7d2-4894-ac07-7cce3ed0fb1e","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:51:54","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":1,"errorId":"e8d2edec-c7d2-4894-ac07-7cce3ed0fb1e","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:51:54","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"e8d2edec-c7d2-4894-ac07-7cce3ed0fb1e","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:51:54.600Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:51:54"}
{"category":"database","errorId":"ad516590-89a6-41e4-8bbb-bd6ca93ee656","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:51:54","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":2,"errorId":"ad516590-89a6-41e4-8bbb-bd6ca93ee656","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:51:54","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"ad516590-89a6-41e4-8bbb-bd6ca93ee656","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:51:54.608Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["490035a6-e8a1-405e-99f7-f48a37d0d6b8","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:59.686 +00:00","2026-01-15 05:51:59.686 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["490035a6-e8a1-405e-99f7-f48a37d0d6b8","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:59.686 +00:00","2026-01-15 05:51:59.686 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["490035a6-e8a1-405e-99f7-f48a37d0d6b8","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:59.686 +00:00","2026-01-15 05:51:59.686 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:51:59"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["c7e5095c-b610-4204-8933-2275fcf1f3f0","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:59.695 +00:00","2026-01-15 05:51:59.695 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["c7e5095c-b610-4204-8933-2275fcf1f3f0","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:59.695 +00:00","2026-01-15 05:51:59.695 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["c7e5095c-b610-4204-8933-2275fcf1f3f0","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:59.695 +00:00","2026-01-15 05:51:59.695 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:51:59"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["8b07e24f-1182-41c8-9283-9bc9f40e311b","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:59.704 +00:00","2026-01-15 05:51:59.704 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["8b07e24f-1182-41c8-9283-9bc9f40e311b","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:59.704 +00:00","2026-01-15 05:51:59.704 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["8b07e24f-1182-41c8-9283-9bc9f40e311b","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:51:59.704 +00:00","2026-01-15 05:51:59.704 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:51:59"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:51:59"}
{"category":"database","errorId":"8960b57e-ca70-4905-8f5a-4828ec4c4914","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:51:59","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":1,"errorId":"8960b57e-ca70-4905-8f5a-4828ec4c4914","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:51:59","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"8960b57e-ca70-4905-8f5a-4828ec4c4914","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:51:59.736Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:51:59"}
{"category":"database","errorId":"aecd9a10-0f77-4915-b2b9-45d89d0868aa","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:51:59","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":2,"errorId":"aecd9a10-0f77-4915-b2b9-45d89d0868aa","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:51:59","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"aecd9a10-0f77-4915-b2b9-45d89d0868aa","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:51:59.745Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["a2321f1f-3c16-4019-a1a9-e9b3eebe4828","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:04.673 +00:00","2026-01-15 05:52:04.673 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["a2321f1f-3c16-4019-a1a9-e9b3eebe4828","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:04.673 +00:00","2026-01-15 05:52:04.673 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["a2321f1f-3c16-4019-a1a9-e9b3eebe4828","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:04.673 +00:00","2026-01-15 05:52:04.673 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:52:04"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["044f646c-6b8b-466c-aafb-ae426d4bf51f","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:04.683 +00:00","2026-01-15 05:52:04.683 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["044f646c-6b8b-466c-aafb-ae426d4bf51f","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:04.683 +00:00","2026-01-15 05:52:04.683 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["044f646c-6b8b-466c-aafb-ae426d4bf51f","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:04.683 +00:00","2026-01-15 05:52:04.683 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:52:04"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["2f5cd37f-8039-4d40-a3bf-827a3a52f282","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:04.692 +00:00","2026-01-15 05:52:04.692 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["2f5cd37f-8039-4d40-a3bf-827a3a52f282","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:04.692 +00:00","2026-01-15 05:52:04.692 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["2f5cd37f-8039-4d40-a3bf-827a3a52f282","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:04.692 +00:00","2026-01-15 05:52:04.692 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:52:04"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:52:04"}
{"category":"database","errorId":"cd18ee95-bb1d-4d25-b4e1-34a8fc56cea0","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:52:04","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":1,"errorId":"cd18ee95-bb1d-4d25-b4e1-34a8fc56cea0","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:52:04","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"cd18ee95-bb1d-4d25-b4e1-34a8fc56cea0","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:52:04.723Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:52:04"}
{"category":"database","errorId":"91c50996-5d25-4d56-b676-d34907e0aaa2","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:52:04","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":2,"errorId":"91c50996-5d25-4d56-b676-d34907e0aaa2","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:52:04","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"91c50996-5d25-4d56-b676-d34907e0aaa2","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:52:04.731Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["bd708acb-d7fa-4f39-a92b-5c6ebe2c1f6b","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:25.885 +00:00","2026-01-15 05:52:25.885 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["bd708acb-d7fa-4f39-a92b-5c6ebe2c1f6b","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:25.885 +00:00","2026-01-15 05:52:25.885 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["bd708acb-d7fa-4f39-a92b-5c6ebe2c1f6b","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:25.885 +00:00","2026-01-15 05:52:25.885 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:52:25"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["61e0d5bd-371d-49db-a423-0859aca16bb4","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:25.895 +00:00","2026-01-15 05:52:25.895 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["61e0d5bd-371d-49db-a423-0859aca16bb4","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:25.895 +00:00","2026-01-15 05:52:25.895 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["61e0d5bd-371d-49db-a423-0859aca16bb4","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:25.895 +00:00","2026-01-15 05:52:25.895 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:52:25"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["537f6f34-e314-4fef-8c85-2711343fa1bd","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:25.904 +00:00","2026-01-15 05:52:25.904 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["537f6f34-e314-4fef-8c85-2711343fa1bd","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:25.904 +00:00","2026-01-15 05:52:25.904 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["537f6f34-e314-4fef-8c85-2711343fa1bd","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:52:25.904 +00:00","2026-01-15 05:52:25.904 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:52:25"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:52:25"}
{"category":"database","errorId":"37d122dc-16f1-4665-9e42-9cb56d23c905","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:52:25","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":1,"errorId":"37d122dc-16f1-4665-9e42-9cb56d23c905","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:52:25","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"37d122dc-16f1-4665-9e42-9cb56d23c905","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:52:25.937Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:52:25"}
{"category":"database","errorId":"ff036b4b-b7f2-4941-bbf3-3a3a3f95d9e8","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:52:25","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":2,"errorId":"ff036b4b-b7f2-4941-bbf3-3a3a3f95d9e8","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:52:25","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"ff036b4b-b7f2-4941-bbf3-3a3a3f95d9e8","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:52:25.947Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["c39d4361-bd79-4bfd-a0b8-ac93d8222a03","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:24.908 +00:00","2026-01-15 05:53:24.908 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["c39d4361-bd79-4bfd-a0b8-ac93d8222a03","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:24.908 +00:00","2026-01-15 05:53:24.908 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["c39d4361-bd79-4bfd-a0b8-ac93d8222a03","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:24.908 +00:00","2026-01-15 05:53:24.908 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:53:24"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["c472492d-7778-4017-bc1f-b7ee67e6ed55","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:24.920 +00:00","2026-01-15 05:53:24.920 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["c472492d-7778-4017-bc1f-b7ee67e6ed55","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:24.920 +00:00","2026-01-15 05:53:24.920 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["c472492d-7778-4017-bc1f-b7ee67e6ed55","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:24.920 +00:00","2026-01-15 05:53:24.920 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:53:24"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["3a90a48b-cd91-4659-8f3c-569d8fa0591a","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:24.929 +00:00","2026-01-15 05:53:24.929 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["3a90a48b-cd91-4659-8f3c-569d8fa0591a","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:24.929 +00:00","2026-01-15 05:53:24.929 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["3a90a48b-cd91-4659-8f3c-569d8fa0591a","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:24.929 +00:00","2026-01-15 05:53:24.929 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:53:24"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:53:24"}
{"category":"database","errorId":"5e524d98-883f-4144-b610-05e3c2c06cf5","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:53:24","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":1,"errorId":"5e524d98-883f-4144-b610-05e3c2c06cf5","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:53:24","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"5e524d98-883f-4144-b610-05e3c2c06cf5","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:53:24.961Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:53:24"}
{"category":"database","errorId":"28f75272-b156-4347-8c4e-427e4aa32027","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:53:24","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":2,"errorId":"28f75272-b156-4347-8c4e-427e4aa32027","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:53:24","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"28f75272-b156-4347-8c4e-427e4aa32027","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:53:24.969Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["00367483-3afd-4378-97da-1d77a947291d","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:30.434 +00:00","2026-01-15 05:53:30.434 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["00367483-3afd-4378-97da-1d77a947291d","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:30.434 +00:00","2026-01-15 05:53:30.434 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["00367483-3afd-4378-97da-1d77a947291d","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:30.434 +00:00","2026-01-15 05:53:30.434 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:53:30"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["5414eafd-5245-4e8f-ae41-999808410b37","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:30.444 +00:00","2026-01-15 05:53:30.444 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["5414eafd-5245-4e8f-ae41-999808410b37","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:30.444 +00:00","2026-01-15 05:53:30.444 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["5414eafd-5245-4e8f-ae41-999808410b37","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:30.444 +00:00","2026-01-15 05:53:30.444 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:53:30"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["06553148-b7a7-4a6d-aa66-b38a2c60ebf8","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:30.453 +00:00","2026-01-15 05:53:30.453 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["06553148-b7a7-4a6d-aa66-b38a2c60ebf8","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:30.453 +00:00","2026-01-15 05:53:30.453 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["06553148-b7a7-4a6d-aa66-b38a2c60ebf8","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:53:30.453 +00:00","2026-01-15 05:53:30.453 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:53:30"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:53:30"}
{"category":"database","errorId":"ca839345-d3ee-4eac-a7da-7570597bfe47","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:53:30","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":1,"errorId":"ca839345-d3ee-4eac-a7da-7570597bfe47","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:53:30","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"ca839345-d3ee-4eac-a7da-7570597bfe47","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:53:30.487Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:53:30"}
{"category":"database","errorId":"137af324-eac2-43ac-88a5-a2bfafcd2c03","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:53:30","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":2,"errorId":"137af324-eac2-43ac-88a5-a2bfafcd2c03","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:53:30","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"137af324-eac2-43ac-88a5-a2bfafcd2c03","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:53:30.495Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["9a776798-b321-48d8-857e-8fcbd2bcd104","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:54:24.703 +00:00","2026-01-15 05:54:24.703 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["9a776798-b321-48d8-857e-8fcbd2bcd104","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:54:24.703 +00:00","2026-01-15 05:54:24.703 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["9a776798-b321-48d8-857e-8fcbd2bcd104","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:54:24.703 +00:00","2026-01-15 05:54:24.703 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:54:24"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["bca4a992-80a9-4ab1-a2ea-6aaddfc9b691","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:54:24.729 +00:00","2026-01-15 05:54:24.729 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["bca4a992-80a9-4ab1-a2ea-6aaddfc9b691","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:54:24.729 +00:00","2026-01-15 05:54:24.729 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["bca4a992-80a9-4ab1-a2ea-6aaddfc9b691","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:54:24.729 +00:00","2026-01-15 05:54:24.729 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:54:24"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["fe8206f8-cabb-45e6-959d-2c618faaa6d2","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:54:24.739 +00:00","2026-01-15 05:54:24.739 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["fe8206f8-cabb-45e6-959d-2c618faaa6d2","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:54:24.739 +00:00","2026-01-15 05:54:24.739 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["fe8206f8-cabb-45e6-959d-2c618faaa6d2","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:54:24.739 +00:00","2026-01-15 05:54:24.739 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:54:24"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:54:24"}
{"category":"database","errorId":"2bb30114-20fc-40f6-922f-2b34c75df922","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:54:24","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":1,"errorId":"2bb30114-20fc-40f6-922f-2b34c75df922","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:54:24","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"2bb30114-20fc-40f6-922f-2b34c75df922","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:54:24.774Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:54:24"}
{"category":"database","errorId":"a8fa90ff-383c-4db3-9a47-b26628fa1e99","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:54:24","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":2,"errorId":"a8fa90ff-383c-4db3-9a47-b26628fa1e99","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:54:24","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"a8fa90ff-383c-4db3-9a47-b26628fa1e99","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:54:24.782Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["b2fbd90e-e498-41c6-b390-677a1d5a0745","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:00.620 +00:00","2026-01-15 05:55:00.620 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["b2fbd90e-e498-41c6-b390-677a1d5a0745","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:00.620 +00:00","2026-01-15 05:55:00.620 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["b2fbd90e-e498-41c6-b390-677a1d5a0745","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:00.620 +00:00","2026-01-15 05:55:00.620 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:00"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["f60b07ce-a4d5-449b-987c-eb3ad6e66a34","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:00.632 +00:00","2026-01-15 05:55:00.632 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["f60b07ce-a4d5-449b-987c-eb3ad6e66a34","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:00.632 +00:00","2026-01-15 05:55:00.632 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["f60b07ce-a4d5-449b-987c-eb3ad6e66a34","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:00.632 +00:00","2026-01-15 05:55:00.632 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:00"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["d30e8030-1bb1-440c-9609-05fa3a146ae7","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:00.642 +00:00","2026-01-15 05:55:00.642 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["d30e8030-1bb1-440c-9609-05fa3a146ae7","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:00.642 +00:00","2026-01-15 05:55:00.642 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["d30e8030-1bb1-440c-9609-05fa3a146ae7","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:00.642 +00:00","2026-01-15 05:55:00.642 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:00"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:00"}
{"category":"database","errorId":"9c77e729-fbf6-45e6-b0dc-4cdce532c907","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:00","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":1,"errorId":"9c77e729-fbf6-45e6-b0dc-4cdce532c907","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:55:00","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"9c77e729-fbf6-45e6-b0dc-4cdce532c907","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:55:00.675Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:00"}
{"category":"database","errorId":"fdbdc3e3-55d8-407f-b505-f57f5fee3d6e","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:00","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":2,"errorId":"fdbdc3e3-55d8-407f-b505-f57f5fee3d6e","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:55:00","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"fdbdc3e3-55d8-407f-b505-f57f5fee3d6e","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:55:00.683Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["44525ff4-363b-42d1-9b88-4064759afa57","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:06.520 +00:00","2026-01-15 05:55:06.520 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["44525ff4-363b-42d1-9b88-4064759afa57","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:06.520 +00:00","2026-01-15 05:55:06.520 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["44525ff4-363b-42d1-9b88-4064759afa57","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:06.520 +00:00","2026-01-15 05:55:06.520 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:06"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["32da81ca-aca9-4294-b374-0eeab8bf36ad","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:06.529 +00:00","2026-01-15 05:55:06.529 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["32da81ca-aca9-4294-b374-0eeab8bf36ad","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:06.529 +00:00","2026-01-15 05:55:06.529 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["32da81ca-aca9-4294-b374-0eeab8bf36ad","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:06.529 +00:00","2026-01-15 05:55:06.529 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:06"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["1136643d-7878-41e4-bf9e-c2358a1e9a9e","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:06.538 +00:00","2026-01-15 05:55:06.538 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["1136643d-7878-41e4-bf9e-c2358a1e9a9e","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:06.538 +00:00","2026-01-15 05:55:06.538 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["1136643d-7878-41e4-bf9e-c2358a1e9a9e","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:06.538 +00:00","2026-01-15 05:55:06.538 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:06"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:06"}
{"category":"database","errorId":"b3187e6b-f158-41ee-9ed0-59de657f69ea","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:06","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":1,"errorId":"b3187e6b-f158-41ee-9ed0-59de657f69ea","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:55:06","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"b3187e6b-f158-41ee-9ed0-59de657f69ea","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:55:06.569Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:06"}
{"category":"database","errorId":"bd000d15-37d6-496d-aec7-b157f7255abd","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:06","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":2,"errorId":"bd000d15-37d6-496d-aec7-b157f7255abd","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:55:06","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"bd000d15-37d6-496d-aec7-b157f7255abd","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:55:06.577Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["42e50075-e963-43c4-be11-39d4336a113d","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:17.349 +00:00","2026-01-15 05:55:17.349 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["42e50075-e963-43c4-be11-39d4336a113d","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:17.349 +00:00","2026-01-15 05:55:17.349 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["42e50075-e963-43c4-be11-39d4336a113d","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:17.349 +00:00","2026-01-15 05:55:17.349 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:17"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["b8ee5c70-02c9-4198-8bc2-5a857e956393","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:17.359 +00:00","2026-01-15 05:55:17.359 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["b8ee5c70-02c9-4198-8bc2-5a857e956393","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:17.359 +00:00","2026-01-15 05:55:17.359 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["b8ee5c70-02c9-4198-8bc2-5a857e956393","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:17.359 +00:00","2026-01-15 05:55:17.359 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:17"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["f6a0e4f7-8060-4358-b9c4-27429f7d93cc","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:17.369 +00:00","2026-01-15 05:55:17.369 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["f6a0e4f7-8060-4358-b9c4-27429f7d93cc","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:17.369 +00:00","2026-01-15 05:55:17.369 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["f6a0e4f7-8060-4358-b9c4-27429f7d93cc","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:17.369 +00:00","2026-01-15 05:55:17.369 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:17"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:17"}
{"category":"database","errorId":"93a53d19-80d3-413f-a23b-150c02b9c600","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:17","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":1,"errorId":"93a53d19-80d3-413f-a23b-150c02b9c600","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:55:17","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"93a53d19-80d3-413f-a23b-150c02b9c600","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:55:17.406Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:17"}
{"category":"database","errorId":"08035d72-fb33-4309-8cd5-b5adbeb2f260","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:17","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":2,"errorId":"08035d72-fb33-4309-8cd5-b5adbeb2f260","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:55:17","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"08035d72-fb33-4309-8cd5-b5adbeb2f260","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:55:17.413Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["5eb2bcbb-9f79-4a5c-8fca-4b48a2392e15","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:22.967 +00:00","2026-01-15 05:55:22.967 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["5eb2bcbb-9f79-4a5c-8fca-4b48a2392e15","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:22.967 +00:00","2026-01-15 05:55:22.967 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["5eb2bcbb-9f79-4a5c-8fca-4b48a2392e15","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:22.967 +00:00","2026-01-15 05:55:22.967 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:22"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["26a82a1c-1848-4aed-a653-0a9ca47b4192","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:22.980 +00:00","2026-01-15 05:55:22.980 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["26a82a1c-1848-4aed-a653-0a9ca47b4192","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:22.980 +00:00","2026-01-15 05:55:22.980 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["26a82a1c-1848-4aed-a653-0a9ca47b4192","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:22.980 +00:00","2026-01-15 05:55:22.980 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:22"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["e2d73000-9d3c-42b5-a7ac-8518f64eb661","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:22.992 +00:00","2026-01-15 05:55:22.992 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["e2d73000-9d3c-42b5-a7ac-8518f64eb661","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:22.992 +00:00","2026-01-15 05:55:22.992 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["e2d73000-9d3c-42b5-a7ac-8518f64eb661","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:55:22.992 +00:00","2026-01-15 05:55:22.992 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:55:22"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:23"}
{"category":"database","errorId":"8c34ad88-9b18-4332-8f4e-f09f0fcfbe36","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:23","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":1,"errorId":"8c34ad88-9b18-4332-8f4e-f09f0fcfbe36","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:55:23","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"8c34ad88-9b18-4332-8f4e-f09f0fcfbe36","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:55:23.023Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:23"}
{"category":"database","errorId":"82a15005-cc65-4694-9abf-cb10e5f97efb","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-audit","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:55:23","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorCount":2,"errorId":"82a15005-cc65-4694-9abf-cb10e5f97efb","ip":"::ffff:127.0.0.1","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","statusCode":500,"timestamp":"2026-01-15 00:55:23","type":"database_error","userEmail":"admin@test.com","userId":"00000000-0000-0000-0000-000000000001"}
{"category":"database","errorId":"82a15005-cc65-4694-9abf-cb10e5f97efb","level":"error","message":"Database operation failed","method":"GET","path":"/api/users","service":"cre-crm-app","severity":"CRITICAL","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15T05:55:23.031Z","type":"CRITICAL_ERROR","userId":"00000000-0000-0000-0000-000000000001"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["474f2589-bef6-4e81-a26a-95863cc9392f","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:42.830 +00:00","2026-01-15 05:58:42.830 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["474f2589-bef6-4e81-a26a-95863cc9392f","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:42.830 +00:00","2026-01-15 05:58:42.830 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["474f2589-bef6-4e81-a26a-95863cc9392f","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:42.830 +00:00","2026-01-15 05:58:42.830 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:58:42"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["8dd7fbc8-c6bc-4257-a812-1ef780c38cab","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:42.841 +00:00","2026-01-15 05:58:42.841 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["8dd7fbc8-c6bc-4257-a812-1ef780c38cab","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:42.841 +00:00","2026-01-15 05:58:42.841 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["8dd7fbc8-c6bc-4257-a812-1ef780c38cab","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:42.841 +00:00","2026-01-15 05:58:42.841 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:58:42"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["63972ca3-ec62-429d-987b-488650b2130d","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:42.850 +00:00","2026-01-15 05:58:42.850 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["63972ca3-ec62-429d-987b-488650b2130d","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:42.850 +00:00","2026-01-15 05:58:42.850 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["63972ca3-ec62-429d-987b-488650b2130d","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:42.850 +00:00","2026-01-15 05:58:42.850 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:58:42"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:58:42"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:58:42"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["3adbdca6-f1a7-4f44-8237-64d4d73306f6","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:49.100 +00:00","2026-01-15 05:58:49.100 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["3adbdca6-f1a7-4f44-8237-64d4d73306f6","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:49.100 +00:00","2026-01-15 05:58:49.100 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["3adbdca6-f1a7-4f44-8237-64d4d73306f6","individual","alert(\"xss\")","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:49.100 +00:00","2026-01-15 05:58:49.100 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:58:49"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["c5b6301e-c328-4422-ba80-3b0e47ad20ba","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:49.110 +00:00","2026-01-15 05:58:49.110 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["c5b6301e-c328-4422-ba80-3b0e47ad20ba","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:49.110 +00:00","2026-01-15 05:58:49.110 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["c5b6301e-c328-4422-ba80-3b0e47ad20ba","individual","[removed]","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:49.110 +00:00","2026-01-15 05:58:49.110 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:58:49"}
{"fields":null,"index":"contacts_assigned_agent_id_fkey","level":"error","message":"Create contact error: insert or update on table \"contacts\" violates foreign key constraint \"contacts_assigned_agent_id_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["1fc7e63a-af3d-470f-83d8-b5a19eec4c9d","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:49.118 +00:00","2026-01-15 05:58:49.118 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"parameters":["1fc7e63a-af3d-470f-83d8-b5a19eec4c9d","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:49.118 +00:00","2026-01-15 05:58:49.118 +00:00"],"parent":{"code":"23503","constraint":"contacts_assigned_agent_id_fkey","detail":"Key (assigned_agent_id)=(00000000-0000-0000-0000-000000000003) is not present in table \"users\".","file":"ri_triggers.c","length":319,"line":"2539","name":"error","parameters":["1fc7e63a-af3d-470f-83d8-b5a19eec4c9d","individual","\"&gt;","Test","test@example.com","other","cold","unrated",[],[],"00000000-0000-0000-0000-000000000003","email","as_needed",false,false,false,[],true,"manual","{}","2026-01-15 05:58:49.118 +00:00","2026-01-15 05:58:49.118 +00:00"],"routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","table":"contacts"},"service":"cre-crm-app","sql":"INSERT INTO \"contacts\" (\"id\",\"type\",\"first_name\",\"last_name\",\"primary_email\",\"contact_role\",\"lead_status\",\"credit_rating\",\"property_type_interest\",\"preferred_locations\",\"assigned_agent_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"tags\",\"is_active\",\"source\",\"custom_fields\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"type\",\"first_name\",\"last_name\",\"company_name\",\"title\",\"primary_email\",\"secondary_email\",\"primary_phone\",\"secondary_phone\",\"mobile_phone\",\"fax\",\"website\",\"mailing_address\",\"mailing_city\",\"mailing_state\",\"mailing_zip_code\",\"contact_role\",\"lead_source\",\"lead_status\",\"credit_rating\",\"net_worth\",\"liquidity\",\"property_type_interest\",\"budget_min\",\"budget_max\",\"square_footage_min\",\"square_footage_max\",\"preferred_locations\",\"timeframe\",\"company_id\",\"assigned_agent_id\",\"parent_contact_id\",\"preferred_contact_method\",\"communication_frequency\",\"do_not_call\",\"do_not_email\",\"do_not_text\",\"linked_in_url\",\"facebook_url\",\"twitter_url\",\"notes\",\"tags\",\"last_contact_date\",\"next_follow_up_date\",\"is_active\",\"source\",\"avatar\",\"custom_fields\",\"created_at\",\"updated_at\",\"deleted_at\";","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2305:12)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/contacts.js:329:17","table":"contacts","timestamp":"2026-01-15 00:58:49"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:58:49"}
{"level":"error","message":"Get users error: column \"login_attempts\" does not exist","name":"SequelizeDatabaseError","original":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"parameters":{},"parent":{"code":"42703","file":"parse_relation.c","length":115,"line":"3657","name":"error","position":"385","routine":"errorMissingColumn","severity":"ERROR","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;"},"service":"cre-crm-app","sql":"SELECT \"id\", \"first_name\" AS \"firstName\", \"last_name\" AS \"lastName\", \"email\", \"phone\", \"role\", \"title\", \"department\", \"avatar\", \"license_number\" AS \"licenseNumber\", \"license_state\" AS \"licenseState\", \"commission_rate\" AS \"commissionRate\", \"is_active\" AS \"isActive\", \"last_login\" AS \"lastLogin\", \"email_verified\" AS \"emailVerified\", \"password_reset_expires\" AS \"passwordResetExpires\", \"login_attempts\" AS \"loginAttempts\", \"lock_until\" AS \"lockUntil\", \"last_failed_login\" AS \"lastFailedLogin\", \"preferences\", \"permissions\", \"refresh_token_expiry\" AS \"refreshTokenExpiry\", \"mfa_enabled\" AS \"mfaEnabled\", \"mfa_failed_attempts\" AS \"mfaFailedAttempts\", \"mfa_lock_until\" AS \"mfaLockUntil\", \"deletion_requested\" AS \"deletionRequested\", \"deletion_requested_at\" AS \"deletionRequestedAt\", \"data_export_count\" AS \"dataExportCount\", \"last_data_export\" AS \"lastDataExport\", \"first_run_completed\" AS \"firstRunCompleted\", \"created_at\" AS \"createdAt\", \"updated_at\" AS \"updatedAt\", \"deleted_at\" AS \"deletedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"deleted_at\" IS NULL ORDER BY \"createdAt\" DESC LIMIT 20 OFFSET 0;","stack":"Error: \n    at Query.run (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:1824:21)\n    at async Promise.all (index 1)\n    at Function.findAndCountAll (/Users/max/Desktop/BesaBesa/Besahub/server/node_modules/sequelize/src/model.js:2183:27)\n    at /Users/max/Desktop/BesaBesa/Besahub/server/routes/users.js:69:36","timestamp":"2026-01-15 00:58:49"}
